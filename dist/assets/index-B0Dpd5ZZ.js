var yb=Object.defineProperty;var vb=(t,e,n)=>e in t?yb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sl=(t,e,n)=>vb(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function f1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vf={exports:{}},il={},xf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function xb(){if(py)return Ne;py=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=w&&$[w]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function R($,Q,pe){this.props=$,this.context=Q,this.refs=I,this.updater=pe||T}R.prototype.isReactComponent={},R.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function U(){}U.prototype=R.prototype;function B($,Q,pe){this.props=$,this.context=Q,this.refs=I,this.updater=pe||T}var L=B.prototype=new U;L.constructor=B,S(L,R.prototype),L.isPureReactComponent=!0;var X=Array.isArray,se=Object.prototype.hasOwnProperty,ae={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function E($,Q,pe){var Ee,Se={},Pe=null,Oe=null;if(Q!=null)for(Ee in Q.ref!==void 0&&(Oe=Q.ref),Q.key!==void 0&&(Pe=""+Q.key),Q)se.call(Q,Ee)&&!M.hasOwnProperty(Ee)&&(Se[Ee]=Q[Ee]);var Fe=arguments.length-2;if(Fe===1)Se.children=pe;else if(1<Fe){for(var He=Array(Fe),wt=0;wt<Fe;wt++)He[wt]=arguments[wt+2];Se.children=He}if($&&$.defaultProps)for(Ee in Fe=$.defaultProps,Fe)Se[Ee]===void 0&&(Se[Ee]=Fe[Ee]);return{$$typeof:t,type:$,key:Pe,ref:Oe,props:Se,_owner:ae.current}}function N($,Q){return{$$typeof:t,type:$.type,key:Q,ref:$.ref,props:$.props,_owner:$._owner}}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function O($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(pe){return Q[pe]})}var z=/\/+/g;function j($,Q){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):Q.toString(36)}function Ye($,Q,pe,Ee,Se){var Pe=typeof $;(Pe==="undefined"||Pe==="boolean")&&($=null);var Oe=!1;if($===null)Oe=!0;else switch(Pe){case"string":case"number":Oe=!0;break;case"object":switch($.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=$,Se=Se(Oe),$=Ee===""?"."+j(Oe,0):Ee,X(Se)?(pe="",$!=null&&(pe=$.replace(z,"$&/")+"/"),Ye(Se,Q,pe,"",function(wt){return wt})):Se!=null&&(P(Se)&&(Se=N(Se,pe+(!Se.key||Oe&&Oe.key===Se.key?"":(""+Se.key).replace(z,"$&/")+"/")+$)),Q.push(Se)),1;if(Oe=0,Ee=Ee===""?".":Ee+":",X($))for(var Fe=0;Fe<$.length;Fe++){Pe=$[Fe];var He=Ee+j(Pe,Fe);Oe+=Ye(Pe,Q,pe,He,Se)}else if(He=_($),typeof He=="function")for($=He.call($),Fe=0;!(Pe=$.next()).done;)Pe=Pe.value,He=Ee+j(Pe,Fe++),Oe+=Ye(Pe,Q,pe,He,Se);else if(Pe==="object")throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Nt($,Q,pe){if($==null)return $;var Ee=[],Se=0;return Ye($,Ee,"","",function(Pe){return Q.call(pe,Pe,Se++)}),Ee}function It($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(pe){($._status===0||$._status===-1)&&($._status=1,$._result=pe)},function(pe){($._status===0||$._status===-1)&&($._status=2,$._result=pe)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var be={current:null},re={transition:null},me={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:re,ReactCurrentOwner:ae};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Nt,forEach:function($,Q,pe){Nt($,function(){Q.apply(this,arguments)},pe)},count:function($){var Q=0;return Nt($,function(){Q++}),Q},toArray:function($){return Nt($,function(Q){return Q})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ne.Component=R,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=B,Ne.StrictMode=s,Ne.Suspense=m,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ne.act=oe,Ne.cloneElement=function($,Q,pe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ee=S({},$.props),Se=$.key,Pe=$.ref,Oe=$._owner;if(Q!=null){if(Q.ref!==void 0&&(Pe=Q.ref,Oe=ae.current),Q.key!==void 0&&(Se=""+Q.key),$.type&&$.type.defaultProps)var Fe=$.type.defaultProps;for(He in Q)se.call(Q,He)&&!M.hasOwnProperty(He)&&(Ee[He]=Q[He]===void 0&&Fe!==void 0?Fe[He]:Q[He])}var He=arguments.length-2;if(He===1)Ee.children=pe;else if(1<He){Fe=Array(He);for(var wt=0;wt<He;wt++)Fe[wt]=arguments[wt+2];Ee.children=Fe}return{$$typeof:t,type:$.type,key:Se,ref:Pe,props:Ee,_owner:Oe}},Ne.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ne.createElement=E,Ne.createFactory=function($){var Q=E.bind(null,$);return Q.type=$,Q},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function($){return{$$typeof:f,render:$}},Ne.isValidElement=P,Ne.lazy=function($){return{$$typeof:x,_payload:{_status:-1,_result:$},_init:It}},Ne.memo=function($,Q){return{$$typeof:p,type:$,compare:Q===void 0?null:Q}},Ne.startTransition=function($){var Q=re.transition;re.transition={};try{$()}finally{re.transition=Q}},Ne.unstable_act=oe,Ne.useCallback=function($,Q){return be.current.useCallback($,Q)},Ne.useContext=function($){return be.current.useContext($)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function($){return be.current.useDeferredValue($)},Ne.useEffect=function($,Q){return be.current.useEffect($,Q)},Ne.useId=function(){return be.current.useId()},Ne.useImperativeHandle=function($,Q,pe){return be.current.useImperativeHandle($,Q,pe)},Ne.useInsertionEffect=function($,Q){return be.current.useInsertionEffect($,Q)},Ne.useLayoutEffect=function($,Q){return be.current.useLayoutEffect($,Q)},Ne.useMemo=function($,Q){return be.current.useMemo($,Q)},Ne.useReducer=function($,Q,pe){return be.current.useReducer($,Q,pe)},Ne.useRef=function($){return be.current.useRef($)},Ne.useState=function($){return be.current.useState($)},Ne.useSyncExternalStore=function($,Q,pe){return be.current.useSyncExternalStore($,Q,pe)},Ne.useTransition=function(){return be.current.useTransition()},Ne.version="18.3.1",Ne}var gy;function Bm(){return gy||(gy=1,xf.exports=xb()),xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function wb(){if(yy)return il;yy=1;var t=Bm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,m,p){var x,w={},_=null,T=null;p!==void 0&&(_=""+p),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(T=m.ref);for(x in m)s.call(m,x)&&!a.hasOwnProperty(x)&&(w[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)w[x]===void 0&&(w[x]=m[x]);return{$$typeof:e,type:f,key:_,ref:T,props:w,_owner:o.current}}return il.Fragment=n,il.jsx=u,il.jsxs=u,il}var vy;function kb(){return vy||(vy=1,vf.exports=wb()),vf.exports}var c=kb(),D=Bm();const _b=f1(D);var Tu={},wf={exports:{}},cn={},kf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function bb(){return xy||(xy=1,function(t){function e(re,me){var oe=re.length;re.push(me);e:for(;0<oe;){var $=oe-1>>>1,Q=re[$];if(0<o(Q,me))re[$]=me,re[oe]=Q,oe=$;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var me=re[0],oe=re.pop();if(oe!==me){re[0]=oe;e:for(var $=0,Q=re.length,pe=Q>>>1;$<pe;){var Ee=2*($+1)-1,Se=re[Ee],Pe=Ee+1,Oe=re[Pe];if(0>o(Se,oe))Pe<Q&&0>o(Oe,Se)?(re[$]=Oe,re[Pe]=oe,$=Pe):(re[$]=Se,re[Ee]=oe,$=Ee);else if(Pe<Q&&0>o(Oe,oe))re[$]=Oe,re[Pe]=oe,$=Pe;else break e}}return me}function o(re,me){var oe=re.sortIndex-me.sortIndex;return oe!==0?oe:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],x=1,w=null,_=3,T=!1,S=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(re){for(var me=n(p);me!==null;){if(me.callback===null)s(p);else if(me.startTime<=re)s(p),me.sortIndex=me.expirationTime,e(m,me);else break;me=n(p)}}function X(re){if(I=!1,L(re),!S)if(n(m)!==null)S=!0,It(se);else{var me=n(p);me!==null&&be(X,me.startTime-re)}}function se(re,me){S=!1,I&&(I=!1,U(E),E=-1),T=!0;var oe=_;try{for(L(me),w=n(m);w!==null&&(!(w.expirationTime>me)||re&&!O());){var $=w.callback;if(typeof $=="function"){w.callback=null,_=w.priorityLevel;var Q=$(w.expirationTime<=me);me=t.unstable_now(),typeof Q=="function"?w.callback=Q:w===n(m)&&s(m),L(me)}else s(m);w=n(m)}if(w!==null)var pe=!0;else{var Ee=n(p);Ee!==null&&be(X,Ee.startTime-me),pe=!1}return pe}finally{w=null,_=oe,T=!1}}var ae=!1,M=null,E=-1,N=5,P=-1;function O(){return!(t.unstable_now()-P<N)}function z(){if(M!==null){var re=t.unstable_now();P=re;var me=!0;try{me=M(!0,re)}finally{me?j():(ae=!1,M=null)}}else ae=!1}var j;if(typeof B=="function")j=function(){B(z)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Nt=Ye.port2;Ye.port1.onmessage=z,j=function(){Nt.postMessage(null)}}else j=function(){R(z,0)};function It(re){M=re,ae||(ae=!0,j())}function be(re,me){E=R(function(){re(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,It(se))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(re){switch(_){case 1:case 2:case 3:var me=3;break;default:me=_}var oe=_;_=me;try{return re()}finally{_=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=_;_=re;try{return me()}finally{_=oe}},t.unstable_scheduleCallback=function(re,me,oe){var $=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,re={id:x++,callback:me,priorityLevel:re,startTime:oe,expirationTime:Q,sortIndex:-1},oe>$?(re.sortIndex=oe,e(p,re),n(m)===null&&re===n(p)&&(I?(U(E),E=-1):I=!0,be(X,oe-$))):(re.sortIndex=Q,e(m,re),S||T||(S=!0,It(se))),re},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(re){var me=_;return function(){var oe=_;_=me;try{return re.apply(this,arguments)}finally{_=oe}}}}(_f)),_f}var wy;function Tb(){return wy||(wy=1,kf.exports=bb()),kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function Eb(){if(ky)return cn;ky=1;var t=Bm(),e=Tb();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},w={};function _(r){return m.call(w,r)?!0:m.call(x,r)?!1:p.test(r)?w[r]=!0:(x[r]=!0,!1)}function T(r,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,i,l,h){if(i===null||typeof i>"u"||T(r,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function I(r,i,l,h,g,v,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=v,this.removeEmptyString=b}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new I(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];R[i]=new I(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new I(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new I(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new I(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new I(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new I(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new I(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new I(r,5,!1,r.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function B(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(U,B);R[i]=new I(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(U,B);R[i]=new I(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(U,B);R[i]=new I(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new I(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new I(r,1,!1,r.toLowerCase(),null,!0,!0)});function L(r,i,l,h){var g=R.hasOwnProperty(i)?R[i]:null;(g!==null?g.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,l,g,h)&&(l=null),h||g===null?_(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(i=g.attributeName,h=g.attributeNamespace,l===null?r.removeAttribute(i):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,h?r.setAttributeNS(h,i,l):r.setAttribute(i,l))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),ae=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,$;function Q(r){if($===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);$=i&&i[1]||""}return`
`+$+r}var pe=!1;function Ee(r,i){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(K){var h=K}Reflect.construct(r,[],i)}else{try{i.call()}catch(K){h=K}r.call(i.prototype)}else{try{throw Error()}catch(K){h=K}r()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),v=h.stack.split(`
`),b=g.length-1,A=v.length-1;1<=b&&0<=A&&g[b]!==v[A];)A--;for(;1<=b&&0<=A;b--,A--)if(g[b]!==v[A]){if(b!==1||A!==1)do if(b--,A--,0>A||g[b]!==v[A]){var V=`
`+g[b].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=b&&0<=A);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Q(r):""}function Se(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Ee(r.type,!1),r;case 11:return r=Ee(r.type.render,!1),r;case 1:return r=Ee(r.type,!0),r;default:return""}}function Pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case ae:return"Portal";case N:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case Ye:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case z:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Nt:return i=r.displayName||null,i!==null?i:Pe(r.type)||"Memo";case It:i=r._payload,r=r._init;try{return Pe(r(i))}catch{}}return null}function Oe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(i);case 8:return i===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(r){var i=He(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(b){h=""+b,v.call(this,b)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Nr(r){r._valueTracker||(r._valueTracker=wt(r))}function zi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return r&&(h=He(r)?r.checked?"true":"false":r.value),r=h,r!==l?(i.setValue(r),!0):!1}function ts(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ws(r,i){var l=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function $i(r,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=Fe(i.value!=null?i.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ua(r,i){i=i.checked,i!=null&&L(r,"checked",i,!1)}function da(r,i){ua(r,i);var l=Fe(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Hi(r,i.type,l):i.hasOwnProperty("defaultValue")&&Hi(r,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function cc(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Hi(r,i,l){(i!=="number"||ts(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ir=Array.isArray;function Ar(r,i,l,h){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Fe(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function ha(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Wi(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Ir(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Fe(l)}}function qi(r,i){var l=Fe(i.value),h=Fe(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function fa(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var jr,ma=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,g){MSApp.execUnsafeLocalFunction(function(){return r(i,l,h,g)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=jr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ns(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ks=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(r){Ks.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),qs[i]=qs[r]})});function pa(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||qs.hasOwnProperty(r)&&qs[r]?(""+i).trim():i+"px"}function ga(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,g=pa(l,i[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,g):r[l]=g}}var ya=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(r,i){if(i){if(ya[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function xa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function Ki(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gi=null,bn=null,sr=null;function Qi(r){if(r=$a(r)){if(typeof Gi!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Fc(i),Gi(r.stateNode,r.type,i))}}function ir(r){bn?sr?sr.push(r):sr=[r]:bn=r}function wa(){if(bn){var r=bn,i=sr;if(sr=bn=null,Qi(r),i)for(r=0;r<i.length;r++)Qi(i[r])}}function Qs(r,i){return r(i)}function ka(){}var Pr=!1;function _a(r,i,l){if(Pr)return r(i,l);Pr=!0;try{return Qs(r,i,l)}finally{Pr=!1,(bn!==null||sr!==null)&&(ka(),wa())}}function lt(r,i){var l=r.stateNode;if(l===null)return null;var h=Fc(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Yi=!1;if(f)try{var On={};Object.defineProperty(On,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Yi=!1}function Ys(r,i,l,h,g,v,b,A,V){var K=Array.prototype.slice.call(arguments,3);try{i.apply(l,K)}catch(Z){this.onError(Z)}}var Xs=!1,Xi=null,Fn=!1,ba=null,Wd={onError:function(r){Xs=!0,Xi=r}};function Ji(r,i,l,h,g,v,b,A,V){Xs=!1,Xi=null,Ys.apply(Wd,arguments)}function uc(r,i,l,h,g,v,b,A,V){if(Ji.apply(this,arguments),Xs){if(Xs){var K=Xi;Xs=!1,Xi=null}else throw Error(n(198));Fn||(Fn=!0,ba=K)}}function Un(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Js(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Bn(r){if(Un(r)!==r)throw Error(n(188))}function dc(r){var i=r.alternate;if(!i){if(i=Un(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,h=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return Bn(g),r;if(v===h)return Bn(g),i;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=g,h=v;else{for(var b=!1,A=g.child;A;){if(A===l){b=!0,l=g,h=v;break}if(A===h){b=!0,h=g,l=v;break}A=A.sibling}if(!b){for(A=v.child;A;){if(A===l){b=!0,l=v,h=g;break}if(A===h){b=!0,h=v,l=g;break}A=A.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function Ta(r){return r=dc(r),r!==null?Zi(r):null}function Zi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Zi(r);if(i!==null)return i;r=r.sibling}return null}var eo=e.unstable_scheduleCallback,Ea=e.unstable_cancelCallback,hc=e.unstable_shouldYield,qd=e.unstable_requestPaint,We=e.unstable_now,fc=e.unstable_getCurrentPriorityLevel,Zs=e.unstable_ImmediatePriority,rs=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,Ca=e.unstable_LowPriority,mc=e.unstable_IdlePriority,ei=null,fn=null;function pc(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ei,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:yc,Sa=Math.log,gc=Math.LN2;function yc(r){return r>>>=0,r===0?32:31-(Sa(r)/gc|0)|0}var to=64,no=4194304;function ss(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ti(r,i){var l=r.pendingLanes;if(l===0)return 0;var h=0,g=r.suspendedLanes,v=r.pingedLanes,b=l&268435455;if(b!==0){var A=b&~g;A!==0?h=ss(A):(v&=b,v!==0&&(h=ss(v)))}else b=l&~g,b!==0?h=ss(b):v!==0&&(h=ss(v));if(h===0)return 0;if(i!==0&&i!==h&&(i&g)===0&&(g=h&-h,v=i&-i,g>=v||g===16&&(v&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)l=31-Yt(i),g=1<<l,h|=r[l],i&=~g;return h}function Kd(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(r,i){for(var l=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes;0<v;){var b=31-Yt(v),A=1<<b,V=g[b];V===-1?((A&l)===0||(A&h)!==0)&&(g[b]=Kd(A,i)):V<=i&&(r.expiredLanes|=A),v&=~A}}function mn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ni(){var r=to;return to<<=1,(to&4194240)===0&&(to=64),r}function is(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function os(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Yt(i),r[i]=l}function $e(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-Yt(l),v=1<<g;i[g]=0,h[g]=-1,r[g]=-1,l&=~v}}function as(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var h=31-Yt(l),g=1<<h;g&i|r[h]&i&&(r[h]|=i),l&=~g}}var je=0;function ls(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var vc,ro,xc,wc,kc,Na=!1,or=[],At=null,zn=null,$n=null,cs=new Map,En=new Map,ar=[],Gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _c(r,i){switch(r){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":cs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(i.pointerId)}}function tn(r,i,l,h,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},i!==null&&(i=$a(i),i!==null&&ro(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function Qd(r,i,l,h,g){switch(i){case"focusin":return At=tn(At,r,i,l,h,g),!0;case"dragenter":return zn=tn(zn,r,i,l,h,g),!0;case"mouseover":return $n=tn($n,r,i,l,h,g),!0;case"pointerover":var v=g.pointerId;return cs.set(v,tn(cs.get(v)||null,r,i,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,En.set(v,tn(En.get(v)||null,r,i,l,h,g)),!0}return!1}function bc(r){var i=ai(r.target);if(i!==null){var l=Un(i);if(l!==null){if(i=l.tag,i===13){if(i=Js(l),i!==null){r.blockedOn=i,kc(r.priority,function(){xc(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=so(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Gs=h,l.target.dispatchEvent(h),Gs=null}else return i=$a(l),i!==null&&ro(i),r.blockedOn=l,!1;i.shift()}return!0}function ri(r,i,l){Dr(r)&&l.delete(i)}function Tc(){Na=!1,At!==null&&Dr(At)&&(At=null),zn!==null&&Dr(zn)&&(zn=null),$n!==null&&Dr($n)&&($n=null),cs.forEach(ri),En.forEach(ri)}function Hn(r,i){r.blockedOn===i&&(r.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tc)))}function Wn(r){function i(g){return Hn(g,r)}if(0<or.length){Hn(or[0],r);for(var l=1;l<or.length;l++){var h=or[l];h.blockedOn===r&&(h.blockedOn=null)}}for(At!==null&&Hn(At,r),zn!==null&&Hn(zn,r),$n!==null&&Hn($n,r),cs.forEach(i),En.forEach(i),l=0;l<ar.length;l++)h=ar[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<ar.length&&(l=ar[0],l.blockedOn===null);)bc(l),l.blockedOn===null&&ar.shift()}var Mr=X.ReactCurrentBatchConfig,us=!0;function Xe(r,i,l,h){var g=je,v=Mr.transition;Mr.transition=null;try{je=1,Ia(r,i,l,h)}finally{je=g,Mr.transition=v}}function Yd(r,i,l,h){var g=je,v=Mr.transition;Mr.transition=null;try{je=4,Ia(r,i,l,h)}finally{je=g,Mr.transition=v}}function Ia(r,i,l,h){if(us){var g=so(r,i,l,h);if(g===null)ah(r,i,h,si,l),_c(r,h);else if(Qd(g,r,i,l,h))h.stopPropagation();else if(_c(r,h),i&4&&-1<Gd.indexOf(r)){for(;g!==null;){var v=$a(g);if(v!==null&&vc(v),v=so(r,i,l,h),v===null&&ah(r,i,h,si,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else ah(r,i,h,null,l)}}var si=null;function so(r,i,l,h){if(si=null,r=Ki(h),r=ai(r),r!==null)if(i=Un(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Js(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return si=r,null}function Aa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fc()){case Zs:return 1;case rs:return 4;case Tn:case Ca:return 16;case mc:return 536870912;default:return 16}default:return 16}}var pn=null,io=null,nn=null;function ja(){if(nn)return nn;var r,i=io,l=i.length,h,g="value"in pn?pn.value:pn.textContent,v=g.length;for(r=0;r<l&&i[r]===g[r];r++);var b=l-r;for(h=1;h<=b&&i[l-h]===g[v-h];h++);return nn=g.slice(r,1<h?1-h:void 0)}function oo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function lr(){return!0}function Pa(){return!1}function jt(r){function i(l,h,g,v,b){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?lr:Pa,this.isPropagationStopped=Pa,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),i}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=jt(qn),cr=oe({},qn,{view:0,detail:0}),Xd=jt(cr),lo,Lr,ds,ii=oe({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ds&&(ds&&r.type==="mousemove"?(lo=r.screenX-ds.screenX,Lr=r.screenY-ds.screenY):Lr=lo=0,ds=r),lo)},movementY:function(r){return"movementY"in r?r.movementY:Lr}}),co=jt(ii),Ra=oe({},ii,{dataTransfer:0}),Ec=jt(Ra),uo=oe({},cr,{relatedTarget:0}),ho=jt(uo),Cc=oe({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vr=jt(Cc),Sc=oe({},qn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Nc=jt(Sc),Ic=oe({},qn,{data:0}),Da=jt(Ic),fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ac[r])?!!i[r]:!1}function ur(){return jc}var d=oe({},cr,{key:function(r){if(r.key){var i=fo[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=oo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(r){return r.type==="keypress"?oo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),y=jt(d),k=oe({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=jt(k),H=oe({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),G=jt(H),ie=oe({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=jt(ie),yt=oe({},ii,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=jt(yt),kt=[9,13,27,32],dt=f&&"CompositionEvent"in window,Cn=null;f&&"documentMode"in document&&(Cn=document.documentMode);var gn=f&&"TextEvent"in window&&!Cn,oi=f&&(!dt||Cn&&8<Cn&&11>=Cn),mo=" ",c0=!1;function u0(r,i){switch(r){case"keyup":return kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var po=!1;function m_(r,i){switch(r){case"compositionend":return d0(i);case"keypress":return i.which!==32?null:(c0=!0,mo);case"textInput":return r=i.data,r===mo&&c0?null:r;default:return null}}function p_(r,i){if(po)return r==="compositionend"||!dt&&u0(r,i)?(r=ja(),nn=io=pn=null,po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oi&&i.locale!=="ko"?null:i.data;default:return null}}var g_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h0(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!g_[r.type]:i==="textarea"}function f0(r,i,l,h){ir(h),i=Lc(i,"onChange"),0<i.length&&(l=new ao("onChange","change",null,l,h),r.push({event:l,listeners:i}))}var Ma=null,La=null;function y_(r){j0(r,0)}function Pc(r){var i=wo(r);if(zi(i))return r}function v_(r,i){if(r==="change")return i}var m0=!1;if(f){var Jd;if(f){var Zd="oninput"in document;if(!Zd){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),Zd=typeof p0.oninput=="function"}Jd=Zd}else Jd=!1;m0=Jd&&(!document.documentMode||9<document.documentMode)}function g0(){Ma&&(Ma.detachEvent("onpropertychange",y0),La=Ma=null)}function y0(r){if(r.propertyName==="value"&&Pc(La)){var i=[];f0(i,La,r,Ki(r)),_a(y_,i)}}function x_(r,i,l){r==="focusin"?(g0(),Ma=i,La=l,Ma.attachEvent("onpropertychange",y0)):r==="focusout"&&g0()}function w_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pc(La)}function k_(r,i){if(r==="click")return Pc(i)}function __(r,i){if(r==="input"||r==="change")return Pc(i)}function b_(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Kn=typeof Object.is=="function"?Object.is:b_;function Va(r,i){if(Kn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!m.call(i,g)||!Kn(r[g],i[g]))return!1}return!0}function v0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function x0(r,i){var l=v0(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=i&&h>=i)return{node:l,offset:i-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=v0(l)}}function w0(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?w0(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function k0(){for(var r=window,i=ts();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=ts(r.document)}return i}function eh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function T_(r){var i=k0(),l=r.focusedElem,h=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&w0(l.ownerDocument.documentElement,l)){if(h!==null&&eh(l)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,v=Math.min(h.start,g);h=h.end===void 0?v:Math.min(h.end,g),!r.extend&&v>h&&(g=h,h=v,v=g),g=x0(l,v);var b=x0(l,h);g&&b&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),r.removeAllRanges(),v>h?(r.addRange(i),r.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var E_=f&&"documentMode"in document&&11>=document.documentMode,go=null,th=null,Oa=null,nh=!1;function _0(r,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nh||go==null||go!==ts(h)||(h=go,"selectionStart"in h&&eh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Oa&&Va(Oa,h)||(Oa=h,h=Lc(th,"onSelect"),0<h.length&&(i=new ao("onSelect","select",null,i,l),r.push({event:i,listeners:h}),i.target=go)))}function Rc(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var yo={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},rh={},b0={};f&&(b0=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Dc(r){if(rh[r])return rh[r];if(!yo[r])return r;var i=yo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in b0)return rh[r]=i[l];return r}var T0=Dc("animationend"),E0=Dc("animationiteration"),C0=Dc("animationstart"),S0=Dc("transitionend"),N0=new Map,I0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(r,i){N0.set(r,i),a(i,[r])}for(var sh=0;sh<I0.length;sh++){var ih=I0[sh],C_=ih.toLowerCase(),S_=ih[0].toUpperCase()+ih.slice(1);hs(C_,"on"+S_)}hs(T0,"onAnimationEnd"),hs(E0,"onAnimationIteration"),hs(C0,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(S0,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function A0(r,i,l){var h=r.type||"unknown-event";r.currentTarget=l,uc(h,i,void 0,r),r.currentTarget=null}function j0(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],g=h.event;h=h.listeners;e:{var v=void 0;if(i)for(var b=h.length-1;0<=b;b--){var A=h[b],V=A.instance,K=A.currentTarget;if(A=A.listener,V!==v&&g.isPropagationStopped())break e;A0(g,A,K),v=V}else for(b=0;b<h.length;b++){if(A=h[b],V=A.instance,K=A.currentTarget,A=A.listener,V!==v&&g.isPropagationStopped())break e;A0(g,A,K),v=V}}}if(Fn)throw r=ba,Fn=!1,ba=null,r}function Ge(r,i){var l=i[fh];l===void 0&&(l=i[fh]=new Set);var h=r+"__bubble";l.has(h)||(P0(i,r,2,!1),l.add(h))}function oh(r,i,l){var h=0;i&&(h|=4),P0(l,r,h,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Ua(r){if(!r[Mc]){r[Mc]=!0,s.forEach(function(l){l!=="selectionchange"&&(N_.has(l)||oh(l,!1,r),oh(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,oh("selectionchange",!1,i))}}function P0(r,i,l,h){switch(Aa(i)){case 1:var g=Xe;break;case 4:g=Yd;break;default:g=Ia}l=g.bind(null,i,l,r),g=void 0,!Yi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function ah(r,i,l,h,g){var v=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var A=h.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(b===4)for(b=h.return;b!==null;){var V=b.tag;if((V===3||V===4)&&(V=b.stateNode.containerInfo,V===g||V.nodeType===8&&V.parentNode===g))return;b=b.return}for(;A!==null;){if(b=ai(A),b===null)return;if(V=b.tag,V===5||V===6){h=v=b;continue e}A=A.parentNode}}h=h.return}_a(function(){var K=v,Z=Ki(l),ee=[];e:{var J=N0.get(r);if(J!==void 0){var le=ao,ue=r;switch(r){case"keypress":if(oo(l)===0)break e;case"keydown":case"keyup":le=y;break;case"focusin":ue="focus",le=ho;break;case"focusout":ue="blur",le=ho;break;case"beforeblur":case"afterblur":le=ho;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=G;break;case T0:case E0:case C0:le=Vr;break;case S0:le=Be;break;case"scroll":le=Xd;break;case"wheel":le=Re;break;case"copy":case"cut":case"paste":le=Nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=C}var de=(i&4)!==0,ct=!de&&r==="scroll",W=de?J!==null?J+"Capture":null:J;de=[];for(var F=K,q;F!==null;){q=F;var ne=q.stateNode;if(q.tag===5&&ne!==null&&(q=ne,W!==null&&(ne=lt(F,W),ne!=null&&de.push(Ba(F,ne,q)))),ct)break;F=F.return}0<de.length&&(J=new le(J,ue,null,l,Z),ee.push({event:J,listeners:de}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",J&&l!==Gs&&(ue=l.relatedTarget||l.fromElement)&&(ai(ue)||ue[Or]))break e;if((le||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,le?(ue=l.relatedTarget||l.toElement,le=K,ue=ue?ai(ue):null,ue!==null&&(ct=Un(ue),ue!==ct||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(le=null,ue=K),le!==ue)){if(de=co,ne="onMouseLeave",W="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(de=C,ne="onPointerLeave",W="onPointerEnter",F="pointer"),ct=le==null?J:wo(le),q=ue==null?J:wo(ue),J=new de(ne,F+"leave",le,l,Z),J.target=ct,J.relatedTarget=q,ne=null,ai(Z)===K&&(de=new de(W,F+"enter",ue,l,Z),de.target=q,de.relatedTarget=ct,ne=de),ct=ne,le&&ue)t:{for(de=le,W=ue,F=0,q=de;q;q=vo(q))F++;for(q=0,ne=W;ne;ne=vo(ne))q++;for(;0<F-q;)de=vo(de),F--;for(;0<q-F;)W=vo(W),q--;for(;F--;){if(de===W||W!==null&&de===W.alternate)break t;de=vo(de),W=vo(W)}de=null}else de=null;le!==null&&R0(ee,J,le,de,!1),ue!==null&&ct!==null&&R0(ee,ct,ue,de,!0)}}e:{if(J=K?wo(K):window,le=J.nodeName&&J.nodeName.toLowerCase(),le==="select"||le==="input"&&J.type==="file")var fe=v_;else if(h0(J))if(m0)fe=__;else{fe=w_;var ge=x_}else(le=J.nodeName)&&le.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(fe=k_);if(fe&&(fe=fe(r,K))){f0(ee,fe,l,Z);break e}ge&&ge(r,J,K),r==="focusout"&&(ge=J._wrapperState)&&ge.controlled&&J.type==="number"&&Hi(J,"number",J.value)}switch(ge=K?wo(K):window,r){case"focusin":(h0(ge)||ge.contentEditable==="true")&&(go=ge,th=K,Oa=null);break;case"focusout":Oa=th=go=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,_0(ee,l,Z);break;case"selectionchange":if(E_)break;case"keydown":case"keyup":_0(ee,l,Z)}var ye;if(dt)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else po?u0(r,l)&&(we="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(oi&&l.locale!=="ko"&&(po||we!=="onCompositionStart"?we==="onCompositionEnd"&&po&&(ye=ja()):(pn=Z,io="value"in pn?pn.value:pn.textContent,po=!0)),ge=Lc(K,we),0<ge.length&&(we=new Da(we,r,null,l,Z),ee.push({event:we,listeners:ge}),ye?we.data=ye:(ye=d0(l),ye!==null&&(we.data=ye)))),(ye=gn?m_(r,l):p_(r,l))&&(K=Lc(K,"onBeforeInput"),0<K.length&&(Z=new Da("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:K}),Z.data=ye))}j0(ee,i)})}function Ba(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Lc(r,i){for(var l=i+"Capture",h=[];r!==null;){var g=r,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=lt(r,l),v!=null&&h.unshift(Ba(r,v,g)),v=lt(r,i),v!=null&&h.push(Ba(r,v,g))),r=r.return}return h}function vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function R0(r,i,l,h,g){for(var v=i._reactName,b=[];l!==null&&l!==h;){var A=l,V=A.alternate,K=A.stateNode;if(V!==null&&V===h)break;A.tag===5&&K!==null&&(A=K,g?(V=lt(l,v),V!=null&&b.unshift(Ba(l,V,A))):g||(V=lt(l,v),V!=null&&b.push(Ba(l,V,A)))),l=l.return}b.length!==0&&r.push({event:i,listeners:b})}var I_=/\r\n?/g,A_=/\u0000|\uFFFD/g;function D0(r){return(typeof r=="string"?r:""+r).replace(I_,`
`).replace(A_,"")}function Vc(r,i,l){if(i=D0(i),D0(r)!==i&&l)throw Error(n(425))}function Oc(){}var lh=null,ch=null;function uh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,j_=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(r){return M0.resolve(null).then(r).catch(R_)}:dh;function R_(r){setTimeout(function(){throw r})}function hh(r,i){var l=i,h=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(h===0){r.removeChild(g),Wn(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=g}while(l);Wn(i)}function fs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function L0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var xo=Math.random().toString(36).slice(2),dr="__reactFiber$"+xo,za="__reactProps$"+xo,Or="__reactContainer$"+xo,fh="__reactEvents$"+xo,D_="__reactListeners$"+xo,M_="__reactHandles$"+xo;function ai(r){var i=r[dr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Or]||l[dr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=L0(r);r!==null;){if(l=r[dr])return l;r=L0(r)}return i}r=l,l=r.parentNode}return null}function $a(r){return r=r[dr]||r[Or],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Fc(r){return r[za]||null}var mh=[],ko=-1;function ms(r){return{current:r}}function Qe(r){0>ko||(r.current=mh[ko],mh[ko]=null,ko--)}function qe(r,i){ko++,mh[ko]=r.current,r.current=i}var ps={},Ft=ms(ps),rn=ms(!1),li=ps;function _o(r,i){var l=r.type.contextTypes;if(!l)return ps;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=i[v];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=g),g}function sn(r){return r=r.childContextTypes,r!=null}function Uc(){Qe(rn),Qe(Ft)}function V0(r,i,l){if(Ft.current!==ps)throw Error(n(168));qe(Ft,i),qe(rn,l)}function O0(r,i,l){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var g in h)if(!(g in i))throw Error(n(108,Oe(r)||"Unknown",g));return oe({},l,h)}function Bc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ps,li=Ft.current,qe(Ft,r),qe(rn,rn.current),!0}function F0(r,i,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=O0(r,i,li),h.__reactInternalMemoizedMergedChildContext=r,Qe(rn),Qe(Ft),qe(Ft,r)):Qe(rn),qe(rn,l)}var Fr=null,zc=!1,ph=!1;function U0(r){Fr===null?Fr=[r]:Fr.push(r)}function L_(r){zc=!0,U0(r)}function gs(){if(!ph&&Fr!==null){ph=!0;var r=0,i=je;try{var l=Fr;for(je=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Fr=null,zc=!1}catch(g){throw Fr!==null&&(Fr=Fr.slice(r+1)),eo(Zs,gs),g}finally{je=i,ph=!1}}return null}var bo=[],To=0,$c=null,Hc=0,Sn=[],Nn=0,ci=null,Ur=1,Br="";function ui(r,i){bo[To++]=Hc,bo[To++]=$c,$c=r,Hc=i}function B0(r,i,l){Sn[Nn++]=Ur,Sn[Nn++]=Br,Sn[Nn++]=ci,ci=r;var h=Ur;r=Br;var g=32-Yt(h)-1;h&=~(1<<g),l+=1;var v=32-Yt(i)+g;if(30<v){var b=g-g%5;v=(h&(1<<b)-1).toString(32),h>>=b,g-=b,Ur=1<<32-Yt(i)+g|l<<g|h,Br=v+r}else Ur=1<<v|l<<g|h,Br=r}function gh(r){r.return!==null&&(ui(r,1),B0(r,1,0))}function yh(r){for(;r===$c;)$c=bo[--To],bo[To]=null,Hc=bo[--To],bo[To]=null;for(;r===ci;)ci=Sn[--Nn],Sn[Nn]=null,Br=Sn[--Nn],Sn[Nn]=null,Ur=Sn[--Nn],Sn[Nn]=null}var yn=null,vn=null,Je=!1,Gn=null;function z0(r,i){var l=Pn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function $0(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,yn=r,vn=fs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,yn=r,vn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ci!==null?{id:Ur,overflow:Br}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Pn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,yn=r,vn=null,!0):!1;default:return!1}}function vh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xh(r){if(Je){var i=vn;if(i){var l=i;if(!$0(r,i)){if(vh(r))throw Error(n(418));i=fs(l.nextSibling);var h=yn;i&&$0(r,i)?z0(h,l):(r.flags=r.flags&-4097|2,Je=!1,yn=r)}}else{if(vh(r))throw Error(n(418));r.flags=r.flags&-4097|2,Je=!1,yn=r}}}function H0(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function Wc(r){if(r!==yn)return!1;if(!Je)return H0(r),Je=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!uh(r.type,r.memoizedProps)),i&&(i=vn)){if(vh(r))throw W0(),Error(n(418));for(;i;)z0(r,i),i=fs(i.nextSibling)}if(H0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){vn=fs(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}vn=null}}else vn=yn?fs(r.stateNode.nextSibling):null;return!0}function W0(){for(var r=vn;r;)r=fs(r.nextSibling)}function Eo(){vn=yn=null,Je=!1}function wh(r){Gn===null?Gn=[r]:Gn.push(r)}var V_=X.ReactCurrentBatchConfig;function Ha(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var g=h,v=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(b){var A=g.refs;b===null?delete A[v]:A[v]=b},i._stringRef=v,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function qc(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function q0(r){var i=r._init;return i(r._payload)}function K0(r){function i(W,F){if(r){var q=W.deletions;q===null?(W.deletions=[F],W.flags|=16):q.push(F)}}function l(W,F){if(!r)return null;for(;F!==null;)i(W,F),F=F.sibling;return null}function h(W,F){for(W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function g(W,F){return W=Ts(W,F),W.index=0,W.sibling=null,W}function v(W,F,q){return W.index=q,r?(q=W.alternate,q!==null?(q=q.index,q<F?(W.flags|=2,F):q):(W.flags|=2,F)):(W.flags|=1048576,F)}function b(W){return r&&W.alternate===null&&(W.flags|=2),W}function A(W,F,q,ne){return F===null||F.tag!==6?(F=hf(q,W.mode,ne),F.return=W,F):(F=g(F,q),F.return=W,F)}function V(W,F,q,ne){var fe=q.type;return fe===M?Z(W,F,q.props.children,ne,q.key):F!==null&&(F.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===It&&q0(fe)===F.type)?(ne=g(F,q.props),ne.ref=Ha(W,F,q),ne.return=W,ne):(ne=gu(q.type,q.key,q.props,null,W.mode,ne),ne.ref=Ha(W,F,q),ne.return=W,ne)}function K(W,F,q,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=ff(q,W.mode,ne),F.return=W,F):(F=g(F,q.children||[]),F.return=W,F)}function Z(W,F,q,ne,fe){return F===null||F.tag!==7?(F=vi(q,W.mode,ne,fe),F.return=W,F):(F=g(F,q),F.return=W,F)}function ee(W,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=hf(""+F,W.mode,q),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case se:return q=gu(F.type,F.key,F.props,null,W.mode,q),q.ref=Ha(W,null,F),q.return=W,q;case ae:return F=ff(F,W.mode,q),F.return=W,F;case It:var ne=F._init;return ee(W,ne(F._payload),q)}if(Ir(F)||me(F))return F=vi(F,W.mode,q,null),F.return=W,F;qc(W,F)}return null}function J(W,F,q,ne){var fe=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return fe!==null?null:A(W,F,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case se:return q.key===fe?V(W,F,q,ne):null;case ae:return q.key===fe?K(W,F,q,ne):null;case It:return fe=q._init,J(W,F,fe(q._payload),ne)}if(Ir(q)||me(q))return fe!==null?null:Z(W,F,q,ne,null);qc(W,q)}return null}function le(W,F,q,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return W=W.get(q)||null,A(F,W,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case se:return W=W.get(ne.key===null?q:ne.key)||null,V(F,W,ne,fe);case ae:return W=W.get(ne.key===null?q:ne.key)||null,K(F,W,ne,fe);case It:var ge=ne._init;return le(W,F,q,ge(ne._payload),fe)}if(Ir(ne)||me(ne))return W=W.get(q)||null,Z(F,W,ne,fe,null);qc(F,ne)}return null}function ue(W,F,q,ne){for(var fe=null,ge=null,ye=F,we=F=0,Tt=null;ye!==null&&we<q.length;we++){ye.index>we?(Tt=ye,ye=null):Tt=ye.sibling;var Ve=J(W,ye,q[we],ne);if(Ve===null){ye===null&&(ye=Tt);break}r&&ye&&Ve.alternate===null&&i(W,ye),F=v(Ve,F,we),ge===null?fe=Ve:ge.sibling=Ve,ge=Ve,ye=Tt}if(we===q.length)return l(W,ye),Je&&ui(W,we),fe;if(ye===null){for(;we<q.length;we++)ye=ee(W,q[we],ne),ye!==null&&(F=v(ye,F,we),ge===null?fe=ye:ge.sibling=ye,ge=ye);return Je&&ui(W,we),fe}for(ye=h(W,ye);we<q.length;we++)Tt=le(ye,W,we,q[we],ne),Tt!==null&&(r&&Tt.alternate!==null&&ye.delete(Tt.key===null?we:Tt.key),F=v(Tt,F,we),ge===null?fe=Tt:ge.sibling=Tt,ge=Tt);return r&&ye.forEach(function(Es){return i(W,Es)}),Je&&ui(W,we),fe}function de(W,F,q,ne){var fe=me(q);if(typeof fe!="function")throw Error(n(150));if(q=fe.call(q),q==null)throw Error(n(151));for(var ge=fe=null,ye=F,we=F=0,Tt=null,Ve=q.next();ye!==null&&!Ve.done;we++,Ve=q.next()){ye.index>we?(Tt=ye,ye=null):Tt=ye.sibling;var Es=J(W,ye,Ve.value,ne);if(Es===null){ye===null&&(ye=Tt);break}r&&ye&&Es.alternate===null&&i(W,ye),F=v(Es,F,we),ge===null?fe=Es:ge.sibling=Es,ge=Es,ye=Tt}if(Ve.done)return l(W,ye),Je&&ui(W,we),fe;if(ye===null){for(;!Ve.done;we++,Ve=q.next())Ve=ee(W,Ve.value,ne),Ve!==null&&(F=v(Ve,F,we),ge===null?fe=Ve:ge.sibling=Ve,ge=Ve);return Je&&ui(W,we),fe}for(ye=h(W,ye);!Ve.done;we++,Ve=q.next())Ve=le(ye,W,we,Ve.value,ne),Ve!==null&&(r&&Ve.alternate!==null&&ye.delete(Ve.key===null?we:Ve.key),F=v(Ve,F,we),ge===null?fe=Ve:ge.sibling=Ve,ge=Ve);return r&&ye.forEach(function(gb){return i(W,gb)}),Je&&ui(W,we),fe}function ct(W,F,q,ne){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case se:e:{for(var fe=q.key,ge=F;ge!==null;){if(ge.key===fe){if(fe=q.type,fe===M){if(ge.tag===7){l(W,ge.sibling),F=g(ge,q.props.children),F.return=W,W=F;break e}}else if(ge.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===It&&q0(fe)===ge.type){l(W,ge.sibling),F=g(ge,q.props),F.ref=Ha(W,ge,q),F.return=W,W=F;break e}l(W,ge);break}else i(W,ge);ge=ge.sibling}q.type===M?(F=vi(q.props.children,W.mode,ne,q.key),F.return=W,W=F):(ne=gu(q.type,q.key,q.props,null,W.mode,ne),ne.ref=Ha(W,F,q),ne.return=W,W=ne)}return b(W);case ae:e:{for(ge=q.key;F!==null;){if(F.key===ge)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(W,F.sibling),F=g(F,q.children||[]),F.return=W,W=F;break e}else{l(W,F);break}else i(W,F);F=F.sibling}F=ff(q,W.mode,ne),F.return=W,W=F}return b(W);case It:return ge=q._init,ct(W,F,ge(q._payload),ne)}if(Ir(q))return ue(W,F,q,ne);if(me(q))return de(W,F,q,ne);qc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(l(W,F.sibling),F=g(F,q),F.return=W,W=F):(l(W,F),F=hf(q,W.mode,ne),F.return=W,W=F),b(W)):l(W,F)}return ct}var Co=K0(!0),G0=K0(!1),Kc=ms(null),Gc=null,So=null,kh=null;function _h(){kh=So=Gc=null}function bh(r){var i=Kc.current;Qe(Kc),r._currentValue=i}function Th(r,i,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===l)break;r=r.return}}function No(r,i){Gc=r,kh=So=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(on=!0),r.firstContext=null)}function In(r){var i=r._currentValue;if(kh!==r)if(r={context:r,memoizedValue:i,next:null},So===null){if(Gc===null)throw Error(n(308));So=r,Gc.dependencies={lanes:0,firstContext:r}}else So=So.next=r;return i}var di=null;function Eh(r){di===null?di=[r]:di.push(r)}function Q0(r,i,l,h){var g=i.interleaved;return g===null?(l.next=l,Eh(i)):(l.next=g.next,g.next=l),i.interleaved=l,zr(r,h)}function zr(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ys=!1;function Ch(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y0(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $r(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function vs(r,i,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,zr(r,l)}return g=h.interleaved,g===null?(i.next=i,Eh(h)):(i.next=g.next,g.next=i),h.interleaved=i,zr(r,l)}function Qc(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,as(r,l)}}function X0(r,i){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=b:v=v.next=b,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Yc(r,i,l,h){var g=r.updateQueue;ys=!1;var v=g.firstBaseUpdate,b=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var V=A,K=V.next;V.next=null,b===null?v=K:b.next=K,b=V;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==b&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=V))}if(v!==null){var ee=g.baseState;b=0,Z=K=V=null,A=v;do{var J=A.lane,le=A.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:le,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ue=r,de=A;switch(J=i,le=l,de.tag){case 1:if(ue=de.payload,typeof ue=="function"){ee=ue.call(le,ee,J);break e}ee=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=de.payload,J=typeof ue=="function"?ue.call(le,ee,J):ue,J==null)break e;ee=oe({},ee,J);break e;case 2:ys=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,J=g.effects,J===null?g.effects=[A]:J.push(A))}else le={eventTime:le,lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=le,V=ee):Z=Z.next=le,b|=J;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;J=A,A=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);if(Z===null&&(V=ee),g.baseState=V,g.firstBaseUpdate=K,g.lastBaseUpdate=Z,i=g.shared.interleaved,i!==null){g=i;do b|=g.lane,g=g.next;while(g!==i)}else v===null&&(g.shared.lanes=0);mi|=b,r.lanes=b,r.memoizedState=ee}}function J0(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],g=h.callback;if(g!==null){if(h.callback=null,h=l,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var Wa={},hr=ms(Wa),qa=ms(Wa),Ka=ms(Wa);function hi(r){if(r===Wa)throw Error(n(174));return r}function Sh(r,i){switch(qe(Ka,i),qe(qa,r),qe(hr,Wa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:gt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=gt(i,r)}Qe(hr),qe(hr,i)}function Io(){Qe(hr),Qe(qa),Qe(Ka)}function Z0(r){hi(Ka.current);var i=hi(hr.current),l=gt(i,r.type);i!==l&&(qe(qa,r),qe(hr,l))}function Nh(r){qa.current===r&&(Qe(hr),Qe(qa))}var et=ms(0);function Xc(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ih=[];function Ah(){for(var r=0;r<Ih.length;r++)Ih[r]._workInProgressVersionPrimary=null;Ih.length=0}var Jc=X.ReactCurrentDispatcher,jh=X.ReactCurrentBatchConfig,fi=0,tt=null,vt=null,_t=null,Zc=!1,Ga=!1,Qa=0,O_=0;function Ut(){throw Error(n(321))}function Ph(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Kn(r[l],i[l]))return!1;return!0}function Rh(r,i,l,h,g,v){if(fi=v,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Jc.current=r===null||r.memoizedState===null?z_:$_,r=l(h,g),Ga){v=0;do{if(Ga=!1,Qa=0,25<=v)throw Error(n(301));v+=1,_t=vt=null,i.updateQueue=null,Jc.current=H_,r=l(h,g)}while(Ga)}if(Jc.current=nu,i=vt!==null&&vt.next!==null,fi=0,_t=vt=tt=null,Zc=!1,i)throw Error(n(300));return r}function Dh(){var r=Qa!==0;return Qa=0,r}function fr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?tt.memoizedState=_t=r:_t=_t.next=r,_t}function An(){if(vt===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var i=_t===null?tt.memoizedState:_t.next;if(i!==null)_t=i,vt=r;else{if(r===null)throw Error(n(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},_t===null?tt.memoizedState=_t=r:_t=_t.next=r}return _t}function Ya(r,i){return typeof i=="function"?i(r):i}function Mh(r){var i=An(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=vt,g=h.baseQueue,v=l.pending;if(v!==null){if(g!==null){var b=g.next;g.next=v.next,v.next=b}h.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,h=h.baseState;var A=b=null,V=null,K=v;do{var Z=K.lane;if((fi&Z)===Z)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:r(h,K.action);else{var ee={lane:Z,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(A=V=ee,b=h):V=V.next=ee,tt.lanes|=Z,mi|=Z}K=K.next}while(K!==null&&K!==v);V===null?b=h:V.next=A,Kn(h,i.memoizedState)||(on=!0),i.memoizedState=h,i.baseState=b,i.baseQueue=V,l.lastRenderedState=h}if(r=l.interleaved,r!==null){g=r;do v=g.lane,tt.lanes|=v,mi|=v,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Lh(r){var i=An(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do v=r(v,b.action),b=b.next;while(b!==g);Kn(v,i.memoizedState)||(on=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,h]}function eg(){}function tg(r,i){var l=tt,h=An(),g=i(),v=!Kn(h.memoizedState,g);if(v&&(h.memoizedState=g,on=!0),h=h.queue,Vh(sg.bind(null,l,h,r),[r]),h.getSnapshot!==i||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Xa(9,rg.bind(null,l,h,g,i),void 0,null),bt===null)throw Error(n(349));(fi&30)!==0||ng(l,i,g)}return g}function ng(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function rg(r,i,l,h){i.value=l,i.getSnapshot=h,ig(i)&&og(r)}function sg(r,i,l){return l(function(){ig(i)&&og(r)})}function ig(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Kn(r,l)}catch{return!0}}function og(r){var i=zr(r,1);i!==null&&Jn(i,r,1,-1)}function ag(r){var i=fr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:r},i.queue=r,r=r.dispatch=B_.bind(null,tt,r),[i.memoizedState,r]}function Xa(r,i,l,h){return r={tag:r,create:i,destroy:l,deps:h,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,i.lastEffect=r)),r}function lg(){return An().memoizedState}function eu(r,i,l,h){var g=fr();tt.flags|=r,g.memoizedState=Xa(1|i,l,void 0,h===void 0?null:h)}function tu(r,i,l,h){var g=An();h=h===void 0?null:h;var v=void 0;if(vt!==null){var b=vt.memoizedState;if(v=b.destroy,h!==null&&Ph(h,b.deps)){g.memoizedState=Xa(i,l,v,h);return}}tt.flags|=r,g.memoizedState=Xa(1|i,l,v,h)}function cg(r,i){return eu(8390656,8,r,i)}function Vh(r,i){return tu(2048,8,r,i)}function ug(r,i){return tu(4,2,r,i)}function dg(r,i){return tu(4,4,r,i)}function hg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function fg(r,i,l){return l=l!=null?l.concat([r]):null,tu(4,4,hg.bind(null,i,r),l)}function Oh(){}function mg(r,i){var l=An();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Ph(i,h[1])?h[0]:(l.memoizedState=[r,i],r)}function pg(r,i){var l=An();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Ph(i,h[1])?h[0]:(r=r(),l.memoizedState=[r,i],r)}function gg(r,i,l){return(fi&21)===0?(r.baseState&&(r.baseState=!1,on=!0),r.memoizedState=l):(Kn(l,i)||(l=ni(),tt.lanes|=l,mi|=l,r.baseState=!0),i)}function F_(r,i){var l=je;je=l!==0&&4>l?l:4,r(!0);var h=jh.transition;jh.transition={};try{r(!1),i()}finally{je=l,jh.transition=h}}function yg(){return An().memoizedState}function U_(r,i,l){var h=_s(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},vg(r))xg(i,l);else if(l=Q0(r,i,l,h),l!==null){var g=Zt();Jn(l,r,h,g),wg(l,i,h)}}function B_(r,i,l){var h=_s(r),g={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(vg(r))xg(i,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var b=i.lastRenderedState,A=v(b,l);if(g.hasEagerState=!0,g.eagerState=A,Kn(A,b)){var V=i.interleaved;V===null?(g.next=g,Eh(i)):(g.next=V.next,V.next=g),i.interleaved=g;return}}catch{}finally{}l=Q0(r,i,g,h),l!==null&&(g=Zt(),Jn(l,r,h,g),wg(l,i,h))}}function vg(r){var i=r.alternate;return r===tt||i!==null&&i===tt}function xg(r,i){Ga=Zc=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function wg(r,i,l){if((l&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,as(r,l)}}var nu={readContext:In,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},z_={readContext:In,useCallback:function(r,i){return fr().memoizedState=[r,i===void 0?null:i],r},useContext:In,useEffect:cg,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,eu(4194308,4,hg.bind(null,i,r),l)},useLayoutEffect:function(r,i){return eu(4194308,4,r,i)},useInsertionEffect:function(r,i){return eu(4,2,r,i)},useMemo:function(r,i){var l=fr();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var h=fr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=U_.bind(null,tt,r),[h.memoizedState,r]},useRef:function(r){var i=fr();return r={current:r},i.memoizedState=r},useState:ag,useDebugValue:Oh,useDeferredValue:function(r){return fr().memoizedState=r},useTransition:function(){var r=ag(!1),i=r[0];return r=F_.bind(null,r[1]),fr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var h=tt,g=fr();if(Je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),bt===null)throw Error(n(349));(fi&30)!==0||ng(h,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,cg(sg.bind(null,h,v,r),[r]),h.flags|=2048,Xa(9,rg.bind(null,h,v,l,i),void 0,null),l},useId:function(){var r=fr(),i=bt.identifierPrefix;if(Je){var l=Br,h=Ur;l=(h&~(1<<32-Yt(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Qa++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=O_++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},$_={readContext:In,useCallback:mg,useContext:In,useEffect:Vh,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:dg,useMemo:pg,useReducer:Mh,useRef:lg,useState:function(){return Mh(Ya)},useDebugValue:Oh,useDeferredValue:function(r){var i=An();return gg(i,vt.memoizedState,r)},useTransition:function(){var r=Mh(Ya)[0],i=An().memoizedState;return[r,i]},useMutableSource:eg,useSyncExternalStore:tg,useId:yg,unstable_isNewReconciler:!1},H_={readContext:In,useCallback:mg,useContext:In,useEffect:Vh,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:dg,useMemo:pg,useReducer:Lh,useRef:lg,useState:function(){return Lh(Ya)},useDebugValue:Oh,useDeferredValue:function(r){var i=An();return vt===null?i.memoizedState=r:gg(i,vt.memoizedState,r)},useTransition:function(){var r=Lh(Ya)[0],i=An().memoizedState;return[r,i]},useMutableSource:eg,useSyncExternalStore:tg,useId:yg,unstable_isNewReconciler:!1};function Qn(r,i){if(r&&r.defaultProps){i=oe({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Fh(r,i,l,h){i=r.memoizedState,l=l(h,i),l=l==null?i:oe({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ru={isMounted:function(r){return(r=r._reactInternals)?Un(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var h=Zt(),g=_s(r),v=$r(h,g);v.payload=i,l!=null&&(v.callback=l),i=vs(r,v,g),i!==null&&(Jn(i,r,g,h),Qc(i,r,g))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var h=Zt(),g=_s(r),v=$r(h,g);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=vs(r,v,g),i!==null&&(Jn(i,r,g,h),Qc(i,r,g))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Zt(),h=_s(r),g=$r(l,h);g.tag=2,i!=null&&(g.callback=i),i=vs(r,g,h),i!==null&&(Jn(i,r,h,l),Qc(i,r,h))}};function kg(r,i,l,h,g,v,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,v,b):i.prototype&&i.prototype.isPureReactComponent?!Va(l,h)||!Va(g,v):!0}function _g(r,i,l){var h=!1,g=ps,v=i.contextType;return typeof v=="object"&&v!==null?v=In(v):(g=sn(i)?li:Ft.current,h=i.contextTypes,v=(h=h!=null)?_o(r,g):ps),i=new i(l,v),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ru,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=v),i}function bg(r,i,l,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==r&&ru.enqueueReplaceState(i,i.state,null)}function Uh(r,i,l,h){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},Ch(r);var v=i.contextType;typeof v=="object"&&v!==null?g.context=In(v):(v=sn(i)?li:Ft.current,g.context=_o(r,v)),g.state=r.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Fh(r,i,v,l),g.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&ru.enqueueReplaceState(g,g.state,null),Yc(r,l,g,h),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Ao(r,i){try{var l="",h=i;do l+=Se(h),h=h.return;while(h);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:i,stack:g,digest:null}}function Bh(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function zh(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var W_=typeof WeakMap=="function"?WeakMap:Map;function Tg(r,i,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){uu||(uu=!0,rf=h),zh(r,i)},l}function Eg(r,i,l){l=$r(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var g=i.value;l.payload=function(){return h(g)},l.callback=function(){zh(r,i)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){zh(r,i),typeof h!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),l}function Cg(r,i,l){var h=r.pingCache;if(h===null){h=r.pingCache=new W_;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(l)||(g.add(l),r=ib.bind(null,r,i,l),i.then(r,r))}function Sg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Ng(r,i,l,h,g){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=$r(-1,1),i.tag=2,vs(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var q_=X.ReactCurrentOwner,on=!1;function Jt(r,i,l,h){i.child=r===null?G0(i,null,l,h):Co(i,r.child,l,h)}function Ig(r,i,l,h,g){l=l.render;var v=i.ref;return No(i,g),h=Rh(r,i,l,h,v,g),l=Dh(),r!==null&&!on?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,Hr(r,i,g)):(Je&&l&&gh(i),i.flags|=1,Jt(r,i,h,g),i.child)}function Ag(r,i,l,h,g){if(r===null){var v=l.type;return typeof v=="function"&&!df(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,jg(r,i,v,h,g)):(r=gu(l.type,null,h,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,(r.lanes&g)===0){var b=v.memoizedProps;if(l=l.compare,l=l!==null?l:Va,l(b,h)&&r.ref===i.ref)return Hr(r,i,g)}return i.flags|=1,r=Ts(v,h),r.ref=i.ref,r.return=i,i.child=r}function jg(r,i,l,h,g){if(r!==null){var v=r.memoizedProps;if(Va(v,h)&&r.ref===i.ref)if(on=!1,i.pendingProps=h=v,(r.lanes&g)!==0)(r.flags&131072)!==0&&(on=!0);else return i.lanes=r.lanes,Hr(r,i,g)}return $h(r,i,l,h,g)}function Pg(r,i,l){var h=i.pendingProps,g=h.children,v=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Po,xn),xn|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,qe(Po,xn),xn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,qe(Po,xn),xn|=h}else v!==null?(h=v.baseLanes|l,i.memoizedState=null):h=l,qe(Po,xn),xn|=h;return Jt(r,i,g,l),i.child}function Rg(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function $h(r,i,l,h,g){var v=sn(l)?li:Ft.current;return v=_o(i,v),No(i,g),l=Rh(r,i,l,h,v,g),h=Dh(),r!==null&&!on?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,Hr(r,i,g)):(Je&&h&&gh(i),i.flags|=1,Jt(r,i,l,g),i.child)}function Dg(r,i,l,h,g){if(sn(l)){var v=!0;Bc(i)}else v=!1;if(No(i,g),i.stateNode===null)iu(r,i),_g(i,l,h),Uh(i,l,h,g),h=!0;else if(r===null){var b=i.stateNode,A=i.memoizedProps;b.props=A;var V=b.context,K=l.contextType;typeof K=="object"&&K!==null?K=In(K):(K=sn(l)?li:Ft.current,K=_o(i,K));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof b.getSnapshotBeforeUpdate=="function";ee||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==h||V!==K)&&bg(i,b,h,K),ys=!1;var J=i.memoizedState;b.state=J,Yc(i,h,b,g),V=i.memoizedState,A!==h||J!==V||rn.current||ys?(typeof Z=="function"&&(Fh(i,l,Z,h),V=i.memoizedState),(A=ys||kg(i,l,A,h,J,V,K))?(ee||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=V),b.props=h,b.state=V,b.context=K,h=A):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{b=i.stateNode,Y0(r,i),A=i.memoizedProps,K=i.type===i.elementType?A:Qn(i.type,A),b.props=K,ee=i.pendingProps,J=b.context,V=l.contextType,typeof V=="object"&&V!==null?V=In(V):(V=sn(l)?li:Ft.current,V=_o(i,V));var le=l.getDerivedStateFromProps;(Z=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==ee||J!==V)&&bg(i,b,h,V),ys=!1,J=i.memoizedState,b.state=J,Yc(i,h,b,g);var ue=i.memoizedState;A!==ee||J!==ue||rn.current||ys?(typeof le=="function"&&(Fh(i,l,le,h),ue=i.memoizedState),(K=ys||kg(i,l,K,h,J,ue,V)||!1)?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,ue,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,ue,V)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ue),b.props=h,b.state=ue,b.context=V,h=K):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),h=!1)}return Hh(r,i,l,h,v,g)}function Hh(r,i,l,h,g,v){Rg(r,i);var b=(i.flags&128)!==0;if(!h&&!b)return g&&F0(i,l,!1),Hr(r,i,v);h=i.stateNode,q_.current=i;var A=b&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&b?(i.child=Co(i,r.child,null,v),i.child=Co(i,null,A,v)):Jt(r,i,A,v),i.memoizedState=h.state,g&&F0(i,l,!0),i.child}function Mg(r){var i=r.stateNode;i.pendingContext?V0(r,i.pendingContext,i.pendingContext!==i.context):i.context&&V0(r,i.context,!1),Sh(r,i.containerInfo)}function Lg(r,i,l,h,g){return Eo(),wh(g),i.flags|=256,Jt(r,i,l,h),i.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function qh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Vg(r,i,l){var h=i.pendingProps,g=et.current,v=!1,b=(i.flags&128)!==0,A;if((A=b)||(A=r!==null&&r.memoizedState===null?!1:(g&2)!==0),A?(v=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),qe(et,g&1),r===null)return xh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=h.children,r=h.fallback,v?(h=i.mode,v=i.child,b={mode:"hidden",children:b},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=yu(b,h,0,null),r=vi(r,h,l,null),v.return=i,r.return=i,v.sibling=r,i.child=v,i.child.memoizedState=qh(l),i.memoizedState=Wh,r):Kh(i,b));if(g=r.memoizedState,g!==null&&(A=g.dehydrated,A!==null))return K_(r,i,b,h,A,g,l);if(v){v=h.fallback,b=i.mode,g=r.child,A=g.sibling;var V={mode:"hidden",children:h.children};return(b&1)===0&&i.child!==g?(h=i.child,h.childLanes=0,h.pendingProps=V,i.deletions=null):(h=Ts(g,V),h.subtreeFlags=g.subtreeFlags&14680064),A!==null?v=Ts(A,v):(v=vi(v,b,l,null),v.flags|=2),v.return=i,h.return=i,h.sibling=v,i.child=h,h=v,v=i.child,b=r.child.memoizedState,b=b===null?qh(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=r.childLanes&~l,i.memoizedState=Wh,h}return v=r.child,r=v.sibling,h=Ts(v,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=h,i.memoizedState=null,h}function Kh(r,i){return i=yu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function su(r,i,l,h){return h!==null&&wh(h),Co(i,r.child,null,l),r=Kh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function K_(r,i,l,h,g,v,b){if(l)return i.flags&256?(i.flags&=-257,h=Bh(Error(n(422))),su(r,i,b,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(v=h.fallback,g=i.mode,h=yu({mode:"visible",children:h.children},g,0,null),v=vi(v,g,b,null),v.flags|=2,h.return=i,v.return=i,h.sibling=v,i.child=h,(i.mode&1)!==0&&Co(i,r.child,null,b),i.child.memoizedState=qh(b),i.memoizedState=Wh,v);if((i.mode&1)===0)return su(r,i,b,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var A=h.dgst;return h=A,v=Error(n(419)),h=Bh(v,h,void 0),su(r,i,b,h)}if(A=(b&r.childLanes)!==0,on||A){if(h=bt,h!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|b))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,zr(r,g),Jn(h,r,g,-1))}return uf(),h=Bh(Error(n(421))),su(r,i,b,h)}return g.data==="$?"?(i.flags|=128,i.child=r.child,i=ob.bind(null,r),g._reactRetry=i,null):(r=v.treeContext,vn=fs(g.nextSibling),yn=i,Je=!0,Gn=null,r!==null&&(Sn[Nn++]=Ur,Sn[Nn++]=Br,Sn[Nn++]=ci,Ur=r.id,Br=r.overflow,ci=i),i=Kh(i,h.children),i.flags|=4096,i)}function Og(r,i,l){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Th(r.return,i,l)}function Gh(r,i,l,h,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function Fg(r,i,l){var h=i.pendingProps,g=h.revealOrder,v=h.tail;if(Jt(r,i,h.children,l),h=et.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Og(r,l,i);else if(r.tag===19)Og(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(qe(et,h),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Xc(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Gh(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Xc(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Gh(i,!0,l,null,v);break;case"together":Gh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function iu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Hr(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),mi|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=Ts(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Ts(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function G_(r,i,l){switch(i.tag){case 3:Mg(i),Eo();break;case 5:Z0(i);break;case 1:sn(i.type)&&Bc(i);break;case 4:Sh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,g=i.memoizedProps.value;qe(Kc,h._currentValue),h._currentValue=g;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(qe(et,et.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Vg(r,i,l):(qe(et,et.current&1),r=Hr(r,i,l),r!==null?r.sibling:null);qe(et,et.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(r.flags&128)!==0){if(h)return Fg(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),qe(et,et.current),h)break;return null;case 22:case 23:return i.lanes=0,Pg(r,i,l)}return Hr(r,i,l)}var Ug,Qh,Bg,zg;Ug=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qh=function(){},Bg=function(r,i,l,h){var g=r.memoizedProps;if(g!==h){r=i.stateNode,hi(hr.current);var v=null;switch(l){case"input":g=Ws(r,g),h=Ws(r,h),v=[];break;case"select":g=oe({},g,{value:void 0}),h=oe({},h,{value:void 0}),v=[];break;case"textarea":g=ha(r,g),h=ha(r,h),v=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Oc)}va(l,h);var b;l=null;for(K in g)if(!h.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var A=g[K];for(b in A)A.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in h){var V=h[K];if(A=g!=null?g[K]:void 0,h.hasOwnProperty(K)&&V!==A&&(V!=null||A!=null))if(K==="style")if(A){for(b in A)!A.hasOwnProperty(b)||V&&V.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in V)V.hasOwnProperty(b)&&A[b]!==V[b]&&(l||(l={}),l[b]=V[b])}else l||(v||(v=[]),v.push(K,l)),l=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,A=A?A.__html:void 0,V!=null&&A!==V&&(v=v||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(v=v||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&Ge("scroll",r),v||A===V||(v=[])):(v=v||[]).push(K,V))}l&&(v=v||[]).push("style",l);var K=v;(i.updateQueue=K)&&(i.flags|=4)}},zg=function(r,i,l,h){l!==h&&(i.flags|=4)};function Ja(r,i){if(!Je)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Bt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=l,i}function Q_(r,i,l){var h=i.pendingProps;switch(yh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(i),null;case 1:return sn(i.type)&&Uc(),Bt(i),null;case 3:return h=i.stateNode,Io(),Qe(rn),Qe(Ft),Ah(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Wc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gn!==null&&(af(Gn),Gn=null))),Qh(r,i),Bt(i),null;case 5:Nh(i);var g=hi(Ka.current);if(l=i.type,r!==null&&i.stateNode!=null)Bg(r,i,l,h,g),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(n(166));return Bt(i),null}if(r=hi(hr.current),Wc(i)){h=i.stateNode,l=i.type;var v=i.memoizedProps;switch(h[dr]=i,h[za]=v,r=(i.mode&1)!==0,l){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(g=0;g<Fa.length;g++)Ge(Fa[g],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":$i(h,v),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Ge("invalid",h);break;case"textarea":Wi(h,v),Ge("invalid",h)}va(l,v),g=null;for(var b in v)if(v.hasOwnProperty(b)){var A=v[b];b==="children"?typeof A=="string"?h.textContent!==A&&(v.suppressHydrationWarning!==!0&&Vc(h.textContent,A,r),g=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(v.suppressHydrationWarning!==!0&&Vc(h.textContent,A,r),g=["children",""+A]):o.hasOwnProperty(b)&&A!=null&&b==="onScroll"&&Ge("scroll",h)}switch(l){case"input":Nr(h),cc(h,v,!0);break;case"textarea":Nr(h),fa(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Oc)}h=g,i.updateQueue=h,h!==null&&(i.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=b.createElement(l,{is:h.is}):(r=b.createElement(l),l==="select"&&(b=r,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):r=b.createElementNS(r,l),r[dr]=i,r[za]=h,Ug(r,i,!1,!1),i.stateNode=r;e:{switch(b=xa(l,h),l){case"dialog":Ge("cancel",r),Ge("close",r),g=h;break;case"iframe":case"object":case"embed":Ge("load",r),g=h;break;case"video":case"audio":for(g=0;g<Fa.length;g++)Ge(Fa[g],r);g=h;break;case"source":Ge("error",r),g=h;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),g=h;break;case"details":Ge("toggle",r),g=h;break;case"input":$i(r,h),g=Ws(r,h),Ge("invalid",r);break;case"option":g=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},g=oe({},h,{value:void 0}),Ge("invalid",r);break;case"textarea":Wi(r,h),g=ha(r,h),Ge("invalid",r);break;default:g=h}va(l,g),A=g;for(v in A)if(A.hasOwnProperty(v)){var V=A[v];v==="style"?ga(r,V):v==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ma(r,V)):v==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&ns(r,V):typeof V=="number"&&ns(r,""+V):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?V!=null&&v==="onScroll"&&Ge("scroll",r):V!=null&&L(r,v,V,b))}switch(l){case"input":Nr(r),cc(r,h,!1);break;case"textarea":Nr(r),fa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Fe(h.value));break;case"select":r.multiple=!!h.multiple,v=h.value,v!=null?Ar(r,!!h.multiple,v,!1):h.defaultValue!=null&&Ar(r,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Oc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Bt(i),null;case 6:if(r&&i.stateNode!=null)zg(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(l=hi(Ka.current),hi(hr.current),Wc(i)){if(h=i.stateNode,l=i.memoizedProps,h[dr]=i,(v=h.nodeValue!==l)&&(r=yn,r!==null))switch(r.tag){case 3:Vc(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Vc(h.nodeValue,l,(r.mode&1)!==0)}v&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[dr]=i,i.stateNode=h}return Bt(i),null;case 13:if(Qe(et),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&vn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)W0(),Eo(),i.flags|=98560,v=!1;else if(v=Wc(i),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[dr]=i}else Eo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Bt(i),v=!1}else Gn!==null&&(af(Gn),Gn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(et.current&1)!==0?xt===0&&(xt=3):uf())),i.updateQueue!==null&&(i.flags|=4),Bt(i),null);case 4:return Io(),Qh(r,i),r===null&&Ua(i.stateNode.containerInfo),Bt(i),null;case 10:return bh(i.type._context),Bt(i),null;case 17:return sn(i.type)&&Uc(),Bt(i),null;case 19:if(Qe(et),v=i.memoizedState,v===null)return Bt(i),null;if(h=(i.flags&128)!==0,b=v.rendering,b===null)if(h)Ja(v,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(b=Xc(r),b!==null){for(i.flags|=128,Ja(v,!1),h=b.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)v=l,r=h,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,r=b.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return qe(et,et.current&1|2),i.child}r=r.sibling}v.tail!==null&&We()>Ro&&(i.flags|=128,h=!0,Ja(v,!1),i.lanes=4194304)}else{if(!h)if(r=Xc(b),r!==null){if(i.flags|=128,h=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Ja(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Je)return Bt(i),null}else 2*We()-v.renderingStartTime>Ro&&l!==1073741824&&(i.flags|=128,h=!0,Ja(v,!1),i.lanes=4194304);v.isBackwards?(b.sibling=i.child,i.child=b):(l=v.last,l!==null?l.sibling=b:i.child=b,v.last=b)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=We(),i.sibling=null,l=et.current,qe(et,h?l&1|2:l&1),i):(Bt(i),null);case 22:case 23:return cf(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(xn&1073741824)!==0&&(Bt(i),i.subtreeFlags&6&&(i.flags|=8192)):Bt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Y_(r,i){switch(yh(i),i.tag){case 1:return sn(i.type)&&Uc(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Io(),Qe(rn),Qe(Ft),Ah(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Nh(i),null;case 13:if(Qe(et),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Eo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Qe(et),null;case 4:return Io(),null;case 10:return bh(i.type._context),null;case 22:case 23:return cf(),null;case 24:return null;default:return null}}var ou=!1,zt=!1,X_=typeof WeakSet=="function"?WeakSet:Set,ce=null;function jo(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){it(r,i,h)}else l.current=null}function Yh(r,i,l){try{l()}catch(h){it(r,i,h)}}var $g=!1;function J_(r,i){if(lh=us,r=k0(),eh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var b=0,A=-1,V=-1,K=0,Z=0,ee=r,J=null;t:for(;;){for(var le;ee!==l||g!==0&&ee.nodeType!==3||(A=b+g),ee!==v||h!==0&&ee.nodeType!==3||(V=b+h),ee.nodeType===3&&(b+=ee.nodeValue.length),(le=ee.firstChild)!==null;)J=ee,ee=le;for(;;){if(ee===r)break t;if(J===l&&++K===g&&(A=b),J===v&&++Z===h&&(V=b),(le=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=le}l=A===-1||V===-1?null:{start:A,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(ch={focusedElem:r,selectionRange:l},us=!1,ce=i;ce!==null;)if(i=ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ce=r;else for(;ce!==null;){i=ce;try{var ue=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var de=ue.memoizedProps,ct=ue.memoizedState,W=i.stateNode,F=W.getSnapshotBeforeUpdate(i.elementType===i.type?de:Qn(i.type,de),ct);W.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){it(i,i.return,ne)}if(r=i.sibling,r!==null){r.return=i.return,ce=r;break}ce=i.return}return ue=$g,$g=!1,ue}function Za(r,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&r)===r){var v=g.destroy;g.destroy=void 0,v!==void 0&&Yh(i,l,v)}g=g.next}while(g!==h)}}function au(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function Xh(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Hg(r){var i=r.alternate;i!==null&&(r.alternate=null,Hg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[dr],delete i[za],delete i[fh],delete i[D_],delete i[M_])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wg(r){return r.tag===5||r.tag===3||r.tag===4}function qg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jh(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Oc));else if(h!==4&&(r=r.child,r!==null))for(Jh(r,i,l),r=r.sibling;r!==null;)Jh(r,i,l),r=r.sibling}function Zh(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Zh(r,i,l),r=r.sibling;r!==null;)Zh(r,i,l),r=r.sibling}var Pt=null,Yn=!1;function xs(r,i,l){for(l=l.child;l!==null;)Kg(r,i,l),l=l.sibling}function Kg(r,i,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ei,l)}catch{}switch(l.tag){case 5:zt||jo(l,i);case 6:var h=Pt,g=Yn;Pt=null,xs(r,i,l),Pt=h,Yn=g,Pt!==null&&(Yn?(r=Pt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Pt.removeChild(l.stateNode));break;case 18:Pt!==null&&(Yn?(r=Pt,l=l.stateNode,r.nodeType===8?hh(r.parentNode,l):r.nodeType===1&&hh(r,l),Wn(r)):hh(Pt,l.stateNode));break;case 4:h=Pt,g=Yn,Pt=l.stateNode.containerInfo,Yn=!0,xs(r,i,l),Pt=h,Yn=g;break;case 0:case 11:case 14:case 15:if(!zt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var v=g,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&Yh(l,i,b),g=g.next}while(g!==h)}xs(r,i,l);break;case 1:if(!zt&&(jo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){it(l,i,A)}xs(r,i,l);break;case 21:xs(r,i,l);break;case 22:l.mode&1?(zt=(h=zt)||l.memoizedState!==null,xs(r,i,l),zt=h):xs(r,i,l);break;default:xs(r,i,l)}}function Gg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new X_),i.forEach(function(h){var g=ab.bind(null,r,h);l.has(h)||(l.add(h),h.then(g,g))})}}function Xn(r,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];try{var v=r,b=i,A=b;e:for(;A!==null;){switch(A.tag){case 5:Pt=A.stateNode,Yn=!1;break e;case 3:Pt=A.stateNode.containerInfo,Yn=!0;break e;case 4:Pt=A.stateNode.containerInfo,Yn=!0;break e}A=A.return}if(Pt===null)throw Error(n(160));Kg(v,b,g),Pt=null,Yn=!1;var V=g.alternate;V!==null&&(V.return=null),g.return=null}catch(K){it(g,i,K)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Qg(i,r),i=i.sibling}function Qg(r,i){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(i,r),mr(r),h&4){try{Za(3,r,r.return),au(3,r)}catch(de){it(r,r.return,de)}try{Za(5,r,r.return)}catch(de){it(r,r.return,de)}}break;case 1:Xn(i,r),mr(r),h&512&&l!==null&&jo(l,l.return);break;case 5:if(Xn(i,r),mr(r),h&512&&l!==null&&jo(l,l.return),r.flags&32){var g=r.stateNode;try{ns(g,"")}catch(de){it(r,r.return,de)}}if(h&4&&(g=r.stateNode,g!=null)){var v=r.memoizedProps,b=l!==null?l.memoizedProps:v,A=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{A==="input"&&v.type==="radio"&&v.name!=null&&ua(g,v),xa(A,b);var K=xa(A,v);for(b=0;b<V.length;b+=2){var Z=V[b],ee=V[b+1];Z==="style"?ga(g,ee):Z==="dangerouslySetInnerHTML"?ma(g,ee):Z==="children"?ns(g,ee):L(g,Z,ee,K)}switch(A){case"input":da(g,v);break;case"textarea":qi(g,v);break;case"select":var J=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var le=v.value;le!=null?Ar(g,!!v.multiple,le,!1):J!==!!v.multiple&&(v.defaultValue!=null?Ar(g,!!v.multiple,v.defaultValue,!0):Ar(g,!!v.multiple,v.multiple?[]:"",!1))}g[za]=v}catch(de){it(r,r.return,de)}}break;case 6:if(Xn(i,r),mr(r),h&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,v=r.memoizedProps;try{g.nodeValue=v}catch(de){it(r,r.return,de)}}break;case 3:if(Xn(i,r),mr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Wn(i.containerInfo)}catch(de){it(r,r.return,de)}break;case 4:Xn(i,r),mr(r);break;case 13:Xn(i,r),mr(r),g=r.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(nf=We())),h&4&&Gg(r);break;case 22:if(Z=l!==null&&l.memoizedState!==null,r.mode&1?(zt=(K=zt)||Z,Xn(i,r),zt=K):Xn(i,r),mr(r),h&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!Z&&(r.mode&1)!==0)for(ce=r,Z=r.child;Z!==null;){for(ee=ce=Z;ce!==null;){switch(J=ce,le=J.child,J.tag){case 0:case 11:case 14:case 15:Za(4,J,J.return);break;case 1:jo(J,J.return);var ue=J.stateNode;if(typeof ue.componentWillUnmount=="function"){h=J,l=J.return;try{i=h,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(de){it(h,l,de)}}break;case 5:jo(J,J.return);break;case 22:if(J.memoizedState!==null){Jg(ee);continue}}le!==null?(le.return=J,ce=le):Jg(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{g=ee.stateNode,K?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(A=ee.stateNode,V=ee.memoizedProps.style,b=V!=null&&V.hasOwnProperty("display")?V.display:null,A.style.display=pa("display",b))}catch(de){it(r,r.return,de)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=K?"":ee.memoizedProps}catch(de){it(r,r.return,de)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Xn(i,r),mr(r),h&4&&Gg(r);break;case 21:break;default:Xn(i,r),mr(r)}}function mr(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Wg(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(ns(g,""),h.flags&=-33);var v=qg(r);Zh(r,v,g);break;case 3:case 4:var b=h.stateNode.containerInfo,A=qg(r);Jh(r,A,b);break;default:throw Error(n(161))}}catch(V){it(r,r.return,V)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Z_(r,i,l){ce=r,Yg(r)}function Yg(r,i,l){for(var h=(r.mode&1)!==0;ce!==null;){var g=ce,v=g.child;if(g.tag===22&&h){var b=g.memoizedState!==null||ou;if(!b){var A=g.alternate,V=A!==null&&A.memoizedState!==null||zt;A=ou;var K=zt;if(ou=b,(zt=V)&&!K)for(ce=g;ce!==null;)b=ce,V=b.child,b.tag===22&&b.memoizedState!==null?Zg(g):V!==null?(V.return=b,ce=V):Zg(g);for(;v!==null;)ce=v,Yg(v),v=v.sibling;ce=g,ou=A,zt=K}Xg(r)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,ce=v):Xg(r)}}function Xg(r){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:zt||au(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!zt)if(l===null)h.componentDidMount();else{var g=i.elementType===i.type?l.memoizedProps:Qn(i.type,l.memoizedProps);h.componentDidUpdate(g,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&J0(i,v,h);break;case 3:var b=i.updateQueue;if(b!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}J0(i,b,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var K=i.alternate;if(K!==null){var Z=K.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&Wn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zt||i.flags&512&&Xh(i)}catch(J){it(i,i.return,J)}}if(i===r){ce=null;break}if(l=i.sibling,l!==null){l.return=i.return,ce=l;break}ce=i.return}}function Jg(r){for(;ce!==null;){var i=ce;if(i===r){ce=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ce=l;break}ce=i.return}}function Zg(r){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{au(4,i)}catch(V){it(i,l,V)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var g=i.return;try{h.componentDidMount()}catch(V){it(i,g,V)}}var v=i.return;try{Xh(i)}catch(V){it(i,v,V)}break;case 5:var b=i.return;try{Xh(i)}catch(V){it(i,b,V)}}}catch(V){it(i,i.return,V)}if(i===r){ce=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ce=A;break}ce=i.return}}var eb=Math.ceil,lu=X.ReactCurrentDispatcher,ef=X.ReactCurrentOwner,jn=X.ReactCurrentBatchConfig,Me=0,bt=null,ht=null,Rt=0,xn=0,Po=ms(0),xt=0,el=null,mi=0,cu=0,tf=0,tl=null,an=null,nf=0,Ro=1/0,Wr=null,uu=!1,rf=null,ws=null,du=!1,ks=null,hu=0,nl=0,sf=null,fu=-1,mu=0;function Zt(){return(Me&6)!==0?We():fu!==-1?fu:fu=We()}function _s(r){return(r.mode&1)===0?1:(Me&2)!==0&&Rt!==0?Rt&-Rt:V_.transition!==null?(mu===0&&(mu=ni()),mu):(r=je,r!==0||(r=window.event,r=r===void 0?16:Aa(r.type)),r)}function Jn(r,i,l,h){if(50<nl)throw nl=0,sf=null,Error(n(185));os(r,l,h),((Me&2)===0||r!==bt)&&(r===bt&&((Me&2)===0&&(cu|=l),xt===4&&bs(r,Rt)),ln(r,h),l===1&&Me===0&&(i.mode&1)===0&&(Ro=We()+500,zc&&gs()))}function ln(r,i){var l=r.callbackNode;Rr(r,i);var h=ti(r,r===bt?Rt:0);if(h===0)l!==null&&Ea(l),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(l!=null&&Ea(l),i===1)r.tag===0?L_(ty.bind(null,r)):U0(ty.bind(null,r)),P_(function(){(Me&6)===0&&gs()}),l=null;else{switch(ls(h)){case 1:l=Zs;break;case 4:l=rs;break;case 16:l=Tn;break;case 536870912:l=mc;break;default:l=Tn}l=cy(l,ey.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function ey(r,i){if(fu=-1,mu=0,(Me&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Do()&&r.callbackNode!==l)return null;var h=ti(r,r===bt?Rt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=pu(r,h);else{i=h;var g=Me;Me|=2;var v=ry();(bt!==r||Rt!==i)&&(Wr=null,Ro=We()+500,gi(r,i));do try{rb();break}catch(A){ny(r,A)}while(!0);_h(),lu.current=v,Me=g,ht!==null?i=0:(bt=null,Rt=0,i=xt)}if(i!==0){if(i===2&&(g=mn(r),g!==0&&(h=g,i=of(r,g))),i===1)throw l=el,gi(r,0),bs(r,h),ln(r,We()),l;if(i===6)bs(r,h);else{if(g=r.current.alternate,(h&30)===0&&!tb(g)&&(i=pu(r,h),i===2&&(v=mn(r),v!==0&&(h=v,i=of(r,v))),i===1))throw l=el,gi(r,0),bs(r,h),ln(r,We()),l;switch(r.finishedWork=g,r.finishedLanes=h,i){case 0:case 1:throw Error(n(345));case 2:yi(r,an,Wr);break;case 3:if(bs(r,h),(h&130023424)===h&&(i=nf+500-We(),10<i)){if(ti(r,0)!==0)break;if(g=r.suspendedLanes,(g&h)!==h){Zt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=dh(yi.bind(null,r,an,Wr),i);break}yi(r,an,Wr);break;case 4:if(bs(r,h),(h&4194240)===h)break;for(i=r.eventTimes,g=-1;0<h;){var b=31-Yt(h);v=1<<b,b=i[b],b>g&&(g=b),h&=~v}if(h=g,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*eb(h/1960))-h,10<h){r.timeoutHandle=dh(yi.bind(null,r,an,Wr),h);break}yi(r,an,Wr);break;case 5:yi(r,an,Wr);break;default:throw Error(n(329))}}}return ln(r,We()),r.callbackNode===l?ey.bind(null,r):null}function of(r,i){var l=tl;return r.current.memoizedState.isDehydrated&&(gi(r,i).flags|=256),r=pu(r,i),r!==2&&(i=an,an=l,i!==null&&af(i)),r}function af(r){an===null?an=r:an.push.apply(an,r)}function tb(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!Kn(v(),g))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bs(r,i){for(i&=~tf,i&=~cu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-Yt(i),h=1<<l;r[l]=-1,i&=~h}}function ty(r){if((Me&6)!==0)throw Error(n(327));Do();var i=ti(r,0);if((i&1)===0)return ln(r,We()),null;var l=pu(r,i);if(r.tag!==0&&l===2){var h=mn(r);h!==0&&(i=h,l=of(r,h))}if(l===1)throw l=el,gi(r,0),bs(r,i),ln(r,We()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,yi(r,an,Wr),ln(r,We()),null}function lf(r,i){var l=Me;Me|=1;try{return r(i)}finally{Me=l,Me===0&&(Ro=We()+500,zc&&gs())}}function pi(r){ks!==null&&ks.tag===0&&(Me&6)===0&&Do();var i=Me;Me|=1;var l=jn.transition,h=je;try{if(jn.transition=null,je=1,r)return r()}finally{je=h,jn.transition=l,Me=i,(Me&6)===0&&gs()}}function cf(){xn=Po.current,Qe(Po)}function gi(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,j_(l)),ht!==null)for(l=ht.return;l!==null;){var h=l;switch(yh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Uc();break;case 3:Io(),Qe(rn),Qe(Ft),Ah();break;case 5:Nh(h);break;case 4:Io();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:bh(h.type._context);break;case 22:case 23:cf()}l=l.return}if(bt=r,ht=r=Ts(r.current,null),Rt=xn=i,xt=0,el=null,tf=cu=mi=0,an=tl=null,di!==null){for(i=0;i<di.length;i++)if(l=di[i],h=l.interleaved,h!==null){l.interleaved=null;var g=h.next,v=l.pending;if(v!==null){var b=v.next;v.next=g,h.next=b}l.pending=h}di=null}return r}function ny(r,i){do{var l=ht;try{if(_h(),Jc.current=nu,Zc){for(var h=tt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Zc=!1}if(fi=0,_t=vt=tt=null,Ga=!1,Qa=0,ef.current=null,l===null||l.return===null){xt=1,el=i,ht=null;break}e:{var v=r,b=l.return,A=l,V=i;if(i=Rt,A.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,Z=A,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var le=Sg(b);if(le!==null){le.flags&=-257,Ng(le,b,A,v,i),le.mode&1&&Cg(v,K,i),i=le,V=K;var ue=i.updateQueue;if(ue===null){var de=new Set;de.add(V),i.updateQueue=de}else ue.add(V);break e}else{if((i&1)===0){Cg(v,K,i),uf();break e}V=Error(n(426))}}else if(Je&&A.mode&1){var ct=Sg(b);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Ng(ct,b,A,v,i),wh(Ao(V,A));break e}}v=V=Ao(V,A),xt!==4&&(xt=2),tl===null?tl=[v]:tl.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var W=Tg(v,V,i);X0(v,W);break e;case 1:A=V;var F=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ws===null||!ws.has(q)))){v.flags|=65536,i&=-i,v.lanes|=i;var ne=Eg(v,A,i);X0(v,ne);break e}}v=v.return}while(v!==null)}iy(l)}catch(fe){i=fe,ht===l&&l!==null&&(ht=l=l.return);continue}break}while(!0)}function ry(){var r=lu.current;return lu.current=nu,r===null?nu:r}function uf(){(xt===0||xt===3||xt===2)&&(xt=4),bt===null||(mi&268435455)===0&&(cu&268435455)===0||bs(bt,Rt)}function pu(r,i){var l=Me;Me|=2;var h=ry();(bt!==r||Rt!==i)&&(Wr=null,gi(r,i));do try{nb();break}catch(g){ny(r,g)}while(!0);if(_h(),Me=l,lu.current=h,ht!==null)throw Error(n(261));return bt=null,Rt=0,xt}function nb(){for(;ht!==null;)sy(ht)}function rb(){for(;ht!==null&&!hc();)sy(ht)}function sy(r){var i=ly(r.alternate,r,xn);r.memoizedProps=r.pendingProps,i===null?iy(r):ht=i,ef.current=null}function iy(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=Q_(l,i,xn),l!==null){ht=l;return}}else{if(l=Y_(l,i),l!==null){l.flags&=32767,ht=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{xt=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=r}while(i!==null);xt===0&&(xt=5)}function yi(r,i,l){var h=je,g=jn.transition;try{jn.transition=null,je=1,sb(r,i,l,h)}finally{jn.transition=g,je=h}return null}function sb(r,i,l,h){do Do();while(ks!==null);if((Me&6)!==0)throw Error(n(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if($e(r,v),r===bt&&(ht=bt=null,Rt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||du||(du=!0,cy(Tn,function(){return Do(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=jn.transition,jn.transition=null;var b=je;je=1;var A=Me;Me|=4,ef.current=null,J_(r,l),Qg(l,r),T_(ch),us=!!lh,ch=lh=null,r.current=l,Z_(l),qd(),Me=A,je=b,jn.transition=v}else r.current=l;if(du&&(du=!1,ks=r,hu=g),v=r.pendingLanes,v===0&&(ws=null),pc(l.stateNode),ln(r,We()),i!==null)for(h=r.onRecoverableError,l=0;l<i.length;l++)g=i[l],h(g.value,{componentStack:g.stack,digest:g.digest});if(uu)throw uu=!1,r=rf,rf=null,r;return(hu&1)!==0&&r.tag!==0&&Do(),v=r.pendingLanes,(v&1)!==0?r===sf?nl++:(nl=0,sf=r):nl=0,gs(),null}function Do(){if(ks!==null){var r=ls(hu),i=jn.transition,l=je;try{if(jn.transition=null,je=16>r?16:r,ks===null)var h=!1;else{if(r=ks,ks=null,hu=0,(Me&6)!==0)throw Error(n(331));var g=Me;for(Me|=4,ce=r.current;ce!==null;){var v=ce,b=v.child;if((ce.flags&16)!==0){var A=v.deletions;if(A!==null){for(var V=0;V<A.length;V++){var K=A[V];for(ce=K;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:Za(8,Z,v)}var ee=Z.child;if(ee!==null)ee.return=Z,ce=ee;else for(;ce!==null;){Z=ce;var J=Z.sibling,le=Z.return;if(Hg(Z),Z===K){ce=null;break}if(J!==null){J.return=le,ce=J;break}ce=le}}}var ue=v.alternate;if(ue!==null){var de=ue.child;if(de!==null){ue.child=null;do{var ct=de.sibling;de.sibling=null,de=ct}while(de!==null)}}ce=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,ce=b;else e:for(;ce!==null;){if(v=ce,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Za(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,ce=W;break e}ce=v.return}}var F=r.current;for(ce=F;ce!==null;){b=ce;var q=b.child;if((b.subtreeFlags&2064)!==0&&q!==null)q.return=b,ce=q;else e:for(b=F;ce!==null;){if(A=ce,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:au(9,A)}}catch(fe){it(A,A.return,fe)}if(A===b){ce=null;break e}var ne=A.sibling;if(ne!==null){ne.return=A.return,ce=ne;break e}ce=A.return}}if(Me=g,gs(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ei,r)}catch{}h=!0}return h}finally{je=l,jn.transition=i}}return!1}function oy(r,i,l){i=Ao(l,i),i=Tg(r,i,1),r=vs(r,i,1),i=Zt(),r!==null&&(os(r,1,i),ln(r,i))}function it(r,i,l){if(r.tag===3)oy(r,r,l);else for(;i!==null;){if(i.tag===3){oy(i,r,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ws===null||!ws.has(h))){r=Ao(l,r),r=Eg(i,r,1),i=vs(i,r,1),r=Zt(),i!==null&&(os(i,1,r),ln(i,r));break}}i=i.return}}function ib(r,i,l){var h=r.pingCache;h!==null&&h.delete(i),i=Zt(),r.pingedLanes|=r.suspendedLanes&l,bt===r&&(Rt&l)===l&&(xt===4||xt===3&&(Rt&130023424)===Rt&&500>We()-nf?gi(r,0):tf|=l),ln(r,i)}function ay(r,i){i===0&&((r.mode&1)===0?i=1:(i=no,no<<=1,(no&130023424)===0&&(no=4194304)));var l=Zt();r=zr(r,i),r!==null&&(os(r,i,l),ln(r,l))}function ob(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),ay(r,l)}function ab(r,i){var l=0;switch(r.tag){case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(i),ay(r,l)}var ly;ly=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||rn.current)on=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return on=!1,G_(r,i,l);on=(r.flags&131072)!==0}else on=!1,Je&&(i.flags&1048576)!==0&&B0(i,Hc,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;iu(r,i),r=i.pendingProps;var g=_o(i,Ft.current);No(i,l),g=Rh(null,i,h,r,g,l);var v=Dh();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,sn(h)?(v=!0,Bc(i)):v=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ch(i),g.updater=ru,i.stateNode=g,g._reactInternals=i,Uh(i,h,r,l),i=Hh(null,i,h,!0,v,l)):(i.tag=0,Je&&v&&gh(i),Jt(null,i,g,l),i=i.child),i;case 16:h=i.elementType;e:{switch(iu(r,i),r=i.pendingProps,g=h._init,h=g(h._payload),i.type=h,g=i.tag=cb(h),r=Qn(h,r),g){case 0:i=$h(null,i,h,r,l);break e;case 1:i=Dg(null,i,h,r,l);break e;case 11:i=Ig(null,i,h,r,l);break e;case 14:i=Ag(null,i,h,Qn(h.type,r),l);break e}throw Error(n(306,h,""))}return i;case 0:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:Qn(h,g),$h(r,i,h,g,l);case 1:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:Qn(h,g),Dg(r,i,h,g,l);case 3:e:{if(Mg(i),r===null)throw Error(n(387));h=i.pendingProps,v=i.memoizedState,g=v.element,Y0(r,i),Yc(i,h,null,l);var b=i.memoizedState;if(h=b.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){g=Ao(Error(n(423)),i),i=Lg(r,i,h,l,g);break e}else if(h!==g){g=Ao(Error(n(424)),i),i=Lg(r,i,h,l,g);break e}else for(vn=fs(i.stateNode.containerInfo.firstChild),yn=i,Je=!0,Gn=null,l=G0(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Eo(),h===g){i=Hr(r,i,l);break e}Jt(r,i,h,l)}i=i.child}return i;case 5:return Z0(i),r===null&&xh(i),h=i.type,g=i.pendingProps,v=r!==null?r.memoizedProps:null,b=g.children,uh(h,g)?b=null:v!==null&&uh(h,v)&&(i.flags|=32),Rg(r,i),Jt(r,i,b,l),i.child;case 6:return r===null&&xh(i),null;case 13:return Vg(r,i,l);case 4:return Sh(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=Co(i,null,h,l):Jt(r,i,h,l),i.child;case 11:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:Qn(h,g),Ig(r,i,h,g,l);case 7:return Jt(r,i,i.pendingProps,l),i.child;case 8:return Jt(r,i,i.pendingProps.children,l),i.child;case 12:return Jt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,g=i.pendingProps,v=i.memoizedProps,b=g.value,qe(Kc,h._currentValue),h._currentValue=b,v!==null)if(Kn(v.value,b)){if(v.children===g.children&&!rn.current){i=Hr(r,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var A=v.dependencies;if(A!==null){b=v.child;for(var V=A.firstContext;V!==null;){if(V.context===h){if(v.tag===1){V=$r(-1,l&-l),V.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var Z=K.pending;Z===null?V.next=V:(V.next=Z.next,Z.next=V),K.pending=V}}v.lanes|=l,V=v.alternate,V!==null&&(V.lanes|=l),Th(v.return,l,i),A.lanes|=l;break}V=V.next}}else if(v.tag===10)b=v.type===i.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(n(341));b.lanes|=l,A=b.alternate,A!==null&&(A.lanes|=l),Th(b,l,i),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===i){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}Jt(r,i,g.children,l),i=i.child}return i;case 9:return g=i.type,h=i.pendingProps.children,No(i,l),g=In(g),h=h(g),i.flags|=1,Jt(r,i,h,l),i.child;case 14:return h=i.type,g=Qn(h,i.pendingProps),g=Qn(h.type,g),Ag(r,i,h,g,l);case 15:return jg(r,i,i.type,i.pendingProps,l);case 17:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:Qn(h,g),iu(r,i),i.tag=1,sn(h)?(r=!0,Bc(i)):r=!1,No(i,l),_g(i,h,g),Uh(i,h,g,l),Hh(null,i,h,!0,r,l);case 19:return Fg(r,i,l);case 22:return Pg(r,i,l)}throw Error(n(156,i.tag))};function cy(r,i){return eo(r,i)}function lb(r,i,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,i,l,h){return new lb(r,i,l,h)}function df(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cb(r){if(typeof r=="function")return df(r)?1:0;if(r!=null){if(r=r.$$typeof,r===z)return 11;if(r===Nt)return 14}return 2}function Ts(r,i){var l=r.alternate;return l===null?(l=Pn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function gu(r,i,l,h,g,v){var b=2;if(h=r,typeof r=="function")df(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case M:return vi(l.children,g,v,i);case E:b=8,g|=8;break;case N:return r=Pn(12,l,i,g|2),r.elementType=N,r.lanes=v,r;case j:return r=Pn(13,l,i,g),r.elementType=j,r.lanes=v,r;case Ye:return r=Pn(19,l,i,g),r.elementType=Ye,r.lanes=v,r;case be:return yu(l,g,v,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:b=10;break e;case O:b=9;break e;case z:b=11;break e;case Nt:b=14;break e;case It:b=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Pn(b,l,i,g),i.elementType=r,i.type=h,i.lanes=v,i}function vi(r,i,l,h){return r=Pn(7,r,h,i),r.lanes=l,r}function yu(r,i,l,h){return r=Pn(22,r,h,i),r.elementType=be,r.lanes=l,r.stateNode={isHidden:!1},r}function hf(r,i,l){return r=Pn(6,r,null,i),r.lanes=l,r}function ff(r,i,l){return i=Pn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function ub(r,i,l,h,g){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=is(0),this.expirationTimes=is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function mf(r,i,l,h,g,v,b,A,V){return r=new ub(r,i,l,A,V),i===1?(i=1,v===!0&&(i|=8)):i=0,v=Pn(3,null,null,i),r.current=v,v.stateNode=r,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(v),r}function db(r,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:i,implementation:l}}function uy(r){if(!r)return ps;r=r._reactInternals;e:{if(Un(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(sn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(sn(l))return O0(r,l,i)}return i}function dy(r,i,l,h,g,v,b,A,V){return r=mf(l,h,!0,r,g,v,b,A,V),r.context=uy(null),l=r.current,h=Zt(),g=_s(l),v=$r(h,g),v.callback=i??null,vs(l,v,g),r.current.lanes=g,os(r,g,h),ln(r,h),r}function vu(r,i,l,h){var g=i.current,v=Zt(),b=_s(g);return l=uy(l),i.context===null?i.context=l:i.pendingContext=l,i=$r(v,b),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=vs(g,i,b),r!==null&&(Jn(r,g,b,v),Qc(r,g,b)),b}function xu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hy(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function pf(r,i){hy(r,i),(r=r.alternate)&&hy(r,i)}function hb(){return null}var fy=typeof reportError=="function"?reportError:function(r){console.error(r)};function gf(r){this._internalRoot=r}wu.prototype.render=gf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));vu(r,i,null,null)},wu.prototype.unmount=gf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;pi(function(){vu(null,r,null,null)}),i[Or]=null}};function wu(r){this._internalRoot=r}wu.prototype.unstable_scheduleHydration=function(r){if(r){var i=wc();r={blockedOn:null,target:r,priority:i};for(var l=0;l<ar.length&&i!==0&&i<ar[l].priority;l++);ar.splice(l,0,r),l===0&&bc(r)}};function yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ku(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function my(){}function fb(r,i,l,h,g){if(g){if(typeof h=="function"){var v=h;h=function(){var K=xu(b);v.call(K)}}var b=dy(i,h,r,0,null,!1,!1,"",my);return r._reactRootContainer=b,r[Or]=b.current,Ua(r.nodeType===8?r.parentNode:r),pi(),b}for(;g=r.lastChild;)r.removeChild(g);if(typeof h=="function"){var A=h;h=function(){var K=xu(V);A.call(K)}}var V=mf(r,0,!1,null,null,!1,!1,"",my);return r._reactRootContainer=V,r[Or]=V.current,Ua(r.nodeType===8?r.parentNode:r),pi(function(){vu(i,V,l,h)}),V}function _u(r,i,l,h,g){var v=l._reactRootContainer;if(v){var b=v;if(typeof g=="function"){var A=g;g=function(){var V=xu(b);A.call(V)}}vu(i,b,r,g)}else b=fb(l,i,r,g,h);return xu(b)}vc=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=ss(i.pendingLanes);l!==0&&(as(i,l|1),ln(i,We()),(Me&6)===0&&(Ro=We()+500,gs()))}break;case 13:pi(function(){var h=zr(r,1);if(h!==null){var g=Zt();Jn(h,r,1,g)}}),pf(r,1)}},ro=function(r){if(r.tag===13){var i=zr(r,134217728);if(i!==null){var l=Zt();Jn(i,r,134217728,l)}pf(r,134217728)}},xc=function(r){if(r.tag===13){var i=_s(r),l=zr(r,i);if(l!==null){var h=Zt();Jn(l,r,i,h)}pf(r,i)}},wc=function(){return je},kc=function(r,i){var l=je;try{return je=r,i()}finally{je=l}},Gi=function(r,i,l){switch(i){case"input":if(da(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==r&&h.form===r.form){var g=Fc(h);if(!g)throw Error(n(90));zi(h),da(h,g)}}}break;case"textarea":qi(r,l);break;case"select":i=l.value,i!=null&&Ar(r,!!l.multiple,i,!1)}},Qs=lf,ka=pi;var mb={usingClientEntryPoint:!1,Events:[$a,wo,Fc,ir,wa,lf]},rl={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pb={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ta(r),r===null?null:r.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||hb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{ei=bu.inject(pb),fn=bu}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb,cn.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(i))throw Error(n(200));return db(r,i,null,l)},cn.createRoot=function(r,i){if(!yf(r))throw Error(n(299));var l=!1,h="",g=fy;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=mf(r,1,!1,null,null,l,!1,h,g),r[Or]=i.current,Ua(r.nodeType===8?r.parentNode:r),new gf(i)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Ta(i),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return pi(r)},cn.hydrate=function(r,i,l){if(!ku(i))throw Error(n(200));return _u(null,r,i,!0,l)},cn.hydrateRoot=function(r,i,l){if(!yf(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,g=!1,v="",b=fy;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),i=dy(i,null,r,1,l??null,g,!1,v,b),r[Or]=i.current,Ua(r),h)for(r=0;r<h.length;r++)l=h[r],g=l._getVersion,g=g(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,g]:i.mutableSourceEagerHydrationData.push(l,g);return new wu(i)},cn.render=function(r,i,l){if(!ku(i))throw Error(n(200));return _u(null,r,i,!1,l)},cn.unmountComponentAtNode=function(r){if(!ku(r))throw Error(n(40));return r._reactRootContainer?(pi(function(){_u(null,null,r,!1,function(){r._reactRootContainer=null,r[Or]=null})}),!0):!1},cn.unstable_batchedUpdates=lf,cn.unstable_renderSubtreeIntoContainer=function(r,i,l,h){if(!ku(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return _u(r,i,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var _y;function Cb(){if(_y)return wf.exports;_y=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wf.exports=Eb(),wf.exports}var by;function Sb(){if(by)return Tu;by=1;var t=Cb();return Tu.createRoot=t.createRoot,Tu.hydrateRoot=t.hydrateRoot,Tu}var Nb=Sb();const Ib=f1(Nb);var ol={},Ty;function Ab(){if(Ty)return ol;Ty=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.parse=u,ol.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,T){const S=new a,I=_.length;if(I<2)return S;const R=(T==null?void 0:T.decode)||x;let U=0;do{const B=_.indexOf("=",U);if(B===-1)break;const L=_.indexOf(";",U),X=L===-1?I:L;if(B>X){U=_.lastIndexOf(";",B-1)+1;continue}const se=f(_,U,B),ae=m(_,B,se),M=_.slice(se,ae);if(S[M]===void 0){let E=f(_,B+1,X),N=m(_,X,E);const P=R(_.slice(E,N));S[M]=P}U=X+1}while(U<I);return S}function f(_,T,S){do{const I=_.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<S);return S}function m(_,T,S){for(;T>S;){const I=_.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return S}function p(_,T,S){const I=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const R=I(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let U=_+"="+R;if(!S)return U;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);U+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);U+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);U+="; Path="+S.path}if(S.expires){if(!w(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);U+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(U+="; HttpOnly"),S.secure&&(U+="; Secure"),S.partitioned&&(U+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return U}function x(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function w(_){return o.call(_)==="[object Date]"}return ol}Ab();var Ey="popstate";function jb(t={}){function e(s,o){let{pathname:a,search:u,hash:f}=s.location;return Xf("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:El(o)}return Rb(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pb(){return Math.random().toString(36).substring(2,10)}function Cy(t,e){return{usr:t.state,key:t.key,idx:e}}function Xf(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:n,key:e&&e.key||s||Pb()}}function El({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Rb(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:a=!1}=s,u=o.history,f="POP",m=null,p=x();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function x(){return(u.state||{idx:null}).idx}function w(){f="POP";let R=x(),U=R==null?null:R-p;p=R,m&&m({action:f,location:I.location,delta:U})}function _(R,U){f="PUSH";let B=Xf(I.location,R,U);p=x()+1;let L=Cy(B,p),X=I.createHref(B);try{u.pushState(L,"",X)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(X)}a&&m&&m({action:f,location:I.location,delta:1})}function T(R,U){f="REPLACE";let B=Xf(I.location,R,U);p=x();let L=Cy(B,p),X=I.createHref(B);u.replaceState(L,"",X),a&&m&&m({action:f,location:I.location,delta:0})}function S(R){return Db(R)}let I={get action(){return f},get location(){return t(o,u)},listen(R){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Ey,w),m=R,()=>{o.removeEventListener(Ey,w),m=null}},createHref(R){return e(o,R)},createURL:S,encodeLocation(R){let U=S(R);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:_,replace:T,go(R){return u.go(R)}};return I}function Db(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:El(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function m1(t,e,n="/"){return Mb(t,e,n,!1)}function Mb(t,e,n,s){let o=typeof e=="string"?na(e):e,a=Yr(o.pathname||"/",n);if(a==null)return null;let u=p1(t);Lb(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=Kb(a);f=Wb(u[m],p,s)}return f}function p1(t,e=[],n=[],s=""){let o=(a,u,f)=>{let m={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};m.relativePath.startsWith("/")&&(rt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Gr([s,m.relativePath]),x=n.concat(m);a.children&&a.children.length>0&&(rt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),p1(a.children,e,x,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:$b(p,a.index),routesMeta:x})};return t.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let m of g1(a.path))o(a,u,m)}),e}function g1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let u=g1(s.join("/")),f=[];return f.push(...u.map(m=>m===""?a:[a,m].join("/"))),o&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function Lb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Hb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Vb=/^:[\w-]+$/,Ob=3,Fb=2,Ub=1,Bb=10,zb=-2,Sy=t=>t==="*";function $b(t,e){let n=t.split("/"),s=n.length;return n.some(Sy)&&(s+=zb),e&&(s+=Fb),n.filter(o=>!Sy(o)).reduce((o,a)=>o+(Vb.test(a)?Ob:a===""?Ub:Bb),s)}function Hb(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function Wb(t,e,n=!1){let{routesMeta:s}=t,o={},a="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,x=a==="/"?e:e.slice(a.length)||"/",w=Qu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},x),_=m.route;if(!w&&p&&n&&!s[s.length-1].route.index&&(w=Qu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Gr([a,w.pathname]),pathnameBase:Xb(Gr([a,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(a=Gr([a,w.pathnameBase]))}return u}function Qu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=qb(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((p,{paramName:x,isOptional:w},_)=>{if(x==="*"){let S=f[_]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const T=f[_];return w&&!T?p[x]=void 0:p[x]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function qb(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Kb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function Gb(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?na(t):t;return{pathname:n?n.startsWith("/")?n:Qb(n,e):e,search:Jb(s),hash:Zb(o)}}function Qb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function bf(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function y1(t){let e=Yb(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function v1(t,e,n,s=!1){let o;typeof t=="string"?o=na(t):(o={...t},rt(!o.pathname||!o.pathname.includes("?"),bf("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),bf("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),bf("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=n;else{let w=e.length-1;if(!s&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),w-=1;o.pathname=_.join("/")}f=w>=0?e[w]:"/"}let m=Gb(o,f),p=u&&u!=="/"&&u.endsWith("/"),x=(a||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||x)&&(m.pathname+="/"),m}var Gr=t=>t.join("/").replace(/\/\/+/g,"/"),Xb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var x1=["POST","PUT","PATCH","DELETE"];new Set(x1);var tT=["GET",...x1];new Set(tT);var ra=D.createContext(null);ra.displayName="DataRouter";var bd=D.createContext(null);bd.displayName="DataRouterState";var w1=D.createContext({isTransitioning:!1});w1.displayName="ViewTransition";var nT=D.createContext(new Map);nT.displayName="Fetchers";var rT=D.createContext(null);rT.displayName="Await";var Cr=D.createContext(null);Cr.displayName="Navigation";var Hl=D.createContext(null);Hl.displayName="Location";var rr=D.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var zm=D.createContext(null);zm.displayName="RouteError";function sT(t,{relative:e}={}){rt(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(Cr),{hash:o,pathname:a,search:u}=ql(t,{relative:e}),f=a;return n!=="/"&&(f=a==="/"?n:Gr([n,a])),s.createHref({pathname:f,search:u,hash:o})}function Wl(){return D.useContext(Hl)!=null}function Sr(){return rt(Wl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Hl).location}var k1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _1(t){D.useContext(Cr).static||D.useLayoutEffect(t)}function Td(){let{isDataRoute:t}=D.useContext(rr);return t?xT():iT()}function iT(){rt(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(ra),{basename:e,navigator:n}=D.useContext(Cr),{matches:s}=D.useContext(rr),{pathname:o}=Sr(),a=JSON.stringify(y1(s)),u=D.useRef(!1);return _1(()=>{u.current=!0}),D.useCallback((m,p={})=>{if(br(u.current,k1),!u.current)return;if(typeof m=="number"){n.go(m);return}let x=v1(m,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Gr([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,a,o,t])}var oT=D.createContext(null);function aT(t){let e=D.useContext(rr).outlet;return e&&D.createElement(oT.Provider,{value:t},e)}function b1(){let{matches:t}=D.useContext(rr),e=t[t.length-1];return e?e.params:{}}function ql(t,{relative:e}={}){let{matches:n}=D.useContext(rr),{pathname:s}=Sr(),o=JSON.stringify(y1(n));return D.useMemo(()=>v1(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function lT(t,e){return T1(t,e)}function T1(t,e,n,s){var U;rt(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Cr),{matches:a}=D.useContext(rr),u=a[a.length-1],f=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",x=u&&u.route;{let B=x&&x.path||"";E1(m,!x||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=Sr(),_;if(e){let B=typeof e=="string"?na(e):e;rt(p==="/"||((U=B.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${B.pathname}" was given in the \`location\` prop.`),_=B}else _=w;let T=_.pathname||"/",S=T;if(p!=="/"){let B=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=m1(t,{pathname:S});br(x||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),br(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=fT(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:Gr([p,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:Gr([p,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),a,n,s);return e&&R?D.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function cT(){let t=vT(),e=eT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:a},"ErrorBoundary")," or"," ",D.createElement("code",{style:a},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,u)}var uT=D.createElement(cT,null),dT=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(rr.Provider,{value:this.props.routeContext},D.createElement(zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hT({routeContext:t,match:e,children:n}){let s=D.useContext(ra);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(rr.Provider,{value:t},n)}function fT(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let m=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,f=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:x,errors:w}=n,_=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||_){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,p,x)=>{let w,_=!1,T=null,S=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||uT,u&&(f<0&&x===0?(E1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):f===x&&(_=!0,S=p.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,x+1)),R=()=>{let U;return w?U=T:_?U=S:p.route.Component?U=D.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,D.createElement(hT,{match:p,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?D.createElement(dT,{location:n.location,revalidation:n.revalidation,component:T,error:w,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}function $m(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mT(t){let e=D.useContext(ra);return rt(e,$m(t)),e}function pT(t){let e=D.useContext(bd);return rt(e,$m(t)),e}function gT(t){let e=D.useContext(rr);return rt(e,$m(t)),e}function Hm(t){let e=gT(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yT(){return Hm("useRouteId")}function vT(){var s;let t=D.useContext(zm),e=pT("useRouteError"),n=Hm("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function xT(){let{router:t}=mT("useNavigate"),e=Hm("useNavigate"),n=D.useRef(!1);return _1(()=>{n.current=!0}),D.useCallback(async(o,a={})=>{br(n.current,k1),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Ny={};function E1(t,e,n){!e&&!Ny[t]&&(Ny[t]=!0,br(!1,n))}D.memo(wT);function wT({routes:t,future:e,state:n}){return T1(t,void 0,n,e)}function kT(t){return aT(t.context)}function wn(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _T({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:a=!1}){rt(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=D.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=na(n));let{pathname:m="/",search:p="",hash:x="",state:w=null,key:_="default"}=n,T=D.useMemo(()=>{let S=Yr(m,u);return S==null?null:{location:{pathname:S,search:p,hash:x,state:w,key:_},navigationType:s}},[u,m,p,x,w,_,s]);return br(T!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${x}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:D.createElement(Cr.Provider,{value:f},D.createElement(Hl.Provider,{children:e,value:T}))}function bT({children:t,location:e}){return lT(Jf(t),e)}function Jf(t,e=[]){let n=[];return D.Children.forEach(t,(s,o)=>{if(!D.isValidElement(s))return;let a=[...e,o];if(s.type===D.Fragment){n.push.apply(n,Jf(s.props.children,a));return}rt(s.type===wn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Jf(s.props.children,a)),n.push(u)}),n}var Mu="get",Lu="application/x-www-form-urlencoded";function Ed(t){return t!=null&&typeof t.tagName=="string"}function TT(t){return Ed(t)&&t.tagName.toLowerCase()==="button"}function ET(t){return Ed(t)&&t.tagName.toLowerCase()==="form"}function CT(t){return Ed(t)&&t.tagName.toLowerCase()==="input"}function ST(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NT(t,e){return t.button===0&&(!e||e==="_self")&&!ST(t)}var Eu=null;function IT(){if(Eu===null)try{new FormData(document.createElement("form"),0),Eu=!1}catch{Eu=!0}return Eu}var AT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(t){return t!=null&&!AT.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lu}"`),null):t}function jT(t,e){let n,s,o,a,u;if(ET(t)){let f=t.getAttribute("action");s=f?Yr(f,e):null,n=t.getAttribute("method")||Mu,o=Tf(t.getAttribute("enctype"))||Lu,a=new FormData(t)}else if(TT(t)||CT(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Yr(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Mu,o=Tf(t.getAttribute("formenctype"))||Tf(f.getAttribute("enctype"))||Lu,a=new FormData(f,t),!IT()){let{name:p,type:x,value:w}=t;if(x==="image"){let _=p?`${p}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else p&&a.append(p,w)}}else{if(Ed(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mu,s=null,o=Lu,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:a,body:u}}function Wm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function PT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DT(t,e,n){let s=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await PT(a,n);return u.links?u.links():[]}return[]}));return OT(s.flat(1).filter(RT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Iy(t,e,n,s,o,a){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var x;return n[p].pathname!==m.pathname||((x=n[p].route.path)==null?void 0:x.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return a==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):a==="data"?e.filter((m,p)=>{var w;let x=s.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function MT(t,e,{includeHydrateFallback:n}={}){return LT(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function LT(t){return[...new Set(t)]}function VT(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function OT(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let a=JSON.stringify(VT(o));return n.has(a)||(n.add(a),s.push({key:a,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FT=new Set([100,101,204,205]);function UT(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Yr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function C1(){let t=D.useContext(ra);return Wm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BT(){let t=D.useContext(bd);return Wm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qm=D.createContext(void 0);qm.displayName="FrameworkContext";function S1(){let t=D.useContext(qm);return Wm(t,"You must render this element inside a <HydratedRouter> element"),t}function zT(t,e){let n=D.useContext(qm),[s,o]=D.useState(!1),[a,u]=D.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:x,onTouchStart:w}=e,_=D.useRef(null);D.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let I=U=>{U.forEach(B=>{u(B.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[t]),D.useEffect(()=>{if(s){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[s]);let T=()=>{o(!0)},S=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:al(f,T),onBlur:al(m,S),onMouseEnter:al(p,T),onMouseLeave:al(x,S),onTouchStart:al(w,T)}]:[!1,_,{}]}function al(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $T({page:t,...e}){let{router:n}=C1(),s=D.useMemo(()=>m1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(WT,{page:t,matches:s,...e}):null}function HT(t){let{manifest:e,routeModules:n}=S1(),[s,o]=D.useState([]);return D.useEffect(()=>{let a=!1;return DT(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),s}function WT({page:t,matches:e,...n}){let s=Sr(),{manifest:o,routeModules:a}=S1(),{basename:u}=C1(),{loaderData:f,matches:m}=BT(),p=D.useMemo(()=>Iy(t,e,m,o,s,"data"),[t,e,m,o,s]),x=D.useMemo(()=>Iy(t,e,m,o,s,"assets"),[t,e,m,o,s]),w=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let S=new Set,I=!1;if(e.forEach(U=>{var L;let B=o.routes[U.route.id];!B||!B.hasLoader||(!p.some(X=>X.route.id===U.route.id)&&U.route.id in f&&((L=a[U.route.id])!=null&&L.shouldRevalidate)||B.hasClientLoader?I=!0:S.add(U.route.id))}),S.size===0)return[];let R=UT(t,u);return I&&S.size>0&&R.searchParams.set("_routes",e.filter(U=>S.has(U.route.id)).map(U=>U.route.id).join(",")),[R.pathname+R.search]},[u,f,s,o,p,e,t,a]),_=D.useMemo(()=>MT(x,o),[x,o]),T=HT(x);return D.createElement(D.Fragment,null,w.map(S=>D.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>D.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),T.map(({key:S,link:I})=>D.createElement("link",{key:S,...I})))}function qT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var N1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N1&&(window.__reactRouterVersion="7.6.2")}catch{}function KT({basename:t,children:e,window:n}){let s=D.useRef();s.current==null&&(s.current=jb({window:n,v5Compat:!0}));let o=s.current,[a,u]=D.useState({action:o.action,location:o.location}),f=D.useCallback(m=>{D.startTransition(()=>u(m))},[u]);return D.useLayoutEffect(()=>o.listen(f),[o,f]),D.createElement(_T,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:a,replace:u,state:f,target:m,to:p,preventScrollReset:x,viewTransition:w,..._},T){let{basename:S}=D.useContext(Cr),I=typeof p=="string"&&I1.test(p),R,U=!1;if(typeof p=="string"&&I&&(R=p,N1))try{let N=new URL(window.location.href),P=p.startsWith("//")?new URL(N.protocol+p):new URL(p),O=Yr(P.pathname,S);P.origin===N.origin&&O!=null?p=O+P.search+P.hash:U=!0}catch{br(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=sT(p,{relative:o}),[L,X,se]=zT(s,_),ae=XT(p,{replace:u,state:f,target:m,preventScrollReset:x,relative:o,viewTransition:w});function M(N){e&&e(N),N.defaultPrevented||ae(N)}let E=D.createElement("a",{..._,...se,href:R||B,onClick:U||a?e:M,ref:qT(T,X),target:m,"data-discover":!I&&n==="render"?"true":void 0});return L&&!I?D.createElement(D.Fragment,null,E,D.createElement($T,{page:B})):E});_e.displayName="Link";var GT=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:a,to:u,viewTransition:f,children:m,...p},x){let w=ql(u,{relative:p.relative}),_=Sr(),T=D.useContext(bd),{navigator:S,basename:I}=D.useContext(Cr),R=T!=null&&nE(w)&&f===!0,U=S.encodeLocation?S.encodeLocation(w).pathname:w.pathname,B=_.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(B=B.toLowerCase(),L=L?L.toLowerCase():null,U=U.toLowerCase()),L&&I&&(L=Yr(L,I)||L);const X=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let se=B===U||!o&&B.startsWith(U)&&B.charAt(X)==="/",ae=L!=null&&(L===U||!o&&L.startsWith(U)&&L.charAt(U.length)==="/"),M={isActive:se,isPending:ae,isTransitioning:R},E=se?e:void 0,N;typeof s=="function"?N=s(M):N=[s,se?"active":null,ae?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(M):a;return D.createElement(_e,{...p,"aria-current":E,className:N,ref:x,style:P,to:u,viewTransition:f},typeof m=="function"?m(M):m)});GT.displayName="NavLink";var QT=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:a,method:u=Mu,action:f,onSubmit:m,relative:p,preventScrollReset:x,viewTransition:w,..._},T)=>{let S=eE(),I=tE(f,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&I1.test(f),B=L=>{if(m&&m(L),L.defaultPrevented)return;L.preventDefault();let X=L.nativeEvent.submitter,se=(X==null?void 0:X.getAttribute("formmethod"))||u;S(X||L.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:a,relative:p,preventScrollReset:x,viewTransition:w})};return D.createElement("form",{ref:T,method:R,action:I,onSubmit:s?m:B,..._,"data-discover":!U&&t==="render"?"true":void 0})});QT.displayName="Form";function YT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A1(t){let e=D.useContext(ra);return rt(e,YT(t)),e}function XT(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=Td(),m=Sr(),p=ql(t,{relative:a});return D.useCallback(x=>{if(NT(x,e)){x.preventDefault();let w=n!==void 0?n:El(m)===El(p);f(t,{replace:w,state:s,preventScrollReset:o,relative:a,viewTransition:u})}},[m,f,p,n,s,e,t,o,a,u])}var JT=0,ZT=()=>`__${String(++JT)}__`;function eE(){let{router:t}=A1("useSubmit"),{basename:e}=D.useContext(Cr),n=yT();return D.useCallback(async(s,o={})=>{let{action:a,method:u,encType:f,formData:m,body:p}=jT(s,e);if(o.navigate===!1){let x=o.fetcherKey||ZT();await t.fetch(x,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function tE(t,{relative:e}={}){let{basename:n}=D.useContext(Cr),s=D.useContext(rr);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),a={...ql(t||".",{relative:e})},u=Sr();if(t==null){a.search=u.search;let f=new URLSearchParams(a.search),m=f.getAll("index");if(m.some(x=>x==="")){f.delete("index"),m.filter(w=>w).forEach(w=>f.append("index",w));let x=f.toString();a.search=x?`?${x}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Gr([n,a.pathname])),El(a)}function nE(t,e={}){let n=D.useContext(w1);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=A1("useViewTransitionState"),o=ql(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qu(o.pathname,u)!=null||Qu(o.pathname,a)!=null}[...FT];const j1=t=>{switch(t){case"primary":return"bg-primary-600 hover:bg-primary-700 text-white dark:bg-primary-500 dark:hover:bg-primary-400 border-transparent";case"secondary":return"bg-secondary-600 hover:bg-secondary-700 text-white dark:bg-secondary-500 dark:hover:bg-secondary-400 border-transparent";case"outline":return"bg-transparent hover:bg-ink-50 dark:hover:bg-dark-800 text-ink-900 dark:text-white border-ink-300 dark:border-dark-700";case"ghost":return"bg-transparent hover:bg-ink-50 dark:hover:bg-dark-800 text-ink-700 dark:text-ink-200 border-transparent";case"cta-primary":return"bg-white hover:bg-gray-100 text-primary-700 border-transparent shadow-lg hover:shadow-xl";case"cta-secondary":return"bg-transparent hover:bg-white/20 text-white border-2 border-white hover:shadow-lg";default:return"bg-primary-600 hover:bg-primary-700 text-white dark:bg-primary-500 dark:hover:bg-primary-400 border-transparent"}},P1=t=>{switch(t){case"sm":return"text-sm px-3 py-1.5 rounded";case"md":return"text-base px-4 py-2 rounded-md";case"lg":return"text-lg px-6 py-3 rounded-md";default:return"text-base px-4 py-2 rounded-md"}},ze=({children:t,variant:e="primary",size:n="md",className:s="",fullWidth:o=!1,...a})=>{const u=j1(e),f=P1(n);return c.jsx("button",{className:`inline-flex items-center justify-center font-medium border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-600 disabled:opacity-50 ${u} ${f} ${o?"w-full":""} ${s}`,...a,children:t})},Yu=({children:t,variant:e="primary",size:n="md",className:s="",fullWidth:o=!1,to:a,...u})=>{const f=j1(e),m=P1(n);return c.jsx(_e,{to:a,className:`inline-flex items-center justify-center font-medium border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-600 disabled:opacity-50 ${f} ${m} ${o?"w-full":""} ${s}`,...u,children:t})};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=()=>{};var Ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],f=t[n++],m=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const a=t[n++],u=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},D1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,f=u?t[o+1]:0,m=o+2<t.length,p=m?t[o+2]:0,x=a>>2,w=(a&3)<<4|f>>4;let _=(f&15)<<2|p>>6,T=p&63;m||(T=64,u||(_=64)),s.push(n[x],n[w],n[_],n[T])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||p==null||w==null)throw new iE;const _=a<<2|f>>4;if(s.push(_),p!==64){const T=f<<4&240|p>>2;if(s.push(T),w!==64){const S=p<<6&192|w;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oE=function(t){const e=R1(t);return D1.encodeByteArray(e,!0)},Xu=function(t){return oE(t).replace(/\./g,"")},M1=function(t){try{return D1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=()=>aE().__FIREBASE_DEFAULTS__,cE=()=>{if(typeof process>"u"||typeof Ay>"u")return;const t=Ay.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M1(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return rE()||lE()||cE()||uE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L1=t=>{var e,n;return(n=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dE=t=>{const e=L1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},V1=()=>{var t;return(t=Cd())===null||t===void 0?void 0:t.config},O1=t=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return t.endsWith(".cloudworkstations.dev")}async function F1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xu(JSON.stringify(n)),Xu(JSON.stringify(u)),""].join(".")}const ml={};function mE(){const t={prod:[],emulator:[]};for(const e of Object.keys(ml))ml[e]?t.emulator.push(e):t.prod.push(e);return t}function pE(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jy=!1;function U1(t,e){if(typeof window>"u"||typeof document>"u"||!Kl(window.location.host)||ml[t]===e||ml[t]||jy)return;ml[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",a=mE().prod.length>0;function u(){const _=document.getElementById(s);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{jy=!0,u()},_}function x(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function w(){const _=pE(s),T=n("text"),S=document.getElementById(T)||document.createElement("span"),I=n("learnmore"),R=document.getElementById(I)||document.createElement("a"),U=n("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;f(L),x(R,I);const X=p();m(B,U),L.append(B,S,R,X),document.body.appendChild(L)}a?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function yE(){var t;const e=(t=Cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kE(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _E(){return!yE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bE(){try{return typeof indexedDB=="object"}catch{return!1}}function TE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="FirebaseError";class Vn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=EE,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?CE(a,s):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Vn(o,f,s)}}function CE(t,e){return t.replace(SE,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SE=/\{\$([^}]+)}/g;function NE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ji(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const a=t[o],u=e[o];if(Py(a)&&Py(u)){if(!ji(a,u))return!1}else if(a!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Py(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IE(t,e){const n=new AE(t,e);return n.subscribe.bind(n)}class AE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jE(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ef),o.error===void 0&&(o.error=Ef),o.complete===void 0&&(o.complete=Ef);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ef(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DE(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);s===f&&u.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RE(t){return t===ki?void 0:t}function DE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const LE={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},VE=Ae.INFO,OE={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},FE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=OE[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=VE,this._logHandler=FE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const UE=(t,e)=>e.some(n=>t instanceof n);let Ry,Dy;function BE(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zE(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B1=new WeakMap,Zf=new WeakMap,z1=new WeakMap,Cf=new WeakMap,Gm=new WeakMap;function $E(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Ps(t.result)),o()},u=()=>{s(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&B1.set(n,t)}).catch(()=>{}),Gm.set(e,t),e}function HE(t){if(Zf.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Zf.set(t,e)}let em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WE(t){em=t(em)}function qE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Sf(this),e,...n);return z1.set(s,e.sort?e.sort():[e]),Ps(s)}:zE().includes(t)?function(...e){return t.apply(Sf(this),e),Ps(B1.get(this))}:function(...e){return Ps(t.apply(Sf(this),e))}}function KE(t){return typeof t=="function"?qE(t):(t instanceof IDBTransaction&&HE(t),UE(t,BE())?new Proxy(t,em):t)}function Ps(t){if(t instanceof IDBRequest)return $E(t);if(Cf.has(t))return Cf.get(t);const e=KE(t);return e!==t&&(Cf.set(t,e),Gm.set(e,t)),e}const Sf=t=>Gm.get(t);function GE(t,e,{blocked:n,upgrade:s,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),f=Ps(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Ps(u.result),m.oldVersion,m.newVersion,Ps(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{a&&m.addEventListener("close",()=>a()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const QE=["get","getKey","getAll","getAllKeys","count"],YE=["put","add","delete","clear"],Nf=new Map;function My(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=YE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QE.includes(n)))return;const a=async function(u,...f){const m=this.transaction(u,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),o&&m.done]))[0]};return Nf.set(e,a),a}WE(t=>({...t,get:(e,n,s)=>My(e,n)||t.get(e,n,s),has:(e,n)=>!!My(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tm="@firebase/app",Ly="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Km("@firebase/app"),ZE="@firebase/app-compat",e4="@firebase/analytics-compat",t4="@firebase/analytics",n4="@firebase/app-check-compat",r4="@firebase/app-check",s4="@firebase/auth",i4="@firebase/auth-compat",o4="@firebase/database",a4="@firebase/data-connect",l4="@firebase/database-compat",c4="@firebase/functions",u4="@firebase/functions-compat",d4="@firebase/installations",h4="@firebase/installations-compat",f4="@firebase/messaging",m4="@firebase/messaging-compat",p4="@firebase/performance",g4="@firebase/performance-compat",y4="@firebase/remote-config",v4="@firebase/remote-config-compat",x4="@firebase/storage",w4="@firebase/storage-compat",k4="@firebase/firestore",_4="@firebase/ai",b4="@firebase/firestore-compat",T4="firebase",E4="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",C4={[tm]:"fire-core",[ZE]:"fire-core-compat",[t4]:"fire-analytics",[e4]:"fire-analytics-compat",[r4]:"fire-app-check",[n4]:"fire-app-check-compat",[s4]:"fire-auth",[i4]:"fire-auth-compat",[o4]:"fire-rtdb",[a4]:"fire-data-connect",[l4]:"fire-rtdb-compat",[c4]:"fire-fn",[u4]:"fire-fn-compat",[d4]:"fire-iid",[h4]:"fire-iid-compat",[f4]:"fire-fcm",[m4]:"fire-fcm-compat",[p4]:"fire-perf",[g4]:"fire-perf-compat",[y4]:"fire-rc",[v4]:"fire-rc-compat",[x4]:"fire-gcs",[w4]:"fire-gcs-compat",[k4]:"fire-fst",[b4]:"fire-fst-compat",[_4]:"fire-vertex","fire-js":"fire-js",[T4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,S4=new Map,rm=new Map;function Vy(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(rm.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,t);for(const n of Ju.values())Vy(n,t);for(const n of S4.values())Vy(n,t);return!0}function Qm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Gl("app","Firebase",N4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=E4;function $1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:nm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Rs.create("bad-app-name",{appName:String(o)});if(n||(n=V1()),!n)throw Rs.create("no-options");const a=Ju.get(o);if(a){if(ji(n,a.options)&&ji(s,a.config))return a;throw Rs.create("duplicate-app",{appName:o})}const u=new ME(o);for(const m of rm.values())u.addComponent(m);const f=new I4(n,s,u);return Ju.set(o,f),f}function H1(t=nm){const e=Ju.get(t);if(!e&&t===nm&&V1())return $1();if(!e)throw Rs.create("no-app",{appName:t});return e}function Ds(t,e,n){var s;let o=(s=C4[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(f.join(" "));return}Go(new Pi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="firebase-heartbeat-database",j4=1,Cl="firebase-heartbeat-store";let If=null;function W1(){return If||(If=GE(A4,j4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),If}async function P4(t){try{const n=(await W1()).transaction(Cl),s=await n.objectStore(Cl).get(q1(t));return await n.done,s}catch(e){if(e instanceof Vn)Xr.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function Oy(t,e){try{const s=(await W1()).transaction(Cl,"readwrite");await s.objectStore(Cl).put(e,q1(t)),await s.done}catch(n){if(n instanceof Vn)Xr.warn(n.message);else{const s=Rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(s.message)}}}function q1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=1024,D4=30;class M4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Fy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>D4){const u=O4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fy(),{heartbeatsToSend:s,unsentEntries:o}=L4(this._heartbeatsCache.heartbeats),a=Xu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Xr.warn(n),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function L4(t,e=R4){const n=[];let s=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Uy(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Uy(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class V4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bE()?TE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Uy(t){return Xu(JSON.stringify({version:2,heartbeats:t})).length}function O4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){Go(new Pi("platform-logger",e=>new XE(e),"PRIVATE")),Go(new Pi("heartbeat",e=>new M4(e),"PRIVATE")),Ds(tm,Ly,t),Ds(tm,Ly,"esm2017"),Ds("fire-js","")}F4("");var U4="firebase",B4="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(U4,B4,"app");function Ym(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function K1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z4=K1,G1=new Gl("auth","Firebase",K1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Km("@firebase/auth");function $4(t,...e){Zu.logLevel<=Ae.WARN&&Zu.warn(`Auth (${sa}): ${t}`,...e)}function Vu(t,...e){Zu.logLevel<=Ae.ERROR&&Zu.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw Xm(t,...e)}function gr(t,...e){return Xm(t,...e)}function Q1(t,e,n){const s=Object.assign(Object.assign({},z4()),{[e]:n});return new Gl("auth","Firebase",s).create(e,{appName:t.name})}function Qr(t){return Q1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return G1.create(t,...e)}function ve(t,e,...n){if(!t)throw Xm(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function Jr(t,e){t||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function H4(){return By()==="http:"||By()==="https:"}function By(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H4()||xE()||"connection"in navigator)?navigator.onLine:!0}function q4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=gE()||wE()}get(){return W4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q4=new Yl(3e4,6e4);function Bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zs(t,e,n,s,o={}){return X1(t,o,async()=>{let a={},u={};s&&(e==="GET"?u=s:a={body:JSON.stringify(s)});const f=Ql(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},a);return vE()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Kl(t.emulatorConfig.host)&&(p.credentials="include"),Y1.fetch()(await J1(t,t.config.apiHost,n,f),p)})}async function X1(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},K4),e);try{const o=new X4(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Cu(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Cu(t,"user-disabled",u);const x=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Q1(t,x,p);nr(t,x)}}catch(o){if(o instanceof Vn)throw o;nr(t,"network-request-failed",{message:String(o)})}}async function Xl(t,e,n,s,o={}){const a=await zs(t,e,n,s,o);return"mfaPendingCredential"in a&&nr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function J1(t,e,n,s){const o=`${e}${n}?${s}`,a=t,u=a.config.emulator?Jm(t.config,o):`${t.config.apiScheme}://${o}`;return G4.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Y4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gr(this.auth,"network-request-failed")),Q4.get())})}}function Cu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gr(t,e,s);return o.customData._tokenResponse=n,o}function zy(t){return t!==void 0&&t.enterprise!==void 0}class J4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z4(t,e){return zs(t,"GET","/v2/recaptchaConfig",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t,e){return zs(t,"POST","/v1/accounts:delete",e)}async function ed(t,e){return zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tC(t,e=!1){const n=Qt(t),s=await n.getIdToken(e),o=Zm(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:pl(Af(o.auth_time)),issuedAtTime:pl(Af(o.iat)),expirationTime:pl(Af(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Af(t){return Number(t)*1e3}function Zm(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const o=M1(n);return o?JSON.parse(o):(Vu("Failed to decode base64 JWT payload"),null)}catch(o){return Vu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $y(t){const e=Zm(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vn&&nC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function nC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t){var e;const n=t.auth,s=await t.getIdToken(),o=await Sl(t,ed(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const a=o.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Z1(a.providerUserInfo):[],f=iC(t.providerData,u),m=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(f!=null&&f.length),x=m?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new im(a.createdAt,a.lastLoginAt),isAnonymous:x};Object.assign(t,w)}async function sC(t){const e=Qt(t);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iC(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Z1(t){return t.map(e=>{var{providerId:n}=e,s=Ym(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(t,e){const n=await X1(t,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=await J1(t,o,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Y1.fetch()(u,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aC(t,e){return zs(t,"POST","/v2/accounts:revokeToken",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=$y(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:a}=await oC(e,n);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:a}=n,u=new Ho;return s&&(ve(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(ve(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,a=Ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new im(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Sl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tC(this,e)}reload(){return sC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Sl(this,eC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,a,u,f,m,p,x;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,I=(f=n.tenantId)!==null&&f!==void 0?f:void 0,R=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,U=(p=n.createdAt)!==null&&p!==void 0?p:void 0,B=(x=n.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:L,emailVerified:X,isAnonymous:se,providerData:ae,stsTokenManager:M}=n;ve(L&&M,e,"internal-error");const E=Ho.fromJSON(this.name,M);ve(typeof L=="string",e,"internal-error"),Cs(w,e.name),Cs(_,e.name),ve(typeof X=="boolean",e,"internal-error"),ve(typeof se=="boolean",e,"internal-error"),Cs(T,e.name),Cs(S,e.name),Cs(I,e.name),Cs(R,e.name),Cs(U,e.name),Cs(B,e.name);const N=new tr({uid:L,auth:e,email:_,emailVerified:X,displayName:w,isAnonymous:se,photoURL:S,phoneNumber:T,tenantId:I,stsTokenManager:E,createdAt:U,lastLoginAt:B});return ae&&Array.isArray(ae)&&(N.providerData=ae.map(P=>Object.assign({},P))),R&&(N._redirectEventId=R),N}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ho;o.updateFromServerResponse(n);const a=new tr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await td(a),a}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Z1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Ho;f.updateFromIdToken(s);const m=new tr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;function Kr(t){Jr(t instanceof Function,"Expected a class definition");let e=Hy.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ew.type="NONE";const Wy=ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t,e,n){return`firebase:${t}:${e}:${n}`}class Wo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Ou(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ou("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ed(this.auth,{idToken:e}).catch(()=>{});return n?tr._fromGetAccountInfoResponse(this.auth,n,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wo(Kr(Wy),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||Kr(Wy);const u=Ou(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const x=await p._get(u);if(x){let w;if(typeof x=="string"){const _=await ed(e,{idToken:x}).catch(()=>{});if(!_)break;w=await tr._fromGetAccountInfoResponse(e,_,x)}else w=tr._fromJSON(e,x);p!==a&&(f=w),a=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new Wo(a,e,s):(a=m[0],f&&await a._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Wo(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ow(e))return"Blackberry";if(aw(e))return"Webos";if(nw(e))return"Safari";if((e.includes("chrome/")||rw(e))&&!e.includes("edge/"))return"Chrome";if(iw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tw(t=Gt()){return/firefox\//i.test(t)}function nw(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rw(t=Gt()){return/crios\//i.test(t)}function sw(t=Gt()){return/iemobile/i.test(t)}function iw(t=Gt()){return/android/i.test(t)}function ow(t=Gt()){return/blackberry/i.test(t)}function aw(t=Gt()){return/webos/i.test(t)}function ep(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lC(t=Gt()){var e;return ep(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cC(){return kE()&&document.documentMode===10}function lw(t=Gt()){return ep(t)||iw(t)||aw(t)||ow(t)||/windows phone/i.test(t)||sw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e=[]){let n;switch(t){case"Browser":n=qy(Gt());break;case"Worker":n=`${qy(Gt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((u,f)=>{try{const m=e(a);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t,e={}){return zs(t,"GET","/v2/passwordPolicy",Bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=6;class fC{constructor(e){var n,s,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:hC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,a,u,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(a=m.containsUppercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ky(this),this.idTokenSubscription=new Ky(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var s,o,a;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ed(this,{idToken:e}),s=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(o=m.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Qr(this));const n=e?Qt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dC(this),n=new fC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return Qt(t)}class Ky{constructor(e){this.auth=e,this.observer=null,this.addObserver=IE(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pC(t){Sd=t}function uw(t){return Sd.loadJS(t)}function gC(){return Sd.recaptchaEnterpriseScript}function yC(){return Sd.gapiScript}function vC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xC{constructor(){this.enterprise=new wC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kC="recaptcha-enterprise",dw="NO_RECAPTCHA";class _C{constructor(e){this.type=kC,this.auth=Fi(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{Z4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new J4(m);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function o(a,u,f){const m=window.grecaptcha;zy(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(dw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xC().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{s(this.auth).then(f=>{if(!n&&zy(window.grecaptcha))o(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=gC();m.length!==0&&(m+=f),uw(m).then(()=>{o(f,a,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function Gy(t,e,n,s=!1,o=!1){const a=new _C(t);let u;if(o)u=dw;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function om(t,e,n,s,o){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Gy(t,e,n,n==="getOobCode");return s(t,u)}else return s(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Gy(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){const n=Qm(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(ji(a,e??{}))return o;nr(o,"already-initialized")}return n.initialize({options:e})}function TC(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function EC(t,e,n){const s=Fi(t);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=hw(e),{host:u,port:f}=CC(e),m=f===null?"":`:${f}`,p={url:`${a}//${u}${m}/`},x=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ji(p,s.config.emulator)&&ji(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Kl(u)?(F1(`${a}//${u}${m}`),U1("Auth",!0)):SC()}function hw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CC(t){const e=hw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:Qy(s.substr(a.length+1))}}else{const[a,u]=s.split(":");return{host:a,port:Qy(u)}}}function Qy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function NC(t,e){return zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t,e){return Xl(t,"POST","/v1/accounts:signInWithPassword",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(t,e){return Xl(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}async function jC(t,e){return Xl(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends tp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Nl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Nl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,n,"signInWithPassword",IC);case"emailLink":return AC(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,s,"signUpPassword",NC);case"emailLink":return jC(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e){return Xl(t,"POST","/v1/accounts:signInWithIdp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="http://localhost";class Ri extends tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,a=Ym(n,["providerId","signInMethod"]);if(!s||!o)return null;const u=new Ri(s,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,qo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:PC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DC(t){const e=ul(dl(t)).link,n=e?ul(dl(e)).deep_link_id:null,s=ul(dl(t)).deep_link_id;return(s?ul(dl(s)).link:null)||s||n||e||t}class np{constructor(e){var n,s,o,a,u,f;const m=ul(dl(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,x=(s=m.oobCode)!==null&&s!==void 0?s:null,w=RC((o=m.mode)!==null&&o!==void 0?o:null);ve(p&&x&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=x,this.continueUrl=(a=m.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=m.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=DC(e);try{return new np(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,n){return Nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=np.parseLink(n);return ve(s,"argument-error"),Nl._fromEmailAndCode(e,s.code,s.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Jl{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ri._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Is.credential(n,s)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Jl{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Jl{constructor(){super("twitter.com")}static credential(e,n){return Ri._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return js.credential(n,s)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(t,e){return Xl(t,"POST","/v1/accounts:signUp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const a=await tr._fromIdTokenResponse(e,s,o),u=Yy(s);return new Di({user:a,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Yy(s);return new Di({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Yy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Vn{constructor(e,n,s,o){var a;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new nd(e,n,s,o)}}function mw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(t,a,e,s):a})}async function LC(t,e,n=!1){const s=await Sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Di._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(t,e,n=!1){const{auth:s}=t;if(Mn(s.app))return Promise.reject(Qr(s));const o="reauthenticate";try{const a=await Sl(t,mw(s,o,e,t),n);ve(a.idToken,s,"internal-error");const u=Zm(a.idToken);ve(u,s,"internal-error");const{sub:f}=u;return ve(t.uid===f,s,"user-mismatch"),Di._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&nr(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(t,e,n=!1){if(Mn(t.app))return Promise.reject(Qr(t));const s="signIn",o=await mw(t,s,e),a=await Di._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(a.user),a}async function OC(t,e){return pw(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FC(t,e,n){if(Mn(t.app))return Promise.reject(Qr(t));const s=Fi(t),u=await om(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MC).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&gw(t),m}),f=await Di._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function UC(t,e,n){return Mn(t.app)?Promise.reject(Qr(t)):OC(Qt(t),ia.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gw(t),s})}function BC(t,e,n,s){return Qt(t).onIdTokenChanged(e,n,s)}function zC(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function $C(t,e,n,s){return Qt(t).onAuthStateChanged(e,n,s)}function HC(t){return Qt(t).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=1e3,qC=10;class vw extends yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},a=this.storage.getItem(s);cC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},WC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vw.type="LOCAL";const KC=vw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xw.type="SESSION";const ww=xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Nd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(u).map(async p=>p(n.origin,a)),m=await GC(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,m)=>{const p=rp("",20);o.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(w){const _=w;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(x),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(_.data.response);break;default:clearTimeout(x),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function YC(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function XC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZC(){return kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firebaseLocalStorageDb",eS=1,sd="firebaseLocalStorage",bw="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Id(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function tS(){const t=indexedDB.deleteDatabase(_w);return new Zl(t).toPromise()}function am(){const t=indexedDB.open(_w,eS);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(sd,{keyPath:bw})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(sd)?e(s):(s.close(),await tS(),e(await am()))})})}async function Xy(t,e,n){const s=Id(t,!0).put({[bw]:e,value:n});return new Zl(s).toPromise()}async function nS(t,e){const n=Id(t,!1).get(e),s=await new Zl(n).toPromise();return s===void 0?null:s.value}function Jy(t,e){const n=Id(t,!0).delete(e);return new Zl(n).toPromise()}const rS=800,sS=3;class Tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XC(),!this.activeServiceWorker)return;this.sender=new QC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await Xy(e,rd,"1"),await Jy(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Xy(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nS(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Id(o,!1).getAll();return new Zl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tw.type="LOCAL";const iS=Tw;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e){return e?Kr(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aS(t){return pw(t.auth,new sp(t),t.bypassAuthState)}function lS(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),VC(n,new sp(t),t.bypassAuthState)}async function cS(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),LC(n,new sp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aS;case"linkViaPopup":case"linkViaRedirect":return cS;case"reauthViaPopup":case"reauthViaRedirect":return lS;default:nr(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new Yl(2e3,1e4);class Oo extends Ew{constructor(e,n,s,o,a){super(e,n,o,a),this.provider=s,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uS.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="pendingRedirect",Fu=new Map;class hS extends Ew{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Fu.get(this.auth._key());if(!e){try{const s=await fS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Fu.set(this.auth._key(),e)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fS(t,e){const n=gS(e),s=pS(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mS(t,e){Fu.set(t._key(),e)}function pS(t){return Kr(t._redirectPersistence)}function gS(t){return Ou(dS,t.config.apiKey,t.name)}async function yS(t,e,n=!1){if(Mn(t.app))return Promise.reject(Qr(t));const s=Fi(t),o=oS(s,e),u=await new hS(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=10*60*1e3;class xS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wS(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Cw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(e))}saveEventToCache(e){this.cachedEventUids.add(Zy(e)),this.lastProcessedEventTime=Date.now()}}function Zy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Cw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wS(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(t,e={}){return zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bS=/^https?/;async function TS(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kS(t);for(const n of e)try{if(ES(n))return}catch{}nr(t,"unauthorized-domain")}function ES(t){const e=sm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!bS.test(n))return!1;if(_S.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Yl(3e4,6e4);function ev(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SS(t){return new Promise((e,n)=>{var s,o,a;function u(){ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ev(),n(gr(t,"network-request-failed"))},timeout:CS.get()})}if(!((o=(s=yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=yr().gapi)===null||a===void 0)&&a.load)u();else{const f=vC("iframefcb");return yr()[f]=()=>{gapi.load?u():n(gr(t,"network-request-failed"))},uw(`${yC()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function NS(t){return Uu=Uu||SS(t),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Yl(5e3,15e3),AS="__/auth/iframe",jS="emulator/auth/iframe",PS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DS(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,jS):`https://${t.config.authDomain}/${AS}`,s={apiKey:e.apiKey,appName:t.name,v:sa},o=RS.get(t.config.apiHost);o&&(s.eid=o);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${Ql(s).slice(1)}`}async function MS(t){const e=await NS(t),n=yr().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:DS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PS,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const u=gr(t,"network-request-failed"),f=yr().setTimeout(()=>{a(u)},IS.get());function m(){yr().clearTimeout(f),o(s)}s.ping(m).then(m,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VS=500,OS=600,FS="_blank",US="http://localhost";class tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BS(t,e,n,s=VS,o=OS){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},LS),{width:s.toString(),height:o.toString(),top:a,left:u}),p=Gt().toLowerCase();n&&(f=rw(p)?FS:n),tw(p)&&(e=e||US,m.scrollbars="yes");const x=Object.entries(m).reduce((_,[T,S])=>`${_}${T}=${S},`,"");if(lC(p)&&f!=="_self")return zS(e||"",f),new tv(null);const w=window.open(e||"",f,x);ve(w,t,"popup-blocked");try{w.focus()}catch{}return new tv(w)}function zS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="__/auth/handler",HS="emulator/auth/handler",WS=encodeURIComponent("fac");async function nv(t,e,n,s,o,a){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:sa,eventId:o};if(e instanceof fw){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",NE(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))u[x]=w}if(e instanceof Jl){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const m=await t._getAppCheckToken(),p=m?`#${WS}=${encodeURIComponent(m)}`:"";return`${qS(t)}?${Ql(f).slice(1)}${p}`}function qS({config:t}){return t.emulator?Jm(t,HS):`https://${t.authDomain}/${$S}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="webStorageSupport";class KS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ww,this._completeRedirectFn=yS,this._overrideRedirectResult=mS}async _openPopup(e,n,s,o){var a;Jr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await nv(e,n,s,sm(),o);return BS(e,u,rp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const a=await nv(e,n,s,sm(),o);return YC(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Jr(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await MS(e),s=new xS(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jf,{type:jf},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[jf];u!==void 0&&n(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TS(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lw()||nw()||ep()}}const GS=KS;var rv="@firebase/auth",sv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XS(t){Go(new Pi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;ve(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cw(t)},p=new mC(s,o,a,m);return TC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Go(new Pi("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(s=>new QS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(rv,sv,YS(t)),Ds(rv,sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=5*60,ZS=O1("authIdTokenMaxAge")||JS;let iv=null;const eN=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZS)return;const o=n==null?void 0:n.token;iv!==o&&(iv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tN(t=H1()){const e=Qm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bC(t,{popupRedirectResolver:GS,persistence:[iS,KC,ww]}),s=O1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const u=eN(a.toString());zC(n,u,()=>u(n.currentUser)),BC(n,f=>u(f))}}const o=L1("auth");return o&&EC(n,`http://${o}`),n}function nN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pC({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const a=gr("internal-error");a.customData=o,n(a)},s.type="text/javascript",s.charset="UTF-8",nN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XS("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ip;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,E){function N(){}N.prototype=E.prototype,M.D=E.prototype,M.prototype=new N,M.prototype.constructor=M,M.C=function(P,O,z){for(var j=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)j[Ye-2]=arguments[Ye];return E.prototype[O].apply(P,j)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,E,N){N||(N=0);var P=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)P[O]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(O=0;16>O;++O)P[O]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=M.g[0],N=M.g[1],O=M.g[2];var z=M.g[3],j=E+(z^N&(O^z))+P[0]+3614090360&4294967295;E=N+(j<<7&4294967295|j>>>25),j=z+(O^E&(N^O))+P[1]+3905402710&4294967295,z=E+(j<<12&4294967295|j>>>20),j=O+(N^z&(E^N))+P[2]+606105819&4294967295,O=z+(j<<17&4294967295|j>>>15),j=N+(E^O&(z^E))+P[3]+3250441966&4294967295,N=O+(j<<22&4294967295|j>>>10),j=E+(z^N&(O^z))+P[4]+4118548399&4294967295,E=N+(j<<7&4294967295|j>>>25),j=z+(O^E&(N^O))+P[5]+1200080426&4294967295,z=E+(j<<12&4294967295|j>>>20),j=O+(N^z&(E^N))+P[6]+2821735955&4294967295,O=z+(j<<17&4294967295|j>>>15),j=N+(E^O&(z^E))+P[7]+4249261313&4294967295,N=O+(j<<22&4294967295|j>>>10),j=E+(z^N&(O^z))+P[8]+1770035416&4294967295,E=N+(j<<7&4294967295|j>>>25),j=z+(O^E&(N^O))+P[9]+2336552879&4294967295,z=E+(j<<12&4294967295|j>>>20),j=O+(N^z&(E^N))+P[10]+4294925233&4294967295,O=z+(j<<17&4294967295|j>>>15),j=N+(E^O&(z^E))+P[11]+2304563134&4294967295,N=O+(j<<22&4294967295|j>>>10),j=E+(z^N&(O^z))+P[12]+1804603682&4294967295,E=N+(j<<7&4294967295|j>>>25),j=z+(O^E&(N^O))+P[13]+4254626195&4294967295,z=E+(j<<12&4294967295|j>>>20),j=O+(N^z&(E^N))+P[14]+2792965006&4294967295,O=z+(j<<17&4294967295|j>>>15),j=N+(E^O&(z^E))+P[15]+1236535329&4294967295,N=O+(j<<22&4294967295|j>>>10),j=E+(O^z&(N^O))+P[1]+4129170786&4294967295,E=N+(j<<5&4294967295|j>>>27),j=z+(N^O&(E^N))+P[6]+3225465664&4294967295,z=E+(j<<9&4294967295|j>>>23),j=O+(E^N&(z^E))+P[11]+643717713&4294967295,O=z+(j<<14&4294967295|j>>>18),j=N+(z^E&(O^z))+P[0]+3921069994&4294967295,N=O+(j<<20&4294967295|j>>>12),j=E+(O^z&(N^O))+P[5]+3593408605&4294967295,E=N+(j<<5&4294967295|j>>>27),j=z+(N^O&(E^N))+P[10]+38016083&4294967295,z=E+(j<<9&4294967295|j>>>23),j=O+(E^N&(z^E))+P[15]+3634488961&4294967295,O=z+(j<<14&4294967295|j>>>18),j=N+(z^E&(O^z))+P[4]+3889429448&4294967295,N=O+(j<<20&4294967295|j>>>12),j=E+(O^z&(N^O))+P[9]+568446438&4294967295,E=N+(j<<5&4294967295|j>>>27),j=z+(N^O&(E^N))+P[14]+3275163606&4294967295,z=E+(j<<9&4294967295|j>>>23),j=O+(E^N&(z^E))+P[3]+4107603335&4294967295,O=z+(j<<14&4294967295|j>>>18),j=N+(z^E&(O^z))+P[8]+1163531501&4294967295,N=O+(j<<20&4294967295|j>>>12),j=E+(O^z&(N^O))+P[13]+2850285829&4294967295,E=N+(j<<5&4294967295|j>>>27),j=z+(N^O&(E^N))+P[2]+4243563512&4294967295,z=E+(j<<9&4294967295|j>>>23),j=O+(E^N&(z^E))+P[7]+1735328473&4294967295,O=z+(j<<14&4294967295|j>>>18),j=N+(z^E&(O^z))+P[12]+2368359562&4294967295,N=O+(j<<20&4294967295|j>>>12),j=E+(N^O^z)+P[5]+4294588738&4294967295,E=N+(j<<4&4294967295|j>>>28),j=z+(E^N^O)+P[8]+2272392833&4294967295,z=E+(j<<11&4294967295|j>>>21),j=O+(z^E^N)+P[11]+1839030562&4294967295,O=z+(j<<16&4294967295|j>>>16),j=N+(O^z^E)+P[14]+4259657740&4294967295,N=O+(j<<23&4294967295|j>>>9),j=E+(N^O^z)+P[1]+2763975236&4294967295,E=N+(j<<4&4294967295|j>>>28),j=z+(E^N^O)+P[4]+1272893353&4294967295,z=E+(j<<11&4294967295|j>>>21),j=O+(z^E^N)+P[7]+4139469664&4294967295,O=z+(j<<16&4294967295|j>>>16),j=N+(O^z^E)+P[10]+3200236656&4294967295,N=O+(j<<23&4294967295|j>>>9),j=E+(N^O^z)+P[13]+681279174&4294967295,E=N+(j<<4&4294967295|j>>>28),j=z+(E^N^O)+P[0]+3936430074&4294967295,z=E+(j<<11&4294967295|j>>>21),j=O+(z^E^N)+P[3]+3572445317&4294967295,O=z+(j<<16&4294967295|j>>>16),j=N+(O^z^E)+P[6]+76029189&4294967295,N=O+(j<<23&4294967295|j>>>9),j=E+(N^O^z)+P[9]+3654602809&4294967295,E=N+(j<<4&4294967295|j>>>28),j=z+(E^N^O)+P[12]+3873151461&4294967295,z=E+(j<<11&4294967295|j>>>21),j=O+(z^E^N)+P[15]+530742520&4294967295,O=z+(j<<16&4294967295|j>>>16),j=N+(O^z^E)+P[2]+3299628645&4294967295,N=O+(j<<23&4294967295|j>>>9),j=E+(O^(N|~z))+P[0]+4096336452&4294967295,E=N+(j<<6&4294967295|j>>>26),j=z+(N^(E|~O))+P[7]+1126891415&4294967295,z=E+(j<<10&4294967295|j>>>22),j=O+(E^(z|~N))+P[14]+2878612391&4294967295,O=z+(j<<15&4294967295|j>>>17),j=N+(z^(O|~E))+P[5]+4237533241&4294967295,N=O+(j<<21&4294967295|j>>>11),j=E+(O^(N|~z))+P[12]+1700485571&4294967295,E=N+(j<<6&4294967295|j>>>26),j=z+(N^(E|~O))+P[3]+2399980690&4294967295,z=E+(j<<10&4294967295|j>>>22),j=O+(E^(z|~N))+P[10]+4293915773&4294967295,O=z+(j<<15&4294967295|j>>>17),j=N+(z^(O|~E))+P[1]+2240044497&4294967295,N=O+(j<<21&4294967295|j>>>11),j=E+(O^(N|~z))+P[8]+1873313359&4294967295,E=N+(j<<6&4294967295|j>>>26),j=z+(N^(E|~O))+P[15]+4264355552&4294967295,z=E+(j<<10&4294967295|j>>>22),j=O+(E^(z|~N))+P[6]+2734768916&4294967295,O=z+(j<<15&4294967295|j>>>17),j=N+(z^(O|~E))+P[13]+1309151649&4294967295,N=O+(j<<21&4294967295|j>>>11),j=E+(O^(N|~z))+P[4]+4149444226&4294967295,E=N+(j<<6&4294967295|j>>>26),j=z+(N^(E|~O))+P[11]+3174756917&4294967295,z=E+(j<<10&4294967295|j>>>22),j=O+(E^(z|~N))+P[2]+718787259&4294967295,O=z+(j<<15&4294967295|j>>>17),j=N+(z^(O|~E))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+E&4294967295,M.g[1]=M.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,E){E===void 0&&(E=M.length);for(var N=E-this.blockSize,P=this.B,O=this.h,z=0;z<E;){if(O==0)for(;z<=N;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<E;)if(P[O++]=M.charCodeAt(z++),O==this.blockSize){o(this,P),O=0;break}}else for(;z<E;)if(P[O++]=M[z++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=E},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var E=1;E<M.length-8;++E)M[E]=0;var N=8*this.o;for(E=M.length-8;E<M.length;++E)M[E]=N&255,N/=256;for(this.u(M),M=Array(16),E=N=0;4>E;++E)for(var P=0;32>P;P+=8)M[N++]=this.g[E]>>>P&255;return M};function a(M,E){var N=f;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=E(M)}function u(M,E){this.h=E;for(var N=[],P=!0,O=M.length-1;0<=O;O--){var z=M[O]|0;P&&z==E||(N[O]=z,P=!1)}this.g=N}var f={};function m(M){return-128<=M&&128>M?a(M,function(E){return new u([E|0],0>E?-1:0)}):new u([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return R(p(-M));for(var E=[],N=1,P=0;M>=N;P++)E[P]=M/N|0,N*=4294967296;return new u(E,0)}function x(M,E){if(M.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(M.charAt(0)=="-")return R(x(M.substring(1),E));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(E,8)),P=w,O=0;O<M.length;O+=8){var z=Math.min(8,M.length-O),j=parseInt(M.substring(O,O+z),E);8>z?(z=p(Math.pow(E,z)),P=P.j(z).add(p(j))):(P=P.j(N),P=P.add(p(j)))}return P}var w=m(0),_=m(1),T=m(16777216);t=u.prototype,t.m=function(){if(I(this))return-R(this).m();for(var M=0,E=1,N=0;N<this.g.length;N++){var P=this.i(N);M+=(0<=P?P:4294967296+P)*E,E*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(I(this))return"-"+R(this).toString(M);for(var E=p(Math.pow(M,6)),N=this,P="";;){var O=X(N,E).g;N=U(N,O.j(E));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(M);if(N=O,S(N))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var E=0;E<M.g.length;E++)if(M.g[E]!=0)return!1;return!0}function I(M){return M.h==-1}t.l=function(M){return M=U(this,M),I(M)?-1:S(M)?0:1};function R(M){for(var E=M.g.length,N=[],P=0;P<E;P++)N[P]=~M.g[P];return new u(N,~M.h).add(_)}t.abs=function(){return I(this)?R(this):this},t.add=function(M){for(var E=Math.max(this.g.length,M.g.length),N=[],P=0,O=0;O<=E;O++){var z=P+(this.i(O)&65535)+(M.i(O)&65535),j=(z>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);P=j>>>16,z&=65535,j&=65535,N[O]=j<<16|z}return new u(N,N[N.length-1]&-2147483648?-1:0)};function U(M,E){return M.add(R(E))}t.j=function(M){if(S(this)||S(M))return w;if(I(this))return I(M)?R(this).j(R(M)):R(R(this).j(M));if(I(M))return R(this.j(R(M)));if(0>this.l(T)&&0>M.l(T))return p(this.m()*M.m());for(var E=this.g.length+M.g.length,N=[],P=0;P<2*E;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<M.g.length;O++){var z=this.i(P)>>>16,j=this.i(P)&65535,Ye=M.i(O)>>>16,Nt=M.i(O)&65535;N[2*P+2*O]+=j*Nt,B(N,2*P+2*O),N[2*P+2*O+1]+=z*Nt,B(N,2*P+2*O+1),N[2*P+2*O+1]+=j*Ye,B(N,2*P+2*O+1),N[2*P+2*O+2]+=z*Ye,B(N,2*P+2*O+2)}for(P=0;P<E;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=E;P<2*E;P++)N[P]=0;return new u(N,0)};function B(M,E){for(;(M[E]&65535)!=M[E];)M[E+1]+=M[E]>>>16,M[E]&=65535,E++}function L(M,E){this.g=M,this.h=E}function X(M,E){if(S(E))throw Error("division by zero");if(S(M))return new L(w,w);if(I(M))return E=X(R(M),E),new L(R(E.g),R(E.h));if(I(E))return E=X(M,R(E)),new L(R(E.g),E.h);if(30<M.g.length){if(I(M)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var N=_,P=E;0>=P.l(M);)N=se(N),P=se(P);var O=ae(N,1),z=ae(P,1);for(P=ae(P,2),N=ae(N,2);!S(P);){var j=z.add(P);0>=j.l(M)&&(O=O.add(N),z=j),P=ae(P,1),N=ae(N,1)}return E=U(M,O.j(E)),new L(O,E)}for(O=w;0<=M.l(E);){for(N=Math.max(1,Math.floor(M.m()/E.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=p(N),j=z.j(E);I(j)||0<j.l(M);)N-=P,z=p(N),j=z.j(E);S(z)&&(z=_),O=O.add(z),M=U(M,j)}return new L(O,M)}t.A=function(M){return X(this,M).h},t.and=function(M){for(var E=Math.max(this.g.length,M.g.length),N=[],P=0;P<E;P++)N[P]=this.i(P)&M.i(P);return new u(N,this.h&M.h)},t.or=function(M){for(var E=Math.max(this.g.length,M.g.length),N=[],P=0;P<E;P++)N[P]=this.i(P)|M.i(P);return new u(N,this.h|M.h)},t.xor=function(M){for(var E=Math.max(this.g.length,M.g.length),N=[],P=0;P<E;P++)N[P]=this.i(P)^M.i(P);return new u(N,this.h^M.h)};function se(M){for(var E=M.g.length+1,N=[],P=0;P<E;P++)N[P]=M.i(P)<<1|M.i(P-1)>>>31;return new u(N,M.h)}function ae(M,E){var N=E>>5;E%=32;for(var P=M.g.length-N,O=[],z=0;z<P;z++)O[z]=0<E?M.i(z+N)>>>E|M.i(z+N+1)<<32-E:M.i(z+N);return new u(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=x,ip=u}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sw,hl,Nw,Bu,lm,Iw,Aw,jw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,k){return d==Array.prototype||d==Object.prototype||(d[y]=k.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var y=0;y<d.length;++y){var k=d[y];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var s=n(this);function o(d,y){if(y)e:{var k=s;d=d.split(".");for(var C=0;C<d.length-1;C++){var H=d[C];if(!(H in k))break e;k=k[H]}d=d[d.length-1],C=k[d],y=y(C),y!=C&&y!=null&&e(k,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var k=0,C=!1,H={next:function(){if(!C&&k<d.length){var G=k++;return{value:y(G,d[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(d){return d||function(){return a(this,function(y,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function x(d,y,k){return d.call.apply(d.bind,arguments)}function w(d,y,k){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),d.apply(y,H)}}return function(){return d.apply(y,arguments)}}function _(d,y,k){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:w,_.apply(null,arguments)}function T(d,y){var k=Array.prototype.slice.call(arguments,1);return function(){var C=k.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function S(d,y){function k(){}k.prototype=y.prototype,d.aa=y.prototype,d.prototype=new k,d.prototype.constructor=d,d.Qb=function(C,H,G){for(var ie=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ie[Be-2]=arguments[Be];return y.prototype[H].apply(C,ie)}}function I(d){const y=d.length;if(0<y){const k=Array(y);for(let C=0;C<y;C++)k[C]=d[C];return k}return[]}function R(d,y){for(let k=1;k<arguments.length;k++){const C=arguments[k];if(m(C)){const H=d.length||0,G=C.length||0;d.length=H+G;for(let ie=0;ie<G;ie++)d[H+ie]=C[ie]}else d.push(C)}}class U{constructor(y,k){this.i=y,this.j=k,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function X(d){return X[" "](d),d}X[" "]=function(){};var se=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function ae(d,y,k){for(const C in d)y.call(k,d[C],C,d)}function M(d,y){for(const k in d)y.call(void 0,d[k],k,d)}function E(d){const y={};for(const k in d)y[k]=d[k];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,y){let k,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(k in C)d[k]=C[k];for(let G=0;G<N.length;G++)k=N[G],Object.prototype.hasOwnProperty.call(C,k)&&(d[k]=C[k])}}function O(d){var y=1;d=d.split(":");const k=[];for(;0<y&&d.length;)k.push(d.shift()),y--;return d.length&&k.push(d.join(":")),k}function z(d){f.setTimeout(()=>{throw d},0)}function j(){var d=me;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,k){const C=Nt.get();C.set(y,k),this.h?this.h.next=C:this.g=C,this.h=C}}var Nt=new U(()=>new It,d=>d.reset());class It{constructor(){this.next=this.g=this.h=null}set(y,k){this.h=y,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let be,re=!1,me=new Ye,oe=()=>{const d=f.Promise.resolve(void 0);be=()=>{d.then($)}};var $=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(k){z(k)}var y=Nt;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const k=()=>{};f.addEventListener("test",k,y),f.removeEventListener("test",k,y)}catch{}return d}();function Se(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var k=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(se){e:{try{X(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else k=="mouseover"?y=d.fromElement:k=="mouseout"&&(y=d.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Pe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}S(Se,pe);var Pe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function He(d,y,k,C,H){this.listener=d,this.proxy=null,this.src=y,this.type=k,this.capture=!!C,this.ha=H,this.key=++Fe,this.da=this.fa=!1}function wt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Nr(d){this.src=d,this.g={},this.h=0}Nr.prototype.add=function(d,y,k,C,H){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var ie=ts(d,y,C,H);return-1<ie?(y=d[ie],k||(y.fa=!1)):(y=new He(y,this.src,G,!!C,H),y.fa=k,d.push(y)),y};function zi(d,y){var k=y.type;if(k in d.g){var C=d.g[k],H=Array.prototype.indexOf.call(C,y,void 0),G;(G=0<=H)&&Array.prototype.splice.call(C,H,1),G&&(wt(y),d.g[k].length==0&&(delete d.g[k],d.h--))}}function ts(d,y,k,C){for(var H=0;H<d.length;++H){var G=d[H];if(!G.da&&G.listener==y&&G.capture==!!k&&G.ha==C)return H}return-1}var Ws="closure_lm_"+(1e6*Math.random()|0),$i={};function ua(d,y,k,C,H){if(Array.isArray(y)){for(var G=0;G<y.length;G++)ua(d,y[G],k,C,H);return null}return k=fa(k),d&&d[Oe]?d.K(y,k,p(C)?!!C.capture:!1,H):da(d,y,k,!1,C,H)}function da(d,y,k,C,H,G){if(!y)throw Error("Invalid event type");var ie=p(H)?!!H.capture:!!H,Be=Wi(d);if(Be||(d[Ws]=Be=new Nr(d)),k=Be.add(y,k,C,ie,G),k.proxy)return k;if(C=cc(),k.proxy=C,C.src=d,C.listener=k,d.addEventListener)Ee||(H=ie),H===void 0&&(H=!1),d.addEventListener(y.toString(),C,H);else if(d.attachEvent)d.attachEvent(Ar(y.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return k}function cc(){function d(k){return y.call(d.src,d.listener,k)}const y=ha;return d}function Hi(d,y,k,C,H){if(Array.isArray(y))for(var G=0;G<y.length;G++)Hi(d,y[G],k,C,H);else C=p(C)?!!C.capture:!!C,k=fa(k),d&&d[Oe]?(d=d.i,y=String(y).toString(),y in d.g&&(G=d.g[y],k=ts(G,k,C,H),-1<k&&(wt(G[k]),Array.prototype.splice.call(G,k,1),G.length==0&&(delete d.g[y],d.h--)))):d&&(d=Wi(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ts(y,k,C,H)),(k=-1<d?y[d]:null)&&Ir(k))}function Ir(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Oe])zi(y.i,d);else{var k=d.type,C=d.proxy;y.removeEventListener?y.removeEventListener(k,C,d.capture):y.detachEvent?y.detachEvent(Ar(k),C):y.addListener&&y.removeListener&&y.removeListener(C),(k=Wi(y))?(zi(k,d),k.h==0&&(k.src=null,y[Ws]=null)):wt(d)}}}function Ar(d){return d in $i?$i[d]:$i[d]="on"+d}function ha(d,y){if(d.da)d=!0;else{y=new Se(y,this);var k=d.listener,C=d.ha||d.src;d.fa&&Ir(d),d=k.call(C,y)}return d}function Wi(d){return d=d[Ws],d instanceof Nr?d:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(d){return typeof d=="function"?d:(d[qi]||(d[qi]=function(y){return d.handleEvent(y)}),d[qi])}function pt(){Q.call(this),this.i=new Nr(this),this.M=this,this.F=null}S(pt,Q),pt.prototype[Oe]=!0,pt.prototype.removeEventListener=function(d,y,k,C){Hi(this,d,y,k,C)};function gt(d,y){var k,C=d.F;if(C)for(k=[];C;C=C.F)k.push(C);if(d=d.M,C=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var H=y;y=new pe(C,d),P(y,H)}if(H=!0,k)for(var G=k.length-1;0<=G;G--){var ie=y.g=k[G];H=jr(ie,C,!0,y)&&H}if(ie=y.g=d,H=jr(ie,C,!0,y)&&H,H=jr(ie,C,!1,y)&&H,k)for(G=0;G<k.length;G++)ie=y.g=k[G],H=jr(ie,C,!1,y)&&H}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var k=d.g[y],C=0;C<k.length;C++)wt(k[C]);delete d.g[y],d.h--}}this.F=null},pt.prototype.K=function(d,y,k,C){return this.i.add(String(d),y,!1,k,C)},pt.prototype.L=function(d,y,k,C){return this.i.add(String(d),y,!0,k,C)};function jr(d,y,k,C){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,G=0;G<y.length;++G){var ie=y[G];if(ie&&!ie.da&&ie.capture==k){var Be=ie.listener,yt=ie.ha||ie.src;ie.fa&&zi(d.i,ie),H=Be.call(yt,C)!==!1&&H}}return H&&!C.defaultPrevented}function ma(d,y,k){if(typeof d=="function")k&&(d=_(d,k));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(d,y||0)}function ns(d){d.g=ma(()=>{d.g=null,d.i&&(d.i=!1,ns(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class qs extends Q{constructor(y,k){super(),this.m=y,this.l=k,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(d){Q.call(this),this.h=d,this.g={}}S(Ks,Q);var pa=[];function ga(d){ae(d.g,function(y,k){this.g.hasOwnProperty(k)&&Ir(y)},d),d.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),ga(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=f.JSON.stringify,va=f.JSON.parse,xa=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Gs(){}Gs.prototype.h=null;function Ki(d){return d.h||(d.h=d.i())}function Gi(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){pe.call(this,"d")}S(sr,pe);function Qi(){pe.call(this,"c")}S(Qi,pe);var ir={},wa=null;function Qs(){return wa=wa||new pt}ir.La="serverreachability";function ka(d){pe.call(this,ir.La,d)}S(ka,pe);function Pr(d){const y=Qs();gt(y,new ka(y))}ir.STAT_EVENT="statevent";function _a(d,y){pe.call(this,ir.STAT_EVENT,d),this.stat=y}S(_a,pe);function lt(d){const y=Qs();gt(y,new _a(y,d))}ir.Ma="timingevent";function Yi(d,y){pe.call(this,ir.Ma,d),this.size=y}S(Yi,pe);function On(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},y)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function Xs(d,y,k,C,H,G){d.info(function(){if(d.g)if(G)for(var ie="",Be=G.split("&"),yt=0;yt<Be.length;yt++){var Re=Be[yt].split("=");if(1<Re.length){var kt=Re[0];Re=Re[1];var dt=kt.split("_");ie=2<=dt.length&&dt[1]=="type"?ie+(kt+"="+Re+"&"):ie+(kt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+y+`
`+k+`
`+ie})}function Xi(d,y,k,C,H,G,ie){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+y+`
`+k+`
`+G+" "+ie})}function Fn(d,y,k,C){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Wd(d,k)+(C?" "+C:"")})}function ba(d,y){d.info(function(){return"TIMEOUT: "+y})}Ys.prototype.info=function(){};function Wd(d,y){if(!d.g)return y;if(!y)return null;try{var k=JSON.parse(y);if(k){for(d=0;d<k.length;d++)if(Array.isArray(k[d])){var C=k[d];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<H.length;ie++)H[ie]=""}}}}return ya(k)}catch{return y}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Js(){}S(Js,Gs),Js.prototype.g=function(){return new XMLHttpRequest},Js.prototype.i=function(){return{}},Un=new Js;function Bn(d,y,k,C){this.j=d,this.i=y,this.l=k,this.R=C||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}var Ta={},Zi={};function eo(d,y,k){d.L=1,d.v=as(mn(y)),d.m=k,d.P=!0,Ea(d,null)}function Ea(d,y){d.F=Date.now(),We(d),d.A=mn(d.v);var k=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),cs(k.i,"t",C),d.C=0,k=d.j.J,d.h=new dc,d.g=Ic(d.j,k?y:null,!d.m),0<d.O&&(d.M=new qs(_(d.Y,d,d.g),d.O)),y=d.U,k=d.g,C=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(pa[0]=H.toString()),H=pa);for(var G=0;G<H.length;G++){var ie=ua(k,H[G],C||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Pr(),Xs(d.i,d.u,d.A,d.l,d.R,d.m)}Bn.prototype.ca=function(d){d=d.target;const y=this.M;y&&nn(d)==3?y.j():this.Y(d)},Bn.prototype.Y=function(d){try{if(d==this.g)e:{const dt=nn(this.g);var y=this.g.Ba();const Cn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||ja(this.g)))){this.J||dt!=4||y==7||(y==8||0>=Cn?Pr(3):Pr(2)),Zs(this);var k=this.g.Z();this.X=k;t:if(hc(this)){var C=ja(this.g);d="";var H=C.length,G=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),rs(this);var ie="";break t}this.h.i=new f.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,d+=this.h.i.decode(C[y],{stream:!(G&&y==H-1)});C.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=k==200,Xi(this.i,this.u,this.A,this.l,this.R,dt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,yt=this.g;if((Be=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Be)){var Re=Be;break t}}Re=null}if(k=Re)Fn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,k);else{this.o=!1,this.s=3,lt(12),Tn(this),rs(this);break e}}if(this.P){k=!0;let gn;for(;!this.J&&this.C<ie.length;)if(gn=qd(this,ie),gn==Zi){dt==4&&(this.s=4,lt(14),k=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Ta){this.s=4,lt(15),Fn(this.i,this.l,ie,"[Invalid Chunk]"),k=!1;break}else Fn(this.i,this.l,gn,null),Ca(this,gn);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||ie.length!=0||this.h.h||(this.s=1,lt(16),k=!1),this.o=this.o&&k,!k)Fn(this.i,this.l,ie,"[Invalid Chunked Response]"),Tn(this),rs(this);else if(0<ie.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ra(kt),kt.M=!0,lt(11))}}else Fn(this.i,this.l,ie,null),Ca(this,ie);dt==4&&Tn(this),this.o&&!this.J&&(dt==4?ho(this.j,this):(this.o=!1,We(this)))}else oo(this.g),k==400&&0<ie.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Tn(this),rs(this)}}}catch{}finally{}};function hc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function qd(d,y){var k=d.C,C=y.indexOf(`
`,k);return C==-1?Zi:(k=Number(y.substring(k,C)),isNaN(k)?Ta:(C+=1,C+k>y.length?Zi:(y=y.slice(C,C+k),d.C=C+k,y)))}Bn.prototype.cancel=function(){this.J=!0,Tn(this)};function We(d){d.S=Date.now()+d.I,fc(d,d.I)}function fc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=On(_(d.ba,d),y)}function Zs(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Bn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ba(this.i,this.A),this.L!=2&&(Pr(),lt(17)),Tn(this),this.s=2,rs(this)):fc(this,this.S-d)};function rs(d){d.j.G==0||d.J||ho(d.j,d)}function Tn(d){Zs(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,ga(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ca(d,y){try{var k=d.j;if(k.G!=0&&(k.g==d||Yt(k.h,d))){if(!d.K&&Yt(k.h,d)&&k.G==3){try{var C=k.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<d.F)uo(k),qn(k);else break e;co(k),lt(18)}}else k.za=H[1],0<k.za-k.T&&37500>H[2]&&k.F&&k.v==0&&!k.C&&(k.C=On(_(k.Za,k),6e3));if(1>=pc(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Vr(k,11)}else if((d.K||k.g==d)&&uo(k),!B(y))for(H=k.Da.g.parse(y),y=0;y<H.length;y++){let Re=H[y];if(k.T=Re[0],Re=Re[1],k.G==2)if(Re[0]=="c"){k.K=Re[1],k.ia=Re[2];const kt=Re[3];kt!=null&&(k.la=kt,k.j.info("VER="+k.la));const dt=Re[4];dt!=null&&(k.Aa=dt,k.j.info("SVER="+k.Aa));const Cn=Re[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(C=1.5*Cn,k.L=C,k.j.info("backChannelRequestTimeoutMs_="+C)),C=k;const gn=d.g;if(gn){const oi=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var G=C.h;G.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Sa(G,G.h),G.h=null))}if(C.D){const mo=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(C.ya=mo,$e(C.I,C.D,mo))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-d.F,k.j.info("Handshake RTT: "+k.R+"ms")),C=k;var ie=d;if(C.qa=Nc(C,C.J?C.ia:null,C.W),ie.K){gc(C.h,ie);var Be=ie,yt=C.L;yt&&(Be.I=yt),Be.B&&(Zs(Be),We(Be)),C.g=ie}else ii(C);0<k.i.length&&cr(k)}else Re[0]!="stop"&&Re[0]!="close"||Vr(k,7);else k.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Vr(k,7):jt(k):Re[0]!="noop"&&k.l&&k.l.ta(Re),k.v=0)}}Pr(4)}catch{}}var mc=class{constructor(d,y){this.g=d,this.map=y}};function ei(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function pc(d){return d.h?1:d.g?d.g.size:0}function Yt(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Sa(d,y){d.g?d.g.add(y):d.h=y}function gc(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}ei.prototype.cancel=function(){if(this.i=yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function yc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const k of d.g.values())y=y.concat(k.D);return y}return I(d.i)}function to(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var y=[],k=d.length,C=0;C<k;C++)y.push(d[C]);return y}y=[],k=0;for(C in d)y[k++]=d[C];return y}function no(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var y=[];d=d.length;for(var k=0;k<d;k++)y.push(k);return y}y=[],k=0;for(const C in d)y[k++]=C;return y}}}function ss(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var k=no(d),C=to(d),H=C.length,G=0;G<H;G++)y.call(void 0,C[G],k&&k[G],d)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kd(d,y){if(d){d=d.split("&");for(var k=0;k<d.length;k++){var C=d[k].indexOf("="),H=null;if(0<=C){var G=d[k].substring(0,C);H=d[k].substring(C+1)}else G=d[k];y(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Rr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Rr){this.h=d.h,ni(this,d.j),this.o=d.o,this.g=d.g,is(this,d.s),this.l=d.l;var y=d.i,k=new or;k.i=y.i,y.g&&(k.g=new Map(y.g),k.h=y.h),os(this,k),this.m=d.m}else d&&(y=String(d).match(ti))?(this.h=!1,ni(this,y[1]||"",!0),this.o=je(y[2]||""),this.g=je(y[3]||"",!0),is(this,y[4]),this.l=je(y[5]||"",!0),os(this,y[6]||"",!0),this.m=je(y[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Rr.prototype.toString=function(){var d=[],y=this.j;y&&d.push(ls(y,ro,!0),":");var k=this.g;return(k||y=="file")&&(d.push("//"),(y=this.o)&&d.push(ls(y,ro,!0),"@"),d.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&d.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&d.push("/"),d.push(ls(k,k.charAt(0)=="/"?wc:xc,!0))),(k=this.i.toString())&&d.push("?",k),(k=this.m)&&d.push("#",ls(k,Na)),d.join("")};function mn(d){return new Rr(d)}function ni(d,y,k){d.j=k?je(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function is(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function os(d,y,k){y instanceof or?(d.i=y,ar(d.i,d.h)):(k||(y=ls(y,kc)),d.i=new or(y,d.h))}function $e(d,y,k){d.i.set(y,k)}function as(d){return $e(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function je(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ls(d,y,k){return typeof d=="string"?(d=encodeURI(d).replace(y,vc),k&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ro=/[#\/\?@]/g,xc=/[#\?:]/g,wc=/[#\?]/g,kc=/[#\?@]/g,Na=/#/g;function or(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function At(d){d.g||(d.g=new Map,d.h=0,d.i&&Kd(d.i,function(y,k){d.add(decodeURIComponent(y.replace(/\+/g," ")),k)}))}t=or.prototype,t.add=function(d,y){At(this),this.i=null,d=En(this,d);var k=this.g.get(d);return k||this.g.set(d,k=[]),k.push(y),this.h+=1,this};function zn(d,y){At(d),y=En(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function $n(d,y){return At(d),y=En(d,y),d.g.has(y)}t.forEach=function(d,y){At(this),this.g.forEach(function(k,C){k.forEach(function(H){d.call(y,H,C,this)},this)},this)},t.na=function(){At(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),k=[];for(let C=0;C<y.length;C++){const H=d[C];for(let G=0;G<H.length;G++)k.push(y[C])}return k},t.V=function(d){At(this);let y=[];if(typeof d=="string")$n(this,d)&&(y=y.concat(this.g.get(En(this,d))));else{d=Array.from(this.g.values());for(let k=0;k<d.length;k++)y=y.concat(d[k])}return y},t.set=function(d,y){return At(this),this.i=null,d=En(this,d),$n(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function cs(d,y,k){zn(d,y),0<k.length&&(d.i=null,d.g.set(En(d,y),I(k)),d.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var k=0;k<y.length;k++){var C=y[k];const G=encodeURIComponent(String(C)),ie=this.V(C);for(C=0;C<ie.length;C++){var H=G;ie[C]!==""&&(H+="="+encodeURIComponent(String(ie[C]))),d.push(H)}}return this.i=d.join("&")};function En(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function ar(d,y){y&&!d.j&&(At(d),d.i=null,d.g.forEach(function(k,C){var H=C.toLowerCase();C!=H&&(zn(this,C),cs(this,H,k))},d)),d.j=y}function Gd(d,y){const k=new Ys;if(f.Image){const C=new Image;C.onload=T(tn,k,"TestLoadImage: loaded",!0,y,C),C.onerror=T(tn,k,"TestLoadImage: error",!1,y,C),C.onabort=T(tn,k,"TestLoadImage: abort",!1,y,C),C.ontimeout=T(tn,k,"TestLoadImage: timeout",!1,y,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else y(!1)}function _c(d,y){const k=new Ys,C=new AbortController,H=setTimeout(()=>{C.abort(),tn(k,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:C.signal}).then(G=>{clearTimeout(H),G.ok?tn(k,"TestPingServer: ok",!0,y):tn(k,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),tn(k,"TestPingServer: error",!1,y)})}function tn(d,y,k,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(k)}catch{}}function Qd(){this.g=new xa}function bc(d,y,k){const C=k||"";try{ss(d,function(H,G){let ie=H;p(H)&&(ie=ya(H)),y.push(C+G+"="+encodeURIComponent(ie))})}catch(H){throw y.push(C+"type="+encodeURIComponent("_badmap")),H}}function Dr(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Dr,Gs),Dr.prototype.g=function(){return new ri(this.l,this.j)},Dr.prototype.i=function(d){return function(){return d}}({});function ri(d,y){pt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ri,pt),t=ri.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Wn(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Hn(this):Wn(this),this.readyState==3&&Tc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Hn(this))},t.Qa=function(d){this.g&&(this.response=d,Hn(this))},t.ga=function(){this.g&&Hn(this)};function Hn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Wn(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var k=y.next();!k.done;)k=k.value,d.push(k[0]+": "+k[1]),k=y.next();return d.join(`\r
`)};function Wn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Mr(d){let y="";return ae(d,function(k,C){y+=C,y+=":",y+=k,y+=`\r
`}),y}function us(d,y,k){e:{for(C in k){var C=!1;break e}C=!0}C||(k=Mr(k),typeof d=="string"?k!=null&&encodeURIComponent(String(k)):$e(d,y,k))}function Xe(d){pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xe,pt);var Yd=/^https?$/i,Ia=["POST","PUT"];t=Xe.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,k,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Ki(this.o):Ki(Un),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(G){si(this,G);return}if(d=k||"",k=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)k.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())k.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(k.keys()).find(G=>G.toLowerCase()=="content-type"),H=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ia,y,void 0))||C||H||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of k)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){si(this,G)}};function si(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,so(d),pn(d)}function so(d){d.A||(d.A=!0,gt(d,"complete"),gt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,gt(this,"complete"),gt(this,"abort"),pn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},t.bb=function(){Aa(this)};function Aa(d){if(d.h&&typeof u<"u"&&(!d.v[1]||nn(d)!=4||d.Z()!=2)){if(d.u&&nn(d)==4)ma(d.Ea,0,d);else if(gt(d,"readystatechange"),nn(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var k;if(!(k=y)){var C;if(C=ie===0){var H=String(d.D).match(ti)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),C=!Yd.test(H?H.toLowerCase():"")}k=C}if(k)gt(d,"complete"),gt(d,"success");else{d.m=6;try{var G=2<nn(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",so(d)}}finally{pn(d)}}}}function pn(d,y){if(d.g){io(d);const k=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||gt(d,"ready");try{k.onreadystatechange=C}catch{}}}function io(d){d.I&&(f.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function nn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),va(y)}};function ja(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function oo(d){const y={};d=(d.g&&2<=nn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(B(d[C]))continue;var k=O(d[C]);const H=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const G=y[H]||[];y[H]=G,G.push(k)}M(y,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(d,y,k){return k&&k.internalChannelParams&&k.internalChannelParams[d]||y}function Pa(d){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,d),this.cb=lr("retryDelaySeedMs",1e4,d),this.Wa=lr("forwardChannelMaxRetries",2,d),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(d&&d.concurrentRequestLimit),this.Da=new Qd,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pa.prototype,t.la=8,t.G=1,t.connect=function(d,y,k,C){lt(0),this.W=d,this.H=y||{},k&&C!==void 0&&(this.H.OSID=k,this.H.OAID=C),this.F=this.X,this.I=Nc(this,null,this.W),cr(this)};function jt(d){if(ao(d),d.G==3){var y=d.U++,k=mn(d.I);if($e(k,"SID",d.K),$e(k,"RID",y),$e(k,"TYPE","terminate"),Lr(d,k),y=new Bn(d,d.j,y),y.L=2,y.v=as(mn(k)),k=!1,f.navigator&&f.navigator.sendBeacon)try{k=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!k&&f.Image&&(new Image().src=y.v,k=!0),k||(y.g=Ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),We(y)}Sc(d)}function qn(d){d.g&&(Ra(d),d.g.cancel(),d.g=null)}function ao(d){qn(d),d.u&&(f.clearTimeout(d.u),d.u=null),uo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function cr(d){if(!fn(d.h)&&!d.s){d.s=!0;var y=d.Ga;be||oe(),re||(be(),re=!0),me.add(y,d),d.B=0}}function Xd(d,y){return pc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=On(_(d.Ga,d,y),Cc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new Bn(this,this.j,d);let G=this.o;if(this.S&&(G?(G=E(G),P(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)e:{for(var y=0,k=0;k<this.i.length;k++){t:{var C=this.i[k];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=k;break e}if(y===4096||k===this.i.length-1){y=k+1;break e}}y=1e3}else y=1e3;y=ds(this,H,y),k=mn(this.I),$e(k,"RID",d),$e(k,"CVER",22),this.D&&$e(k,"X-HTTP-Session-Id",this.D),Lr(this,k),G&&(this.O?y="headers="+encodeURIComponent(String(Mr(G)))+"&"+y:this.m&&us(k,this.m,G)),Sa(this.h,H),this.Ua&&$e(k,"TYPE","init"),this.P?($e(k,"$req",y),$e(k,"SID","null"),H.T=!0,eo(H,k,null)):eo(H,k,y),this.G=2}}else this.G==3&&(d?lo(this,d):this.i.length==0||fn(this.h)||lo(this))};function lo(d,y){var k;y?k=y.l:k=d.U++;const C=mn(d.I);$e(C,"SID",d.K),$e(C,"RID",k),$e(C,"AID",d.T),Lr(d,C),d.m&&d.o&&us(C,d.m,d.o),k=new Bn(d,d.j,k,d.B+1),d.m===null&&(k.H=d.o),y&&(d.i=y.D.concat(d.i)),y=ds(d,k,1e3),k.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Sa(d.h,k),eo(k,C,y)}function Lr(d,y){d.H&&ae(d.H,function(k,C){$e(y,C,k)}),d.l&&ss({},function(k,C){$e(y,C,k)})}function ds(d,y,k){k=Math.min(d.i.length,k);var C=d.l?_(d.l.Na,d.l,d):null;e:{var H=d.i;let G=-1;for(;;){const ie=["count="+k];G==-1?0<k?(G=H[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Be=!0;for(let yt=0;yt<k;yt++){let Re=H[yt].g;const kt=H[yt].map;if(Re-=G,0>Re)G=Math.max(0,H[yt].g-100),Be=!1;else try{bc(kt,ie,"req"+Re+"_")}catch{C&&C(kt)}}if(Be){C=ie.join("&");break e}}}return d=d.i.splice(0,k),y.D=d,C}function ii(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;be||oe(),re||(be(),re=!0),me.add(y,d),d.v=0}}function co(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=On(_(d.Fa,d),Cc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=On(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),qn(this),Ec(this))};function Ra(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Ec(d){d.g=new Bn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=mn(d.qa);$e(y,"RID","rpc"),$e(y,"SID",d.K),$e(y,"AID",d.T),$e(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&$e(y,"TO",d.ja),$e(y,"TYPE","xmlhttp"),Lr(d,y),d.m&&d.o&&us(y,d.m,d.o),d.L&&(d.g.I=d.L);var k=d.g;d=d.ia,k.L=1,k.v=as(mn(y)),k.m=null,k.P=!0,Ea(k,d)}t.Za=function(){this.C!=null&&(this.C=null,qn(this),co(this),lt(19))};function uo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function ho(d,y){var k=null;if(d.g==y){uo(d),Ra(d),d.g=null;var C=2}else if(Yt(d.h,y))k=y.D,gc(d.h,y),C=1;else return;if(d.G!=0){if(y.o)if(C==1){k=y.m?y.m.length:0,y=Date.now()-y.F;var H=d.B;C=Qs(),gt(C,new Yi(C,k)),cr(d)}else ii(d);else if(H=y.s,H==3||H==0&&0<y.X||!(C==1&&Xd(d,y)||C==2&&co(d)))switch(k&&0<k.length&&(y=d.h,y.i=y.i.concat(k)),H){case 1:Vr(d,5);break;case 4:Vr(d,10);break;case 3:Vr(d,6);break;default:Vr(d,2)}}}function Cc(d,y){let k=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(k*=2),k*y}function Vr(d,y){if(d.j.info("Error code "+y),y==2){var k=_(d.fb,d),C=d.Xa;const H=!C;C=new Rr(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ni(C,"https"),as(C),H?Gd(C.toString(),k):_c(C.toString(),k)}else lt(2);d.G=0,d.l&&d.l.sa(y),Sc(d),ao(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Sc(d){if(d.G=0,d.ka=[],d.l){const y=yc(d.h);(y.length!=0||d.i.length!=0)&&(R(d.ka,y),R(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Nc(d,y,k){var C=k instanceof Rr?mn(k):new Rr(k);if(C.g!="")y&&(C.g=y+"."+C.g),is(C,C.s);else{var H=f.location;C=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var G=new Rr(null);C&&ni(G,C),y&&(G.g=y),H&&is(G,H),k&&(G.l=k),C=G}return k=d.D,y=d.ya,k&&y&&$e(C,k,y),$e(C,"VER",d.la),Lr(d,C),C}function Ic(d,y,k){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Xe(new Dr({eb:k})):new Xe(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Da(){}t=Da.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fo(){}fo.prototype.g=function(d,y){return new Xt(d,y)};function Xt(d,y){pt.call(this),this.g=new Pa(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!B(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new ur(this)}S(Xt,pt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){jt(this.g)},Xt.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var k={};k.__data__=d,d=k}else this.u&&(k={},k.__data__=ya(d),d=k);y.i.push(new mc(y.Ya++,d)),y.G==3&&cr(y)},Xt.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,Xt.aa.N.call(this)};function Ac(d){sr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const k in y){d=k;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}S(Ac,sr);function jc(){Qi.call(this),this.status=1}S(jc,Qi);function ur(d){this.g=d}S(ur,Da),ur.prototype.ua=function(){gt(this.g,"a")},ur.prototype.ta=function(d){gt(this.g,new Ac(d))},ur.prototype.sa=function(d){gt(this.g,new jc)},ur.prototype.ra=function(){gt(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,jw=function(){return new fo},Aw=function(){return Qs()},Iw=ir,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Bu=Ji,uc.COMPLETE="complete",Nw=uc,Gi.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,hl=Gi,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Sw=Xe}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",lv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Km("@firebase/firestore");function Lo(){return Mi.logLevel}function he(t,...e){if(Mi.logLevel<=Ae.DEBUG){const n=e.map(op);Mi.debug(`Firestore (${oa}): ${t}`,...n)}}function Li(t,...e){if(Mi.logLevel<=Ae.ERROR){const n=e.map(op);Mi.error(`Firestore (${oa}): ${t}`,...n)}}function Ad(t,...e){if(Mi.logLevel<=Ae.WARN){const n=e.map(op);Mi.warn(`Firestore (${oa}): ${t}`,...n)}}function op(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Pw(t,s,n)}function Pw(t,e,n){let s=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Li(s),new Error(s)}function at(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||Pw(e,o,s)}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class sN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let a=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Si,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const m=a;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Si)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new Rw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class oN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new oN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const s=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cN(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<n&&(s+=e.charAt(o[a]%62))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function cm(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Le(s,o);{const a=uN(),u=dN(a.encode(uv(t,n)),a.encode(uv(e,n)));return u!==0?u:Le(s,o)}}n+=s>65535?2:1}return Le(t.length,e.length)}function uv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function dN(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function Qo(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-62135596800,hv=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hv);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dv)throw new ke(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new St(0,0))}static max(){return new Ze(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class pr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const a=pr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Le(e.length,n.length)}static compareSegments(e,n){const s=pr.isNumericId(e),o=pr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pr.extractNumericId(e).compare(pr.extractNumericId(n)):cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ip.fromString(e.substring(4,e.length-2))}}class mt extends pr{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ke(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const hN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends pr{construct(e,n,s){return new Vt(e,n,s)}static isValidIdentifier(e){return hN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Vt([fv])}static fromServerFormat(e){const n=[];let s="",o=0;const a=()=>{if(s.length===0)throw new ke(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ke(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ke(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(s+=f,o++):(a(),o++)}if(a(),u)throw new ke(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(mt.fromString(e))}static fromName(e){return new Ce(mt.fromString(e).popFirst(5))}static empty(){return new Ce(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function fN(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=Ze.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new Ms(o,Ce.empty(),e)}function mN(t){return new Ms(t.readTime,t.key,Il)}class Ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(Ze.min(),Ce.empty(),Il)}static max(){return new Ms(Ze.max(),Ce.empty(),Il)}}function pN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==gN)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,s)=>{n(e)})}static reject(e){return new Y((n,s)=>{s(e)})}static waitFor(e){return new Y((n,s)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&n()},m=>s(m))}),u=!0,a===o&&n()})}static or(e){let n=Y.resolve(!1);for(const s of e)n=n.next(o=>o?Y.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,a)=>{s.push(n.call(this,o,a))}),this.waitFor(s)}static mapArray(e,n){return new Y((s,o)=>{const a=e.length,u=new Array(a);let f=0;for(let m=0;m<a;m++){const p=m;n(e[p]).next(x=>{u[p]=x,++f,f===a&&s(u)},x=>o(x))}})}static doWhile(e,n){return new Y((s,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):s()};a()})}}function vN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=-1;function up(t){return t==null}function id(t){return t===0&&1/t==-1/0}function xN(t){return typeof t=="number"&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="";function wN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mv(e)),e=kN(t.get(n),e);return mv(e)}function kN(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case Mw:n+="";break;default:n+=a}}return n}function mv(t){return t+Mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nu(this.root,e,this.comparator,!0)}}class Nu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,s,o,a){this.key=e,this.value=n,this.color=s??Mt.RED,this.left=o??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,a){return new Mt(e??this.key,n??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,s),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,o,a){return this}insert(e,n,s){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gv(this.data.getIterator())}getIteratorFrom(e){return new gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Ot(Vt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _N("Invalid base64 string: "+a):a}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const bN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=bN.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yo(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="server_timestamp",Ow="__type__",Fw="__previous_value__",Uw="__local_write_time__";function dp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ow])===null||n===void 0?void 0:n.stringValue)===Vw}function hp(t){const e=t.mapValue.fields[Fw];return dp(e)?hp(e):e}function od(t){const e=Vi(t.mapValue.fields[Uw].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,s,o,a,u,f,m,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=x}}const ad="(default)";class ld{constructor(e,n){this.projectId=e,this.database=n||ad}static empty(){return new ld("","")}get isDefaultDatabase(){return this.database===ad}isEqual(e){return e instanceof ld&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="__type__",EN="__max__",Iu={mapValue:{}},zw="__vector__",um="value";function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dp(t)?4:SN(t)?9007199254740991:CN(t)?10:11:Ie(28295,{value:t})}function Er(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Vi(o.timestampValue),f=Vi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Yo(o.bytesValue).isEqual(Yo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return Lt(o.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Lt(o.integerValue)===Lt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Lt(o.doubleValue),f=Lt(a.doubleValue);return u===f?id(u)===id(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(pv(u)!==pv(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Er(u[m],f[m])))return!1;return!0}(t,e);default:return Ie(52216,{left:t})}}function Al(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=Oi(t),s=Oi(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Lt(a.integerValue||a.doubleValue),m=Lt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return yv(t.timestampValue,e.timestampValue);case 4:return yv(od(t),od(e));case 5:return cm(t.stringValue,e.stringValue);case 6:return function(a,u){const f=Yo(a),m=Yo(u);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const x=Le(f[p],m[p]);if(x!==0)return x}return Le(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Le(Lt(a.latitude),Lt(u.latitude));return f!==0?f:Le(Lt(a.longitude),Lt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vv(t.arrayValue,e.arrayValue);case 10:return function(a,u){var f,m,p,x;const w=a.fields||{},_=u.fields||{},T=(f=w[um])===null||f===void 0?void 0:f.arrayValue,S=(m=_[um])===null||m===void 0?void 0:m.arrayValue,I=Le(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((x=S==null?void 0:S.values)===null||x===void 0?void 0:x.length)||0);return I!==0?I:vv(T,S)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===Iu.mapValue&&u===Iu.mapValue)return 0;if(a===Iu.mapValue)return 1;if(u===Iu.mapValue)return-1;const f=a.fields||{},m=Object.keys(f),p=u.fields||{},x=Object.keys(p);m.sort(),x.sort();for(let w=0;w<m.length&&w<x.length;++w){const _=cm(m[w],x[w]);if(_!==0)return _;const T=Xo(f[m[w]],p[x[w]]);if(T!==0)return T}return Le(m.length,x.length)}(t.mapValue,e.mapValue);default:throw Ie(23264,{Pe:n})}}function yv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Vi(t),s=Vi(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function vv(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const a=Xo(n[o],s[o]);if(a)return a}return Le(n.length,s.length)}function Jo(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Vi(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",o=!0;for(const a of n.values||[])o?o=!1:s+=",",s+=dm(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of s)a?a=!1:o+=",",o+=`${u}:${dm(n.fields[u])}`;return o+"}"}(t.mapValue):Ie(61005,{value:t})}function zu(t){switch(Oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hp(t);return e?16+zu(e):16;case 5:return 2*t.stringValue.length;case 6:return Yo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,a)=>o+zu(a),0)}(t.arrayValue);case 10:case 11:return function(s){let o=0;return Ui(s.fields,(a,u)=>{o+=a.length+zu(u)}),o}(t.mapValue);default:throw Ie(13486,{value:t})}}function hm(t){return!!t&&"integerValue"in t}function fp(t){return!!t&&"arrayValue"in t}function $u(t){return!!t&&"mapValue"in t}function CN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bw])===null||n===void 0?void 0:n.stringValue)===zw}function gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ui(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=gl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=Vt.emptyPath(),s={},o=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=f.popLast()}u?s[f.lastSegment()]=gl(u):o.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,o)}delete(e){const n=this.field(e.popLast());$u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];$u(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ui(n,(o,a)=>e[o]=a);for(const o of s)delete e[o]}clone(){return new kn(gl(this.value))}}function $w(t){const e=[];return Ui(t.fields,(n,s)=>{const o=new Vt([n]);if($u(s)){const a=$w(s.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,s,o,a,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new er(e,0,Ze.min(),Ze.min(),Ze.min(),kn.empty(),0)}static newFoundDocument(e,n,s,o){return new er(e,1,n,Ze.min(),s,o,0)}static newNoDocument(e,n){return new er(e,2,n,Ze.min(),Ze.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new er(e,3,n,Ze.min(),Ze.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.position=e,this.inclusive=n}}function xv(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?s=Ce.comparator(Ce.fromName(u.referenceValue),n.key):s=Xo(u,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function wv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function NN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{}class Ct extends Hw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new AN(e,n,s):n==="array-contains"?new RN(e,s):n==="in"?new DN(e,s):n==="not-in"?new MN(e,s):n==="array-contains-any"?new LN(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jN(e,s):new PN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xo(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends Hw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ls(e,n)}matches(e){return Ww(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ww(t){return t.op==="and"}function qw(t){return IN(t)&&Ww(t)}function IN(t){for(const e of t.filters)if(e instanceof Ls)return!1;return!0}function fm(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(qw(t))return t.filters.map(e=>fm(e)).join(",");{const e=t.filters.map(n=>fm(n)).join(",");return`${t.op}(${e})`}}function Kw(t,e){return t instanceof Ct?function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)}(t,e):t instanceof Ls?function(s,o){return o instanceof Ls&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((a,u,f)=>a&&Kw(u,o.filters[f]),!0):!1}(t,e):void Ie(19439)}function Gw(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof Ls?function(n){return n.op.toString()+" {"+n.getFilters().map(Gw).join(" ,")+"}"}(t):"Filter"}class AN extends Ct{constructor(e,n,s){super(e,n,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class jN extends Ct{constructor(e,n){super(e,"in",n),this.keys=Qw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PN extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=Qw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Qw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ce.fromName(s.referenceValue))}class RN extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fp(n)&&Al(n.arrayValue,this.value)}}class DN extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class MN extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Al(this.value.arrayValue,n)}}class LN extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Al(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n=null,s=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.Ie=null}}function kv(t,e=null,n=[],s=[],o=null,a=null,u=null){return new VN(t,e,n,s,o,a,u)}function mp(t){const e=Ke(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>fm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),up(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Jo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Jo(s)).join(",")),e.Ie=n}return e.Ie}function pp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Kw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wv(t.startAt,e.startAt)&&wv(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n=null,s=[],o=[],a=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ON(t,e,n,s,o,a,u,f){return new jd(t,e,n,s,o,a,u,f)}function FN(t){return new jd(t)}function _v(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UN(t){return t.collectionGroup!==null}function yl(t){const e=Ke(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ot(Vt.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new ud(a,s))}),n.has(Vt.keyField().canonicalString())||e.Ee.push(new ud(Vt.keyField(),s))}return e.Ee}function Ni(t){const e=Ke(t);return e.de||(e.de=BN(e,yl(t))),e.de}function BN(t,e){if(t.limitType==="F")return kv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new ud(o.field,a)});const n=t.endAt?new cd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new cd(t.startAt.position,t.startAt.inclusive):null;return kv(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function mm(t,e,n){return new jd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yw(t,e){return pp(Ni(t),Ni(e))&&t.limitType===e.limitType}function Xw(t){return`${mp(Ni(t))}|lt:${t.limitType}`}function ll(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Gw(o)).join(", ")}]`),up(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Jo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Jo(o)).join(",")),`Target(${s})`}(Ni(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):Ce.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,o){for(const a of yl(s))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(s,o){return!(s.startAt&&!function(u,f,m){const p=xv(u,f,m);return u.inclusive?p<=0:p<0}(s.startAt,yl(s),o)||s.endAt&&!function(u,f,m){const p=xv(u,f,m);return u.inclusive?p>=0:p>0}(s.endAt,yl(s),o))}(t,e)}function zN(t){return(e,n)=>{let s=!1;for(const o of yl(t)){const a=$N(o,e,n);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function $N(t,e,n){const s=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(a,u,f){const m=u.data.field(a),p=f.data.field(a);return m!==null&&p!==null?Xo(m,p):Ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(n,s)=>{for(const[o,a]of s)e(o,a)})}isEmpty(){return Lw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new hn(Ce.comparator);function dd(){return HN}const Jw=new hn(Ce.comparator);function Au(...t){let e=Jw;for(const n of t)e=e.insert(n.key,n);return e}function Zw(t){let e=Jw;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function bi(){return vl()}function ek(){return vl()}function vl(){return new Bi(t=>t.toString(),(t,e)=>t.isEqual(e))}const WN=new hn(Ce.comparator),qN=new Ot(Ce.comparator);function qt(...t){let e=qN;for(const n of t)e=e.add(n);return e}const KN=new Ot(Le);function GN(){return KN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function tk(t){return{integerValue:""+t}}function QN(t,e){return xN(e)?tk(e):yp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this._=void 0}}function YN(t,e,n){return t instanceof jl?function(o,a){const u={fields:{[Ow]:{stringValue:Vw},[Uw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&dp(a)&&(a=hp(a)),a&&(u.fields[Fw]=a),{mapValue:u}}(n,e):t instanceof Pl?rk(t,e):t instanceof Rl?sk(t,e):function(o,a){const u=nk(o,a),f=bv(u)+bv(o.Re);return hm(u)&&hm(o.Re)?tk(f):yp(o.serializer,f)}(t,e)}function XN(t,e,n){return t instanceof Pl?rk(t,e):t instanceof Rl?sk(t,e):n}function nk(t,e){return t instanceof hd?function(s){return hm(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class jl extends Pd{}class Pl extends Pd{constructor(e){super(),this.elements=e}}function rk(t,e){const n=ik(e);for(const s of t.elements)n.some(o=>Er(o,s))||n.push(s);return{arrayValue:{values:n}}}class Rl extends Pd{constructor(e){super(),this.elements=e}}function sk(t,e){let n=ik(e);for(const s of t.elements)n=n.filter(o=>!Er(o,s));return{arrayValue:{values:n}}}class hd extends Pd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function bv(t){return Lt(t.integerValue||t.doubleValue)}function ik(t){return fp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.field=e,this.transform=n}}function ZN(t,e){return t.field.isEqual(e.field)&&function(s,o){return s instanceof Pl&&o instanceof Pl||s instanceof Rl&&o instanceof Rl?Qo(s.elements,o.elements,Er):s instanceof hd&&o instanceof hd?Er(s.Re,o.Re):s instanceof jl&&o instanceof jl}(t.transform,e.transform)}class eI{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rd{}function ok(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lk(t.key,vr.none()):new tc(t.key,t.data,vr.none());{const n=t.data,s=kn.empty();let o=new Ot(Vt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?s.delete(a):s.set(a,u),o=o.add(a)}return new $s(t.key,s,new _n(o.toArray()),vr.none())}}function tI(t,e,n){t instanceof tc?function(o,a,u){const f=o.value.clone(),m=Ev(o.fieldTransforms,a,u.transformResults);f.setAll(m),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(o,a,u){if(!Hu(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Ev(o.fieldTransforms,a,u.transformResults),m=a.data;m.setAll(ak(o)),m.setAll(f),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function xl(t,e,n,s){return t instanceof tc?function(a,u,f,m){if(!Hu(a.precondition,u))return f;const p=a.value.clone(),x=Cv(a.fieldTransforms,m,u);return p.setAll(x),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,s):t instanceof $s?function(a,u,f,m){if(!Hu(a.precondition,u))return f;const p=Cv(a.fieldTransforms,m,u),x=u.data;return x.setAll(ak(a)),x.setAll(p),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,s):function(a,u,f){return Hu(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function nI(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),a=nk(s.transform,o||null);a!=null&&(n===null&&(n=kn.empty()),n.set(s.field,a))}return n||null}function Tv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Qo(s,o,(a,u)=>ZN(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tc extends Rd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends Rd{constructor(e,n,s,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ak(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Ev(t,e,n){const s=new Map;at(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,f=e.data.field(a.field);s.set(a.field,XN(u,f,n[o]))}return s}function Cv(t,e,n){const s=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);s.set(o.field,YN(a,u,e))}return s}class lk extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rI extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&tI(a,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ek();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(o.key)?null:f;const m=ok(u,f);m!==null&&s.set(o.key,m),u.isValidDocument()||u.convertToNoDocument(Ze.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qt())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,s)=>Tv(n,s))&&Qo(this.baseMutations,e.baseMutations,(n,s)=>Tv(n,s))}}class vp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){at(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return WN}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,s[u].version);return new vp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,De;function oI(t){switch(t){case te.OK:return Ie(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function aI(t){if(t===void 0)return Li("GRPC error has no .code"),te.UNKNOWN;switch(t){case ft.OK:return te.OK;case ft.CANCELLED:return te.CANCELLED;case ft.UNKNOWN:return te.UNKNOWN;case ft.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case ft.INTERNAL:return te.INTERNAL;case ft.UNAVAILABLE:return te.UNAVAILABLE;case ft.UNAUTHENTICATED:return te.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case ft.NOT_FOUND:return te.NOT_FOUND;case ft.ALREADY_EXISTS:return te.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return te.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case ft.ABORTED:return te.ABORTED;case ft.OUT_OF_RANGE:return te.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return te.UNIMPLEMENTED;case ft.DATA_LOSS:return te.DATA_LOSS;default:return Ie(39323,{code:t})}}(De=ft||(ft={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ip([4294967295,4294967295],0);class lI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uI(t,e){return pm(t,e.toTimestamp())}function Ko(t){return at(!!t,49232),Ze.fromTimestamp(function(n){const s=Vi(n);return new St(s.seconds,s.nanos)}(t))}function ck(t,e){return gm(t,e).canonicalString()}function gm(t,e){const n=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dI(t){const e=mt.fromString(t);return at(xI(e),10190,{key:e.toString()}),e}function ym(t,e){return ck(t.databaseId,e.path)}function hI(t){const e=dI(t);return e.length===4?mt.emptyPath():mI(e)}function fI(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mI(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sv(t,e,n){return{name:ym(t,e),fields:n.value.mapValue.fields}}function pI(t,e){let n;if(e instanceof tc)n={update:Sv(t,e.key,e.value)};else if(e instanceof lk)n={delete:ym(t,e.key)};else if(e instanceof $s)n={update:Sv(t,e.key,e.data),updateMask:vI(e.fieldMask)};else{if(!(e instanceof rI))return Ie(16599,{ft:e.type});n={verify:ym(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,u){const f=u.transform;if(f instanceof jl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Pl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Rl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hd)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Ie(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:uI(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)}(t,e.precondition)),n}function gI(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(o,a){let u=o.updateTime?Ko(o.updateTime):Ko(a);return u.isEqual(Ze.min())&&(u=Ko(a)),new eI(u,o.transformResults||[])}(n,e))):[]}function yI(t){let e=hI(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){at(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let a=[];n.where&&(a=function(w){const _=uk(w);return _ instanceof Ls&&qw(_)?_.getFilters():[_]}(n.where));let u=[];n.orderBy&&(u=function(w){return w.map(_=>function(S){return new ud(Vo(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let f=null;n.limit&&(f=function(w){let _;return _=typeof w=="object"?w.value:w,up(_)?null:_}(n.limit));let m=null;n.startAt&&(m=function(w){const _=!!w.before,T=w.values||[];return new cd(T,_)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const _=!w.before,T=w.values||[];return new cd(T,_)}(n.endAt)),ON(e,o,u,a,f,"F",m,p)}function uk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Vo(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Vo(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vo(n.unaryFilter.field);return Ct.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(Vo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ls.create(n.compositeFilter.filters.map(s=>uk(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(t):Ie(30097,{filter:t})}function Vo(t){return Vt.fromServerFormat(t.fieldPath)}function vI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.wt=e}}function kI(t){const e=yI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.Cn=new bI}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Ms.min())}updateCollectionGroup(e,n,s){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class bI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(mt.comparator),a=!o.has(s);return this.index[n]=o.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dk=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(dk,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Zo(0)}static lr(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="LruGarbageCollector",TI=1048576;function Av([t,e],[n,s]){const o=Le(t,n);return o===0?Le(e,s):o}class EI{constructor(e){this.Er=e,this.buffer=new Ot(Av),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Av(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(Iv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ec(n)?he(Iv,"Ignoring IndexedDB error during garbage collection: ",n):await ap(n)}await this.mr(3e5)})}}class SI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(lp.le);const s=new EI(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Nv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,a,u,f,m,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,f=Date.now(),this.removeTargets(e,s,n))).next(w=>(a=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(p=Date.now(),Lo()<=Ae.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(m-f)+`ms
	Removed ${w} documents in `+(p-m)+`ms
Total Duration: ${p-x}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function NI(t,e){return new SI(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.changes=new Bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&xl(s.mutation,o,_n.empty(),St.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,qt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=qt()){const o=bi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(a=>{let u=Au();return a.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const s=bi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,qt()))}populateOverlays(e,n,s){const o=[];return s.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,s,o){let a=dd();const u=vl(),f=function(){return vl()}();return n.forEach((m,p)=>{const x=s.get(p.key);o.has(p.key)&&(x===void 0||x.mutation instanceof $s)?a=a.insert(p.key,p):x!==void 0?(u.set(p.key,x.mutation.getFieldMask()),xl(x.mutation,p,x.mutation.getFieldMask(),St.now())):u.set(p.key,_n.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((p,x)=>u.set(p,x)),n.forEach((p,x)=>{var w;return f.set(p,new AI(x,(w=u.get(p))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,n){const s=vl();let o=new hn((u,f)=>u-f),a=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let x=s.get(m)||_n.empty();x=f.applyToLocalView(p,x),s.set(m,x);const w=(o.get(f.batchId)||qt()).add(m);o=o.insert(f.batchId,w)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,x=m.value,w=ek();x.forEach(_=>{if(!a.has(_)){const T=ok(n.get(_),s.get(_));T!==null&&w.set(_,T),a=a.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Y.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-a.size):Y.resolve(bi());let f=Il,m=a;return u.next(p=>Y.forEach(p,(x,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(x)?Y.resolve():this.remoteDocumentCache.getEntry(e,x).next(_=>{m=m.insert(x,_)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,m,p,qt())).next(x=>({batchId:f,changes:Zw(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(s=>{let o=Au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const a=n.collectionGroup;let u=Au();return this.indexManager.getCollectionParents(e,a).next(f=>Y.forEach(f,m=>{const p=function(w,_){return new jd(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(x=>{x.forEach((w,_)=>{u=u.insert(w,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,s,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,o))).next(u=>{a.forEach((m,p)=>{const x=p.getKey();u.get(x)===null&&(u=u.insert(x,er.newInvalidDocument(x)))});let f=Au();return u.forEach((m,p)=>{const x=a.get(m);x!==void 0&&xl(x.mutation,p,_n.empty(),St.now()),gp(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Y.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ko(o.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:kI(o.bundledQuery),readTime:Ko(o.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.overlays=new hn(Ce.comparator),this.Qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const s=bi();return Y.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&s.set(o,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,a)=>{this.St(e,n,a)}),Y.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,n,s){const o=bi(),a=n.length+1,u=new Ce(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let a=new hn((p,x)=>p-x);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=a.get(p.largestBatchId);x===null&&(x=bi(),a=a.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const f=bi(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,x)=>f.set(p,x)),!(f.size()>=o)););return Y.resolve(f)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new iI(n,s));let a=this.Qr.get(n);a===void 0&&(a=qt(),this.Qr.set(n,a)),this.Qr.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.$r=new Ot(Et.Ur),this.Kr=new Ot(Et.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Et(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Et(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ce(new mt([])),s=new Et(n,e),o=new Et(n,e+1),a=[];return this.Kr.forEachInRange([s,o],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ce(new mt([])),s=new Et(n,e),o=new Et(n,e+1);let a=qt();return this.Kr.forEachInRange([s,o],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new Et(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ce.comparator(e.key,n.key)||Le(e.Zr,n.Zr)}static Wr(e,n){return Le(e.Zr,n.Zr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(Et.Ur)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new sI(a,n,s,o);this.mutationQueue.push(u);for(const f of o)this.Xr=this.Xr.add(new Et(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),a=o<0?0:o;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?cp:this.nr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Et(n,0),o=new Et(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([s,o],u=>{const f=this.ei(u.Zr);a.push(f)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Le);return n.forEach(o=>{const a=new Et(o,0),u=new Et(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],f=>{s=s.add(f.Zr)})}),Y.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let a=s;Ce.isDocumentKey(a)||(a=a.child(""));const u=new Et(new Ce(a),0);let f=new Ot(Le);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(f=f.add(m.Zr)),!0)},u),Y.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){at(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Y.forEach(n.mutations,o=>{const a=new Et(o.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Et(n,0),o=this.Xr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.ii=e,this.docs=function(){return new hn(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),a=o?o.size:0,u=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():er.newInvalidDocument(n))}getEntries(e,n){let s=dd();return n.forEach(o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():er.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let a=dd();const u=n.path,f=new Ce(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:x}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||pN(mN(x),s)<=0||(o.has(x.key)||gp(n,x))&&(a=a.insert(x.key,x.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,s,o){Ie(9500)}si(e,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new VI(this)}getSize(e){return Y.resolve(this.size)}}class VI extends II{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),Y.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.persistence=e,this.oi=new Bi(n=>mp(n),pp),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this._i=0,this.ai=new xp,this.targetCount=0,this.ui=Zo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),Y.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Tr(n),Y.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,s){let o=0;const a=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Y.waitFor(a).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return Y.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),Y.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return Y.resolve(s)}containsKey(e,n){return Y.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.ci={},this.overlays={},this.li=new lp(0),this.hi=!1,this.hi=!0,this.Pi=new DI,this.referenceDelegate=e(this),this.Ti=new OI(this),this.indexManager=new _I,this.remoteDocumentCache=function(o){return new LI(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new wI(n),this.Ei=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new MI(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new FI(this.li.next());return this.referenceDelegate.di(),s(o).next(a=>this.referenceDelegate.Ai(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ri(e,n){return Y.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class FI extends yN{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Vi=new xp,this.mi=null}static fi(e){return new wp(e)}get gi(){if(this.mi)return this.mi;throw Ie(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),Y.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.gi.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,s=>{const o=Ce.fromPath(s);return this.pi(e,o).next(a=>{a||n.removeEntry(o,Ze.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Y.or([()=>Y.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.yi=new Bi(s=>wN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=NI(this,n)}static fi(e,n){return new fd(e,n)}di(){}Ai(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return Y.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(a=>a?Y.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.si(e,u=>this.Dr(e,u,n).next(f=>{f||(s++,a.removeEntry(u,Ze.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Y.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zu(e.data.value)),n}Dr(e,n,s){return Y.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=qt(),o=qt();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new kp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _E()?8:vN(Gt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const a={result:null};return this.ws(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.bs(e,n,o,s).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new UI;return this.Ss(e,n,u).next(f=>{if(a.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>a.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Lo()<=Ae.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(Lo()<=Ae.DEBUG&&he("QueryEngine","Query:",ll(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Lo()<=Ae.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):Y.resolve())}ws(e,n){if(_v(n))return Y.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=mm(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const u=qt(...a);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.vs(n,f);return this.Cs(n,p,u,m.readTime)?this.ws(e,mm(n,null,"F")):this.Fs(e,p,n,m)}))})))}bs(e,n,s,o){return _v(n)||o.isEqual(Ze.min())?Y.resolve(null):this.ys.getDocuments(e,s).next(a=>{const u=this.vs(n,a);return this.Cs(n,u,s,o)?Y.resolve(null):(Lo()<=Ae.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ll(n)),this.Fs(e,u,n,fN(o,Il)).next(f=>f))})}vs(e,n){let s=new Ot(zN(e));return n.forEach((o,a)=>{gp(e,a)&&(s=s.add(a))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,s){return Lo()<=Ae.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ll(n)),this.ys.getDocumentsMatchingQuery(e,n,Ms.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="LocalStore";class $I{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new hn(Le),this.Os=new Bi(a=>mp(a),pp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function HI(t,e,n,s){return new $I(t,e,n,s)}async function fk(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const u=[],f=[];let m=qt();for(const p of o){u.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}for(const p of a){f.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:f}))})})}function WI(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,x){const w=p.batch,_=w.keys();let T=Y.resolve();return _.forEach(S=>{T=T.next(()=>x.getEntry(m,S)).next(I=>{const R=p.docVersions.get(S);at(R!==null,48541),I.version.compareTo(R)<0&&(w.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),x.addEntry(I)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(m,w))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=qt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function qI(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function KI(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}class jv{constructor(){this.activeTargetIds=GN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GI{constructor(){this.xo=new jv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new jv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="ConnectivityMonitor";class Rv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(Pv,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(Pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function vm(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XI{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===ad?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,a){const u=vm(),f=this.jo(e,n.toUriEncodedString());he(Pf,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,a);const{host:p}=new URL(f),x=Kl(p);return this.Jo(e,f,m,s,x).then(w=>(he(Pf,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Ad(Pf,`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",s),w})}Yo(e,n,s,o,a,u){return this.zo(e,n,s,o,a)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),s&&s.headers.forEach((o,a)=>e[a]=o)}jo(e,n){const s=YI[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class ZI extends XI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,a){const u=vm();return new Promise((f,m)=>{const p=new Sw;p.setWithCredentials(!0),p.listenOnce(Nw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Bu.NO_ERROR:const w=p.getResponseJson();he($t,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),f(w);break;case Bu.TIMEOUT:he($t,`RPC '${e}' ${u} timed out`),m(new ke(te.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const _=p.getStatus();if(he($t,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const I=function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(B)>=0?B:te.UNKNOWN}(S.status);m(new ke(I,S.message))}else m(new ke(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ke(te.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{h_:e,streamId:u,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{he($t,`RPC '${e}' ${u} completed.`)}});const x=JSON.stringify(o);he($t,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",x,s,15)})}I_(e,n,s){const o=vm(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=jw(),f=Aw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const x=a.join("");he($t,`Creating RPC '${e}' stream ${o}: ${x}`,m);const w=u.createWebChannel(x,m);this.E_(w);let _=!1,T=!1;const S=new JI({Zo:R=>{T?he($t,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(_||(he($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),_=!0),he($t,`RPC '${e}' stream ${o} sending:`,R),w.send(R))},Xo:()=>w.close()}),I=(R,U,B)=>{R.listen(U,L=>{try{B(L)}catch(X){setTimeout(()=>{throw X},0)}})};return I(w,hl.EventType.OPEN,()=>{T||(he($t,`RPC '${e}' stream ${o} transport opened.`),S.__())}),I(w,hl.EventType.CLOSE,()=>{T||(T=!0,he($t,`RPC '${e}' stream ${o} transport closed`),S.u_(),this.d_(w))}),I(w,hl.EventType.ERROR,R=>{T||(T=!0,Ad($t,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),S.u_(new ke(te.UNAVAILABLE,"The operation could not be completed")))}),I(w,hl.EventType.MESSAGE,R=>{var U;if(!T){const B=R.data[0];at(!!B,16349);const L=B,X=(L==null?void 0:L.error)||((U=L[0])===null||U===void 0?void 0:U.error);if(X){he($t,`RPC '${e}' stream ${o} received error:`,X);const se=X.status;let ae=function(N){const P=ft[N];if(P!==void 0)return aI(P)}(se),M=X.message;ae===void 0&&(ae=te.INTERNAL,M="Unknown error status: "+se+" with message "+X.message),T=!0,S.u_(new ke(ae,M)),w.close()}else he($t,`RPC '${e}' stream ${o} received:`,B),S.c_(B)}}),I(f,Iw.STAT_EVENT,R=>{R.stat===lm.PROXY?he($t,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===lm.NOPROXY&&he($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){return new lI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n,s=1e3,o=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="PersistentStream";class eA{constructor(e,n,s,o,a,u,f,m){this.xi=e,this.S_=s,this.D_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new mk(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new ke(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return he(Dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(he(Dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tA extends eA{constructor(e,n,s,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=gI(e.writeResults,e.commitTime),s=Ko(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=fI(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>pI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{}class rA extends nA{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ke(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,gm(n,s),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(te.UNKNOWN,a.toString())})}Yo(e,n,s,o,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,gm(n,s),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ke(te.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class sA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Li(n),this.ua=!1):he("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="RemoteStore";class iA{constructor(e,n,s,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(u=>{s.enqueueAndForget(async()=>{sc(this)&&(he(nc,"Restarting streams for network reachability change."),await async function(m){const p=Ke(m);p.da.add(4),await rc(p),p.Va.set("Unknown"),p.da.delete(4),await Md(p)}(this))})}),this.Va=new sA(s,o)}}async function Md(t){if(sc(t))for(const e of t.Aa)await e(!0)}async function rc(t){for(const e of t.Aa)await e(!1)}function sc(t){return Ke(t).da.size===0}async function pk(t,e,n){if(!ec(e))throw e;t.da.add(1),await rc(t),t.Va.set("Offline"),n||(n=()=>qI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(nc,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Md(t)})}function gk(t,e){return e().catch(n=>pk(t,n,e))}async function Ld(t){const e=Ke(t),n=Vs(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cp;for(;oA(e);)try{const o=await KI(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,aA(e,o)}catch(o){await pk(e,o)}yk(e)&&vk(e)}function oA(t){return sc(t)&&t.Ia.length<10}function aA(t,e){t.Ia.push(e);const n=Vs(t);n.N_()&&n.ea&&n.ta(e.mutations)}function yk(t){return sc(t)&&!Vs(t).O_()&&t.Ia.length>0}function vk(t){Vs(t).start()}async function lA(t){Vs(t).ia()}async function cA(t){const e=Vs(t);for(const n of t.Ia)e.ta(n.mutations)}async function uA(t,e,n){const s=t.Ia.shift(),o=vp.from(s,e,n);await gk(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Ld(t)}async function dA(t,e){e&&Vs(t).ea&&await async function(s,o){if(function(u){return oI(u)&&u!==te.ABORTED}(o.code)){const a=s.Ia.shift();Vs(s).L_(),await gk(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ld(s)}}(t,e),yk(t)&&vk(t)}async function Mv(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),he(nc,"RemoteStore received new credentials");const s=sc(n);n.da.add(3),await rc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Md(n)}async function hA(t,e){const n=Ke(t);e?(n.da.delete(2),await Md(n)):e||(n.da.add(2),await rc(n),n.Va.set("Unknown"))}function Vs(t){return t.ga||(t.ga=function(n,s,o){const a=Ke(n);return a.oa(),new tA(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:lA.bind(null,t),i_:dA.bind(null,t),na:cA.bind(null,t),ra:uA.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Ld(t)):(await t.ga.stop(),t.Ia.length>0&&(he(nc,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,s,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,a){const u=Date.now()+s,f=new _p(e,n,u,o,a);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xk(t,e){if(Li("AsyncQueue",`${e}: ${t}`),ec(t))return new ke(te.UNAVAILABLE,`${e}: ${t}`);throw t}class fA{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ke(n),a=o.queries;o.queries=Lv(),a.forEach((u,f)=>{for(const m of f.Sa)m.onError(s)})})(this,new ke(te.ABORTED,"Firestore shutting down"))}}function Lv(){return new Bi(t=>Xw(t),Yw)}function mA(t){t.Ca.forEach(e=>{e.next()})}var Vv,Ov;(Ov=Vv||(Vv={})).xa="default",Ov.Cache="cache";const pA="SyncEngine";class gA{constructor(e,n,s,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Bi(f=>Xw(f),Yw),this.Pu=new Map,this.Tu=new Set,this.Iu=new hn(Ce.comparator),this.Eu=new Map,this.du=new xp,this.Au={},this.Ru=new Map,this.Vu=Zo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function yA(t,e,n){const s=kA(t);try{const o=await function(u,f){const m=Ke(u),p=St.now(),x=f.reduce((T,S)=>T.add(S.key),qt());let w,_;return m.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=dd(),I=qt();return m.Bs.getEntries(T,x).next(R=>{S=R,S.forEach((U,B)=>{B.isValidDocument()||(I=I.add(U))})}).next(()=>m.localDocuments.getOverlayedDocuments(T,S)).next(R=>{w=R;const U=[];for(const B of f){const L=nI(B,w.get(B.key).overlayedDocument);L!=null&&U.push(new $s(B.key,L,$w(L.value.mapValue),vr.exists(!0)))}return m.mutationQueue.addMutationBatch(T,p,U,f)}).next(R=>{_=R;const U=R.applyToLocalDocumentSet(w,I);return m.documentOverlayCache.saveOverlays(T,R.batchId,U)})}).then(()=>({batchId:_.batchId,changes:Zw(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(u,f,m){let p=u.Au[u.currentUser.toKey()];p||(p=new hn(Le)),p=p.insert(f,m),u.Au[u.currentUser.toKey()]=p}(s,o.batchId,n),await Vd(s,o.changes),await Ld(s.remoteStore)}catch(o){const a=xk(o,"Failed to persist write");n.reject(a)}}function Fv(t,e,n){const s=Ke(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((a,u)=>{const f=u.view.Fa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const m=Ke(u);m.onlineState=f;let p=!1;m.queries.forEach((x,w)=>{for(const _ of w.Sa)_.Fa(f)&&(p=!0)}),p&&mA(m)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vA(t,e){const n=Ke(t),s=e.batch.batchId;try{const o=await WI(n.localStore,e);kk(n,s,null),wk(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vd(n,o)}catch(o){await ap(o)}}async function xA(t,e,n){const s=Ke(t);try{const o=await function(u,f){const m=Ke(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let x;return m.mutationQueue.lookupMutationBatch(p,f).next(w=>(at(w!==null,37113),x=w.keys(),m.mutationQueue.removeMutationBatch(p,w))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,x,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x)).next(()=>m.localDocuments.getDocuments(p,x))})}(s.localStore,e);kk(s,e,n),wk(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vd(s,o)}catch(o){await ap(o)}}function wk(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function kk(t,e,n){const s=Ke(t);let o=s.Au[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}async function Vd(t,e,n){const s=Ke(t),o=[],a=[],u=[];s.hu.isEmpty()||(s.hu.forEach((f,m)=>{u.push(s.fu(m,e,n).then(p=>{var x;if((p||n)&&s.isPrimaryClient){const w=p?!p.fromCache:(x=void 0)===null||x===void 0?void 0:x.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(p){o.push(p);const w=kp.Rs(m.targetId,p);a.push(w)}}))}),await Promise.all(u),s.lu.Y_(o),await async function(m,p){const x=Ke(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Y.forEach(p,_=>Y.forEach(_.ds,T=>x.persistence.referenceDelegate.addReference(w,_.targetId,T)).next(()=>Y.forEach(_.As,T=>x.persistence.referenceDelegate.removeReference(w,_.targetId,T)))))}catch(w){if(!ec(w))throw w;he(zI,"Failed to update sequence numbers: "+w)}for(const w of p){const _=w.targetId;if(!w.fromCache){const T=x.xs.get(_),S=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(S);x.xs=x.xs.insert(_,I)}}}(s.localStore,a))}async function wA(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){he(pA,"User change. New user:",e.toKey());const s=await fk(n.localStore,e);n.currentUser=e,function(a,u){a.Ru.forEach(f=>{f.forEach(m=>{m.reject(new ke(te.CANCELLED,u))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vd(n,s.ks)}}function kA(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xA.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return HI(this.persistence,new BI,e.initialUser,this.serializer)}Su(e){return new hk(wp.fi,this.serializer)}bu(e){return new GI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class _A extends md{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){at(this.persistence.referenceDelegate instanceof fd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new CI(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new hk(s=>fd.fi(s,n),this.serializer)}}class xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wA.bind(null,this.syncEngine),await hA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fA}()}createDatastore(e){const n=Dd(e.databaseInfo.databaseId),s=function(a){return new ZI(a)}(e.databaseInfo);return function(a,u,f,m){return new rA(a,u,f,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,a,u,f){return new iA(s,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>Fv(this.syncEngine,n,0),function(){return Rv.C()?new Rv:new QI}())}createSyncEngine(e,n){return function(o,a,u,f,m,p,x){const w=new gA(o,a,u,f,m,p);return x&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Ke(o);he(nc,"RemoteStore shutting down."),a.da.add(5),await rc(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class bA{constructor(e,n,s,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async u=>{he(Os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(he(Os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xk(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Df(t,e){t.asyncQueue.verifyOperationInProgress(),he(Os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fk(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Uv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TA(t);he(Os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Mv(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>Mv(e.remoteStore,o)),t._onlineComponents=e}async function TA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Os,"Using user provided OfflineComponentProvider");try{await Df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ad("Error using user provided cache. Falling back to memory cache: "+n),await Df(t,new md)}}else he(Os,"Using default OfflineComponentProvider"),await Df(t,new _A(void 0));return t._offlineComponents}async function EA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Os,"Using user provided OnlineComponentProvider"),await Uv(t,t._uninitializedComponentsProvider._online)):(he(Os,"Using default OnlineComponentProvider"),await Uv(t,new xm))),t._onlineComponents}function CA(t){return EA(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e,n){if(!n)throw new ke(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NA(t,e,n,s){if(e===!0&&s===!0)throw new ke(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zv(t){if(!Ce.isDocumentKey(t))throw new ke(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Dl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bp(t);throw new ke(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firestore.googleapis.com",$v=!0;class Hv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bk,this.ssl=$v}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TI)throw new ke(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_k((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ke(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ke(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ke(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new rN;switch(s.type){case"firstParty":return new aN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ke(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Bv.get(n);s&&(he("ComponentProvider","Removing Datastore"),Bv.delete(n),s.terminate())}(this),Promise.resolve()}}function IA(t,e,n,s={}){var o;t=Dl(t,Tp);const a=Kl(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;a&&(F1(`https://${m}`),U1("Firestore",!0)),u.host!==bk&&u.host!==m&&Ad("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:a,emulatorOptions:s});if(!ji(p,f)&&(t._setSettings(p),s.mockUserToken)){let x,w;if(typeof s.mockUserToken=="string")x=s.mockUserToken,w=Wt.MOCK_USER;else{x=fE(s.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ke(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Wt(_)}t._authCredentials=new sN(new Rw(x,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ep(this.firestore,e,this._query)}}class xr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class Ml extends Ep{constructor(e,n,s){super(e,n,FN(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new Ce(e))}withConverter(e){return new Ml(this.firestore,e,this._path)}}function pd(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=Dw.newId()),SA("doc","path",e),t instanceof Tp){const s=mt.fromString(e,...n);return zv(s),new xr(t,null,new Ce(s))}{if(!(t instanceof xr||t instanceof Ml))throw new ke(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(mt.fromString(e,...n));return zv(s),new xr(t.firestore,t instanceof Ml?t.converter:null,new Ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="AsyncQueue";class qv{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new mk(this,"async_queue_retry"),this.rc=()=>{const s=Rf();s&&he(Wv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Rf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Si;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ec(e))throw e;he(Wv,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Li("INTERNAL UNHANDLED ERROR: ",Kv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=_p.createAndSchedule(this,e,n,s,a=>this.uc(a));return this.Zu.push(o),o}oc(){this.Xu&&Ie(47125,{cc:Kv(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Kv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Cp extends Tp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new qv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function AA(t,e){const n=typeof t=="object"?t:H1(),s=typeof t=="string"?t:ad,o=Qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=dE("firestore");a&&IA(o,...a)}return o}function jA(t){if(t._terminated)throw new ke(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PA(t),t._firestoreClient}function PA(t){var e,n,s;const o=t._freezeSettings(),a=function(f,m,p,x){return new TN(f,m,p,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,_k(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new bA(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(Tr.fromBase64String(e))}catch(n){throw new ke(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ll(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=/^__.*__$/;class DA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new tc(e,this.data,n,this.fieldTransforms)}}class Ck{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ic:t})}}class Np{constructor(e,n,s,o,a,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return gd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Sk(this.Ic)&&RA.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class MA{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Dd(e)}bc(e,n,s,o=!1){return new Np({Ic:e,methodName:n,wc:s,path:Vt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nk(t){const e=t._freezeSettings(),n=Dd(t._databaseId);return new MA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LA(t,e,n,s,o,a={}){const u=t.bc(a.merge||a.mergeFields?2:0,e,n,o);Ap("Data must be an object, but it was:",u,s);const f=Ik(s,u);let m,p;if(a.merge)m=new _n(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const x=[];for(const w of a.mergeFields){const _=wm(e,w,n);if(!u.contains(_))throw new ke(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Pk(x,_)||x.push(_)}m=new _n(x),p=u.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,p=u.fieldTransforms;return new DA(new kn(f),m,p)}class Fd extends Od{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}class Ip extends Od{_toFieldTransform(e){return new JN(e.path,new jl)}isEqual(e){return e instanceof Ip}}function VA(t,e,n,s){const o=t.bc(1,e,n);Ap("Data must be an object, but it was:",o,s);const a=[],u=kn.empty();Ui(s,(m,p)=>{const x=jk(e,m,n);p=Qt(p);const w=o.mc(x);if(p instanceof Fd)a.push(x);else{const _=Ud(p,w);_!=null&&(a.push(x),u.set(x,_))}});const f=new _n(a);return new Ck(u,f,o.fieldTransforms)}function OA(t,e,n,s,o,a){const u=t.bc(1,e,n),f=[wm(e,s,n)],m=[o];if(a.length%2!=0)throw new ke(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)f.push(wm(e,a[_])),m.push(a[_+1]);const p=[],x=kn.empty();for(let _=f.length-1;_>=0;--_)if(!Pk(p,f[_])){const T=f[_];let S=m[_];S=Qt(S);const I=u.mc(T);if(S instanceof Fd)p.push(T);else{const R=Ud(S,I);R!=null&&(p.push(T),x.set(T,R))}}const w=new _n(p);return new Ck(x,w,u.fieldTransforms)}function Ud(t,e){if(Ak(t=Qt(t)))return Ap("Unsupported field value:",e,t),Ik(t,e);if(t instanceof Od)return function(s,o){if(!Sk(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const a=[];let u=0;for(const f of s){let m=Ud(f,o.fc(u));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),u++}return{arrayValue:{values:a}}}(t,e)}return function(s,o){if((s=Qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=St.fromDate(s);return{timestampValue:pm(o.serializer,a)}}if(s instanceof St){const a=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pm(o.serializer,a)}}if(s instanceof Tk)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ll)return{bytesValue:cI(o.serializer,s._byteString)};if(s instanceof xr){const a=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(a))throw o.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ck(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ek)return function(u,f){return{mapValue:{fields:{[Bw]:{stringValue:zw},[um]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.gc("VectorValues must only contain numeric values.");return yp(f.serializer,p)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${bp(s)}`)}(t,e)}function Ik(t,e){const n={};return Lw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(t,(s,o)=>{const a=Ud(o,e.Ac(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function Ak(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Tk||t instanceof Ll||t instanceof xr||t instanceof Od||t instanceof Ek)}function Ap(t,e,n){if(!Ak(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=bp(n);throw s==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+s)}}function wm(t,e,n){if((e=Qt(e))instanceof Sp)return e._internalPath;if(typeof e=="string")return jk(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const FA=new RegExp("[~\\*/\\[\\]]");function jk(t,e,n){if(e.search(FA)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sp(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,s,o){const a=s&&!s.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${s}`),u&&(m+=` in document ${o}`),m+=")"),new ke(te.INVALID_ARGUMENT,f+t+m)}function Pk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}function Gv(t,e,n){t=Dl(t,xr);const s=Dl(t.firestore,Cp),o=UA(t.converter,e,n);return Rk(s,[LA(Nk(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,vr.none())])}function Qv(t,e,n,...s){t=Dl(t,xr);const o=Dl(t.firestore,Cp),a=Nk(o);let u;return u=typeof(e=Qt(e))=="string"||e instanceof Sp?OA(a,"updateDoc",t._key,e,n,s):VA(a,"updateDoc",t._key,e),Rk(o,[u.toMutation(t._key,vr.exists(!0))])}function Rk(t,e){return function(s,o){const a=new Si;return s.asyncQueue.enqueueAndForget(async()=>yA(await CA(s),o,a)),a.promise}(jA(t),e)}function Mf(){return new Ip("serverTimestamp")}(function(e,n=!0){(function(o){oa=o})(sa),Go(new Pi("firestore",(s,{instanceIdentifier:o,options:a})=>{const u=s.getProvider("app").getImmediate(),f=new Cp(new iN(s.getProvider("auth-internal")),new lN(u,s.getProvider("app-check-internal")),function(p,x){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ke(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(p.options.projectId,x)}(u,o),u);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Ds(av,lv,e),Ds(av,lv,"esm2017")})();const BA={apiKey:"AIzaSyAQbXY5Z2khTxanGXybUxlEzI8zB60Ih-E",authDomain:"dev-plotmint.firebaseapp.com",projectId:"dev-plotmint",storageBucket:"dev-plotmint.firebasestorage.app",messagingSenderId:"298831072664",appId:"1:298831072664:web:9ebfd9f876b3ac01d1afed"},Dk=$1(BA),Ti=tN(Dk),yd=AA(Dk),Mk=D.createContext(null),Bd=()=>{const t=D.useContext(Mk);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},zA=({children:t})=>{const[e,n]=D.useState(null),[s,o]=D.useState(!0);D.useEffect(()=>$C(Ti,x=>{n(x),o(!1)}),[]);const m={currentUser:e,loading:s,signUp:async(p,x)=>(await FC(Ti,p,x)).user,signIn:async(p,x)=>(await UC(Ti,p,x)).user,logOut:async()=>HC(Ti)};return c.jsx(Mk.Provider,{value:m,children:!s&&t})},Lk=D.createContext({});function $A(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const jp=typeof window<"u",HA=jp?D.useLayoutEffect:D.useEffect,Pp=D.createContext(null);function Rp(t,e){t.indexOf(e)===-1&&t.push(e)}function Dp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zr=(t,e,n)=>n>e?e:n<t?t:n;let Mp=()=>{};const es={},Vk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ok(t){return typeof t=="object"&&t!==null}const Fk=t=>/^0[^.\s]+$/u.test(t);function Lp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ln=t=>t,WA=(t,e)=>n=>e(t(n)),ic=(...t)=>t.reduce(WA),Vl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Vp{constructor(){this.subscriptions=[]}add(e){return Rp(this.subscriptions,e),()=>Dp(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wr=t=>t*1e3,kr=t=>t/1e3;function Uk(t,e){return e?t*(1e3/e):0}const Bk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qA=1e-7,KA=12;function GA(t,e,n,s,o){let a,u,f=0;do u=e+(n-e)/2,a=Bk(u,s,o)-t,a>0?n=u:e=u;while(Math.abs(a)>qA&&++f<KA);return u}function oc(t,e,n,s){if(t===e&&n===s)return Ln;const o=a=>GA(a,0,1,t,n);return a=>a===0||a===1?a:Bk(o(a),e,s)}const zk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$k=t=>e=>1-t(1-e),Hk=oc(.33,1.53,.69,.99),Op=$k(Hk),Wk=zk(Op),qk=t=>(t*=2)<1?.5*Op(t):.5*(2-Math.pow(2,-10*(t-1))),Fp=t=>1-Math.sin(Math.acos(t)),Kk=$k(Fp),Gk=zk(Fp),QA=oc(.42,0,1,1),YA=oc(0,0,.58,1),Qk=oc(.42,0,.58,1),XA=t=>Array.isArray(t)&&typeof t[0]!="number",Yk=t=>Array.isArray(t)&&typeof t[0]=="number",JA={linear:Ln,easeIn:QA,easeInOut:Qk,easeOut:YA,circIn:Fp,circInOut:Gk,circOut:Kk,backIn:Op,backInOut:Wk,backOut:Hk,anticipate:qk},ZA=t=>typeof t=="string",Yv=t=>{if(Yk(t)){Mp(t.length===4);const[e,n,s,o]=t;return oc(e,n,s,o)}else if(ZA(t))return JA[t];return t},Pu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Xv={value:null};function ej(t,e){let n=new Set,s=new Set,o=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(w){u.has(w)&&(x.schedule(w),t()),m++,w(f)}const x={schedule:(w,_=!1,T=!1)=>{const I=T&&o?n:s;return _&&u.add(w),I.has(w)||I.add(w),w},cancel:w=>{s.delete(w),u.delete(w)},process:w=>{if(f=w,o){a=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),e&&Xv.value&&Xv.value.frameloop[e].push(m),m=0,n.clear(),o=!1,a&&(a=!1,x.process(w))}};return x}const tj=40;function Xk(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Pu.reduce((L,X)=>(L[X]=ej(a,e?X:void 0),L),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:x,update:w,preRender:_,render:T,postRender:S}=u,I=()=>{const L=es.useManualTiming?o.timestamp:performance.now();n=!1,es.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(L-o.timestamp,tj),1)),o.timestamp=L,o.isProcessing=!0,f.process(o),m.process(o),p.process(o),x.process(o),w.process(o),_.process(o),T.process(o),S.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(I))},R=()=>{n=!0,s=!0,o.isProcessing||t(I)};return{schedule:Pu.reduce((L,X)=>{const se=u[X];return L[X]=(ae,M=!1,E=!1)=>(n||R(),se.schedule(ae,M,E)),L},{}),cancel:L=>{for(let X=0;X<Pu.length;X++)u[Pu[X]].cancel(L)},state:o,steps:u}}const{schedule:st,cancel:Fs,state:Dt,steps:Lf}=Xk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0);let Wu;function nj(){Wu=void 0}const dn={now:()=>(Wu===void 0&&dn.set(Dt.isProcessing||es.useManualTiming?Dt.timestamp:performance.now()),Wu),set:t=>{Wu=t,queueMicrotask(nj)}},Jk=t=>e=>typeof e=="string"&&e.startsWith(t),Up=Jk("--"),rj=Jk("var(--"),Bp=t=>rj(t)?sj.test(t.split("/*")[0].trim()):!1,sj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ol={...aa,transform:t=>Zr(0,1,t)},Ru={...aa,default:1},wl=t=>Math.round(t*1e5)/1e5,zp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ij(t){return t==null}const oj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$p=(t,e)=>n=>!!(typeof n=="string"&&oj.test(n)&&n.startsWith(t)||e&&!ij(n)&&Object.prototype.hasOwnProperty.call(n,e)),Zk=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,a,u,f]=s.match(zp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},aj=t=>Zr(0,255,t),Vf={...aa,transform:t=>Math.round(aj(t))},Ei={test:$p("rgb","red"),parse:Zk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Vf.transform(t)+", "+Vf.transform(e)+", "+Vf.transform(n)+", "+wl(Ol.transform(s))+")"};function lj(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const km={test:$p("#"),parse:lj,transform:Ei.transform},ac=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ss=ac("deg"),_r=ac("%"),xe=ac("px"),cj=ac("vh"),uj=ac("vw"),Jv={..._r,parse:t=>_r.parse(t)/100,transform:t=>_r.transform(t*100)},Fo={test:$p("hsl","hue"),parse:Zk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+_r.transform(wl(e))+", "+_r.transform(wl(n))+", "+wl(Ol.transform(s))+")"},Ht={test:t=>Ei.test(t)||km.test(t)||Fo.test(t),parse:t=>Ei.test(t)?Ei.parse(t):Fo.test(t)?Fo.parse(t):km.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ei.transform(t):Fo.transform(t)},dj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zp))==null?void 0:e.length)||0)+(((n=t.match(dj))==null?void 0:n.length)||0)>0}const e2="number",t2="color",fj="var",mj="var(",Zv="${}",pj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fl(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let a=0;const f=e.replace(pj,m=>(Ht.test(m)?(s.color.push(a),o.push(t2),n.push(Ht.parse(m))):m.startsWith(mj)?(s.var.push(a),o.push(fj),n.push(m)):(s.number.push(a),o.push(e2),n.push(parseFloat(m))),++a,Zv)).split(Zv);return{values:n,split:f,indexes:s,types:o}}function n2(t){return Fl(t).values}function r2(t){const{split:e,types:n}=Fl(t),s=e.length;return o=>{let a="";for(let u=0;u<s;u++)if(a+=e[u],o[u]!==void 0){const f=n[u];f===e2?a+=wl(o[u]):f===t2?a+=Ht.transform(o[u]):a+=o[u]}return a}}const gj=t=>typeof t=="number"?0:t;function yj(t){const e=n2(t);return r2(t)(e.map(gj))}const Us={test:hj,parse:n2,createTransformer:r2,getAnimatableNone:yj};function Of(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vj({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;o=Of(m,f,t+1/3),a=Of(m,f,t),u=Of(m,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:s}}function vd(t,e){return n=>n>0?e:t}const nt=(t,e,n)=>t+(e-t)*n,Ff=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},xj=[km,Ei,Fo],wj=t=>xj.find(e=>e.test(t));function ex(t){const e=wj(t);if(!e)return!1;let n=e.parse(t);return e===Fo&&(n=vj(n)),n}const tx=(t,e)=>{const n=ex(t),s=ex(e);if(!n||!s)return vd(t,e);const o={...n};return a=>(o.red=Ff(n.red,s.red,a),o.green=Ff(n.green,s.green,a),o.blue=Ff(n.blue,s.blue,a),o.alpha=nt(n.alpha,s.alpha,a),Ei.transform(o))},_m=new Set(["none","hidden"]);function kj(t,e){return _m.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _j(t,e){return n=>nt(t,e,n)}function Hp(t){return typeof t=="number"?_j:typeof t=="string"?Bp(t)?vd:Ht.test(t)?tx:Ej:Array.isArray(t)?s2:typeof t=="object"?Ht.test(t)?tx:bj:vd}function s2(t,e){const n=[...t],s=n.length,o=t.map((a,u)=>Hp(a)(a,e[u]));return a=>{for(let u=0;u<s;u++)n[u]=o[u](a);return n}}function bj(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Hp(t[o])(t[o],e[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}}function Tj(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][s[a]],f=t.values[u]??0;n[o]=f,s[a]++}return n}const Ej=(t,e)=>{const n=Us.createTransformer(e),s=Fl(t),o=Fl(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?_m.has(t)&&!o.values.length||_m.has(e)&&!s.values.length?kj(t,e):ic(s2(Tj(s,o),o.values),n):vd(t,e)};function i2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nt(t,e,n):Hp(t)(t,e)}const Cj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>st.update(e,n),stop:()=>Fs(e),now:()=>Dt.isProcessing?Dt.timestamp:dn.now()}},o2=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)s+=t(a/(o-1))+", ";return`linear(${s.substring(0,s.length-2)})`},xd=2e4;function Wp(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<xd;)e+=n,s=t.next(e);return e>=xd?1/0:e}function Sj(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Wp(s),xd);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:kr(o)}}const Nj=5;function a2(t,e,n){const s=Math.max(e-Nj,0);return Uk(n-t(s),e-s)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Uf=.001;function Ij({duration:t=ot.duration,bounce:e=ot.bounce,velocity:n=ot.velocity,mass:s=ot.mass}){let o,a,u=1-e;u=Zr(ot.minDamping,ot.maxDamping,u),t=Zr(ot.minDuration,ot.maxDuration,kr(t)),u<1?(o=p=>{const x=p*u,w=x*t,_=x-n,T=bm(p,u),S=Math.exp(-w);return Uf-_/T*S},a=p=>{const w=p*u*t,_=w*n+n,T=Math.pow(u,2)*Math.pow(p,2)*t,S=Math.exp(-w),I=bm(Math.pow(p,2),u);return(-o(p)+Uf>0?-1:1)*((_-T)*S)/I}):(o=p=>{const x=Math.exp(-p*t),w=(p-n)*t+1;return-Uf+x*w},a=p=>{const x=Math.exp(-p*t),w=(n-p)*(t*t);return x*w});const f=5/t,m=jj(o,a,f);if(t=wr(t),isNaN(m))return{stiffness:ot.stiffness,damping:ot.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const Aj=12;function jj(t,e,n){let s=n;for(let o=1;o<Aj;o++)s=s-t(s)/e(s);return s}function bm(t,e){return t*Math.sqrt(1-e*e)}const Pj=["duration","bounce"],Rj=["stiffness","damping","mass"];function nx(t,e){return e.some(n=>t[n]!==void 0)}function Dj(t){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...t};if(!nx(t,Rj)&&nx(t,Pj))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,a=2*Zr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ot.mass,stiffness:o,damping:a}}else{const n=Ij(t);e={...e,...n,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function wd(t=ot.visualDuration,e=ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:m,damping:p,mass:x,duration:w,velocity:_,isResolvedFromDuration:T}=Dj({...n,velocity:-kr(n.velocity||0)}),S=_||0,I=p/(2*Math.sqrt(m*x)),R=u-a,U=kr(Math.sqrt(m/x)),B=Math.abs(R)<5;s||(s=B?ot.restSpeed.granular:ot.restSpeed.default),o||(o=B?ot.restDelta.granular:ot.restDelta.default);let L;if(I<1){const se=bm(U,I);L=ae=>{const M=Math.exp(-I*U*ae);return u-M*((S+I*U*R)/se*Math.sin(se*ae)+R*Math.cos(se*ae))}}else if(I===1)L=se=>u-Math.exp(-U*se)*(R+(S+U*R)*se);else{const se=U*Math.sqrt(I*I-1);L=ae=>{const M=Math.exp(-I*U*ae),E=Math.min(se*ae,300);return u-M*((S+I*U*R)*Math.sinh(E)+se*R*Math.cosh(E))/se}}const X={calculatedDuration:T&&w||null,next:se=>{const ae=L(se);if(T)f.done=se>=w;else{let M=se===0?S:0;I<1&&(M=se===0?wr(S):a2(L,se,ae));const E=Math.abs(M)<=s,N=Math.abs(u-ae)<=o;f.done=E&&N}return f.value=f.done?u:ae,f},toString:()=>{const se=Math.min(Wp(X),xd),ae=o2(M=>X.next(se*M).value,se,30);return se+"ms "+ae},toTransition:()=>{}};return X}wd.applyToOptions=t=>{const e=Sj(t,100,wd);return t.ease=e.ease,t.duration=wr(e.duration),t.type="keyframes",t};function Tm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:x}){const w=t[0],_={done:!1,value:w},T=E=>f!==void 0&&E<f||m!==void 0&&E>m,S=E=>f===void 0?m:m===void 0||Math.abs(f-E)<Math.abs(m-E)?f:m;let I=n*e;const R=w+I,U=u===void 0?R:u(R);U!==R&&(I=U-w);const B=E=>-I*Math.exp(-E/s),L=E=>U+B(E),X=E=>{const N=B(E),P=L(E);_.done=Math.abs(N)<=p,_.value=_.done?U:P};let se,ae;const M=E=>{T(_.value)&&(se=E,ae=wd({keyframes:[_.value,S(_.value)],velocity:a2(L,E,_.value),damping:o,stiffness:a,restDelta:p,restSpeed:x}))};return M(0),{calculatedDuration:null,next:E=>{let N=!1;return!ae&&se===void 0&&(N=!0,X(E),M(E)),se!==void 0&&E>=se?ae.next(E-se):(!N&&X(E),_)}}}function Mj(t,e,n){const s=[],o=n||es.mix||i2,a=t.length-1;for(let u=0;u<a;u++){let f=o(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Ln:e;f=ic(m,f)}s.push(f)}return s}function Lj(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const a=t.length;if(Mp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=Mj(e,s,o),m=f.length,p=x=>{if(u&&x<t[0])return e[0];let w=0;if(m>1)for(;w<t.length-2&&!(x<t[w+1]);w++);const _=Vl(t[w],t[w+1],x);return f[w](_)};return n?x=>p(Zr(t[0],t[a-1],x)):p}function Vj(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Vl(0,e,s);t.push(nt(n,1,o))}}function Oj(t){const e=[0];return Vj(e,t.length-1),e}function Fj(t,e){return t.map(n=>n*e)}function Uj(t,e){return t.map(()=>e||Qk).splice(0,t.length-1)}function kl({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=XA(s)?s.map(Yv):Yv(s),a={done:!1,value:e[0]},u=Fj(n&&n.length===e.length?n:Oj(e),t),f=Lj(u,e,{ease:Array.isArray(o)?o:Uj(e,o)});return{calculatedDuration:t,next:m=>(a.value=f(m),a.done=m>=t,a)}}const Bj=t=>t!==null;function qp(t,{repeat:e,repeatType:n="loop"},s,o=1){const a=t.filter(Bj),f=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!f||s===void 0?a[f]:s}const zj={decay:Tm,inertia:Tm,tween:kl,keyframes:kl,spring:wd};function l2(t){typeof t.type=="string"&&(t.type=zj[t.type])}class Kp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $j=t=>t/100;class Gp extends Kp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;l2(e);const{type:n=kl,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:f}=e;const m=n||kl;m!==kl&&typeof f[0]!="number"&&(this.mixKeyframes=ic($j,i2(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});a==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Wp(p));const{calculatedDuration:x}=p;this.calculatedDuration=x,this.resolvedDuration=x+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:x,repeat:w,repeatType:_,repeatDelay:T,type:S,onUpdate:I,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?U<0:U>o;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let L=this.currentTime,X=s;if(w){const E=Math.min(this.currentTime,o)/f;let N=Math.floor(E),P=E%1;!P&&E>=1&&(P=1),P===1&&N--,N=Math.min(N,w+1),!!(N%2)&&(_==="reverse"?(P=1-P,T&&(P-=T/f)):_==="mirror"&&(X=u)),L=Zr(0,1,P)*f}const se=B?{done:!1,value:x[0]}:X.next(L);a&&(se.value=a(se.value));let{done:ae}=se;!B&&m!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return M&&S!==Tm&&(se.value=qp(x,this.options,R,this.speed)),I&&I(se.value),M&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return kr(this.calculatedDuration)}get time(){return kr(this.currentTime)}set time(e){var n;e=wr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=kr(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=Cj,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Hj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ci=t=>t*180/Math.PI,Em=t=>{const e=Ci(Math.atan2(t[1],t[0]));return Cm(e)},Wj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Em,rotateZ:Em,skewX:t=>Ci(Math.atan(t[1])),skewY:t=>Ci(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Cm=t=>(t=t%360,t<0&&(t+=360),t),rx=Em,sx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ix=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sx,scaleY:ix,scale:t=>(sx(t)+ix(t))/2,rotateX:t=>Cm(Ci(Math.atan2(t[6],t[5]))),rotateY:t=>Cm(Ci(Math.atan2(-t[2],t[0]))),rotateZ:rx,rotate:rx,skewX:t=>Ci(Math.atan(t[4])),skewY:t=>Ci(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Sm(t){return t.includes("scale")?1:0}function Nm(t,e){if(!t||t==="none")return Sm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=qj,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Wj,o=f}if(!o)return Sm(e);const a=s[e],u=o[1].split(",").map(Gj);return typeof a=="function"?a(u):u[a]}const Kj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Nm(n,e)};function Gj(t){return parseFloat(t.trim())}const la=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ca=new Set(la),ox=t=>t===aa||t===xe,Qj=new Set(["x","y","z"]),Yj=la.filter(t=>!Qj.has(t));function Xj(t){const e=[];return Yj.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ii={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Nm(e,"x"),y:(t,{transform:e})=>Nm(e,"y")};Ii.translateX=Ii.x;Ii.translateY=Ii.y;const Ai=new Set;let Im=!1,Am=!1,jm=!1;function c2(){if(Am){const t=Array.from(Ai).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=Xj(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([a,u])=>{var f;(f=s.getValue(a))==null||f.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Am=!1,Im=!1,Ai.forEach(t=>t.complete(jm)),Ai.clear()}function u2(){Ai.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Am=!0)})}function Jj(){jm=!0,u2(),c2(),jm=!1}class Qp{constructor(e,n,s,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ai.add(this),Im||(Im=!0,st.read(u2),st.resolveKeyframes(c2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}Hj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ai.delete(this)}cancel(){this.state==="scheduled"&&(Ai.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zj=t=>t.startsWith("--");function eP(t,e,n){Zj(e)?t.style.setProperty(e,n):t.style[e]=n}const tP=Lp(()=>window.ScrollTimeline!==void 0),nP={};function rP(t,e){const n=Lp(t);return()=>nP[e]??n()}const d2=rP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fl=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ax={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fl([0,.65,.55,1]),circOut:fl([.55,0,1,.45]),backIn:fl([.31,.01,.66,-.59]),backOut:fl([.33,1.53,.69,.99])};function h2(t,e){if(t)return typeof t=="function"?d2()?o2(t,e):"ease-out":Yk(t)?fl(t):Array.isArray(t)?t.map(n=>h2(n,e)||ax.easeOut):ax[t]}function sP(t,e,n,{delay:s=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const x={[e]:n};m&&(x.offset=m);const w=h2(f,o);Array.isArray(w)&&(x.easing=w);const _={delay:s,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(x,_)}function f2(t){return typeof t=="function"&&"applyToOptions"in t}function iP({type:t,...e}){return f2(t)&&d2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oP extends Kp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Mp(typeof e.type!="string");const p=iP(e);this.animation=sP(n,s,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const x=qp(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(x):eP(n,s,x),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return kr(Number(e))}get time(){return kr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=wr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tP()?(this.animation.timeline=e,Ln):n(this)}}const m2={anticipate:qk,backInOut:Wk,circInOut:Gk};function aP(t){return t in m2}function lP(t){typeof t.ease=="string"&&aP(t.ease)&&(t.ease=m2[t.ease])}const lx=10;class cP extends oP{constructor(e){lP(e),l2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Gp({...u,autoplay:!1}),m=wr(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-lx).value,f.sample(m).value,lx),f.stop()}}const cx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Us.test(t)||t==="0")&&!t.startsWith("url("));function uP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dP(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=cx(o,e),f=cx(a,e);return!u||!f?!1:uP(t)||(n==="spring"||f2(n))&&s}function p2(t){return Ok(t)&&"offsetHeight"in t}const hP=new Set(["opacity","clipPath","filter","transform"]),fP=Lp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mP(t){var p;const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:a,type:u}=t;if(!p2((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return fP()&&n&&hP.has(n)&&(n!=="transform"||!m)&&!f&&!s&&o!=="mirror"&&a!==0&&u!=="inertia"}const pP=40;class gP extends Kp{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:x,...w}){var S;super(),this.stop=()=>{var I,R;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=dn.now();const _={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:a,repeatType:u,name:m,motionValue:p,element:x,...w},T=(x==null?void 0:x.KeyframeResolver)||Qp;this.keyframeResolver=new T(f,(I,R,U)=>this.onKeyframesResolved(I,R,_,!U),m,p,x),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:x}=s;this.resolvedAt=dn.now(),dP(e,a,u,f)||((es.instantAnimations||!m)&&(x==null||x(qp(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>pP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},T=!p&&mP(_)?new cP({..._,element:_.motionValue.owner.current}):new Gp(_);T.finished.then(()=>this.notifyFinished()).catch(Ln),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Jj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const yP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vP(t){const e=yP.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function g2(t,e,n=1){const[s,o]=vP(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const u=a.trim();return Vk(u)?parseFloat(u):u}return Bp(o)?g2(o,e,n+1):o}function Yp(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const y2=new Set(["width","height","top","left","right","bottom",...la]),xP={test:t=>t==="auto",parse:t=>t},v2=t=>e=>e.test(t),x2=[aa,xe,_r,Ss,uj,cj,xP],ux=t=>x2.find(v2(t));function wP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Fk(t):!0}const kP=new Set(["brightness","contrast","saturate","opacity"]);function _P(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(zp)||[];if(!s)return t;const o=n.replace(s,"");let a=kP.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+o+")"}const bP=/\b([a-z-]*)\(.*?\)/gu,Pm={...Us,getAnimatableNone:t=>{const e=t.match(bP);return e?e.map(_P).join(" "):t}},dx={...aa,transform:Math.round},TP={rotate:Ss,rotateX:Ss,rotateY:Ss,rotateZ:Ss,scale:Ru,scaleX:Ru,scaleY:Ru,scaleZ:Ru,skew:Ss,skewX:Ss,skewY:Ss,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Ol,originX:Jv,originY:Jv,originZ:xe},Xp={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...TP,zIndex:dx,fillOpacity:Ol,strokeOpacity:Ol,numOctaves:dx},EP={...Xp,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:Pm,WebkitFilter:Pm},w2=t=>EP[t];function k2(t,e){let n=w2(t);return n!==Pm&&(n=Us),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const CP=new Set(["auto","none","0"]);function SP(t,e,n){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!CP.has(a)&&Fl(a).values.length&&(o=t[s]),s++}if(o&&n)for(const a of e)t[a]=k2(n,o)}class NP extends Qp{constructor(e,n,s,o,a){super(e,n,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Bp(p))){const x=g2(p,n.current);x!==void 0&&(e[m]=x),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!y2.has(s)||e.length!==2)return;const[o,a]=e,u=ux(o),f=ux(a);if(u!==f)if(ox(u)&&ox(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ii[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||wP(e[o]))&&s.push(o);s.length&&SP(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ii[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=Ii[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function IP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=(n==null?void 0:n[t])??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const _2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hx=30,AP=t=>!isNaN(parseFloat(t));class jP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{var u,f;const a=dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();o&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vp);const s=this.events[e].add(n);return e==="change"?()=>{s(),st.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hx);return Uk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ea(t,e){return new jP(t,e)}const{schedule:Jp}=Xk(queueMicrotask,!1),Zn={x:!1,y:!1};function b2(){return Zn.x||Zn.y}function PP(t){return t==="x"||t==="y"?Zn[t]?null:(Zn[t]=!0,()=>{Zn[t]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function T2(t,e){const n=IP(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function fx(t){return!(t.pointerType==="touch"||b2())}function RP(t,e,n={}){const[s,o,a]=T2(t,n),u=f=>{if(!fx(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const x=w=>{fx(w)&&(p(w),m.removeEventListener("pointerleave",x))};m.addEventListener("pointerleave",x,o)};return s.forEach(f=>{f.addEventListener("pointerenter",u,o)}),a}const E2=(t,e)=>e?t===e?!0:E2(t,e.parentElement):!1,Zp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,DP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MP(t){return DP.has(t.tagName)||t.tabIndex!==-1}const qu=new WeakSet;function mx(t){return e=>{e.key==="Enter"&&t(e)}}function Bf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LP=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=mx(()=>{if(qu.has(n))return;Bf(n,"down");const o=mx(()=>{Bf(n,"up")}),a=()=>Bf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function px(t){return Zp(t)&&!b2()}function VP(t,e,n={}){const[s,o,a]=T2(t,n),u=f=>{const m=f.currentTarget;if(!px(f))return;qu.add(m);const p=e(m,f),x=(T,S)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",_),qu.has(m)&&qu.delete(m),px(T)&&typeof p=="function"&&p(T,{success:S})},w=T=>{x(T,m===window||m===document||n.useGlobalTarget||E2(m,T.target))},_=T=>{x(T,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",_,o)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),p2(f)&&(f.addEventListener("focus",p=>LP(p,o)),!MP(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}function C2(t){return Ok(t)&&"ownerSVGElement"in t}function OP(t){return C2(t)&&t.tagName==="svg"}const Kt=t=>!!(t&&t.getVelocity),FP=[...x2,Ht,Us],UP=t=>FP.find(v2(t)),S2=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function BP(t=!0){const e=D.useContext(Pp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,a=D.useId();D.useEffect(()=>{if(t)return o(a)},[t]);const u=D.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,u]:[!0]}const N2=D.createContext({strict:!1}),gx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ta={};for(const t in gx)ta[t]={isEnabled:e=>gx[t].some(n=>!!e[n])};function zP(t){for(const e in t)ta[e]={...ta[e],...t[e]}}const $P=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$P.has(t)}let I2=t=>!kd(t);function HP(t){t&&(I2=e=>e.startsWith("on")?!kd(e):t(e))}try{HP(require("@emotion/is-prop-valid").default)}catch{}function WP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(I2(o)||n===!0&&kd(o)||!e&&!kd(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}function qP(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const zd=D.createContext({});function $d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ul(t){return typeof t=="string"||Array.isArray(t)}const e0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t0=["initial",...e0];function Hd(t){return $d(t.animate)||t0.some(e=>Ul(t[e]))}function A2(t){return!!(Hd(t)||t.variants)}function KP(t,e){if(Hd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ul(n)?n:void 0,animate:Ul(s)?s:void 0}}return t.inherit!==!1?e:{}}function GP(t){const{initial:e,animate:n}=KP(t,D.useContext(zd));return D.useMemo(()=>({initial:e,animate:n}),[yx(e),yx(n)])}function yx(t){return Array.isArray(t)?t.join(" "):t}const QP=Symbol.for("motionComponentSymbol");function Uo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YP(t,e,n){return D.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Uo(n)&&(n.current=s))},[e])}const n0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XP="framerAppearId",j2="data-"+n0(XP),P2=D.createContext({});function JP(t,e,n,s,o){var I,R;const{visualElement:a}=D.useContext(zd),u=D.useContext(N2),f=D.useContext(Pp),m=D.useContext(S2).reducedMotion,p=D.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:a,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const x=p.current,w=D.useContext(P2);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&ZP(p.current,n,o,w);const _=D.useRef(!1);D.useInsertionEffect(()=>{x&&_.current&&x.update(n,f)});const T=n[j2],S=D.useRef(!!T&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,T))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,T)));return HA(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Jp.render(x.render),S.current&&x.animationState&&x.animationState.animateChanges())}),D.useEffect(()=>{x&&(!S.current&&x.animationState&&x.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,T)}),S.current=!1))}),x}function ZP(t,e,n,s){const{layoutId:o,layout:a,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:R2(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||f&&Uo(f),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:x,layoutScroll:m,layoutRoot:p})}function R2(t){if(t)return t.options.allowProjection!==!1?t.projection:R2(t.parent)}function eR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:o}){t&&zP(t);function a(f,m){let p;const x={...D.useContext(S2),...f,layoutId:tR(f)},{isStatic:w}=x,_=GP(f),T=s(f,w);if(!w&&jp){nR();const S=rR(x);p=S.MeasureLayout,_.visualElement=JP(o,T,x,e,S.ProjectionNode)}return c.jsxs(zd.Provider,{value:_,children:[p&&_.visualElement?c.jsx(p,{visualElement:_.visualElement,...x}):null,n(o,f,YP(T,_.visualElement,m),T,w,_.visualElement)]})}a.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const u=D.forwardRef(a);return u[QP]=o,u}function tR({layoutId:t}){const e=D.useContext(Lk).id;return e&&t!==void 0?e+"-"+t:t}function nR(t,e){D.useContext(N2).strict}function rR(t){const{drag:e,layout:n}=ta;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Bl={};function sR(t){for(const e in t)Bl[e]=t[e],Up(e)&&(Bl[e].isCSSVariable=!0)}function D2(t,{layout:e,layoutId:n}){return ca.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bl[t]||t==="opacity")}const iR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oR=la.length;function aR(t,e,n){let s="",o=!0;for(let a=0;a<oR;a++){const u=la[a],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=_2(f,Xp[u]);if(!m){o=!1;const x=iR[u]||u;s+=`${x}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function r0(t,e,n){const{style:s,vars:o,transformOrigin:a}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(ca.has(m)){u=!0;continue}else if(Up(m)){o[m]=p;continue}else{const x=_2(p,Xp[m]);m.startsWith("origin")?(f=!0,a[m]=x):s[m]=x}}if(e.transform||(u||n?s.transform=aR(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:x=0}=a;s.transformOrigin=`${m} ${p} ${x}`}}const s0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function M2(t,e,n){for(const s in e)!Kt(e[s])&&!D2(s,n)&&(t[s]=e[s])}function lR({transformTemplate:t},e){return D.useMemo(()=>{const n=s0();return r0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cR(t,e){const n=t.style||{},s={};return M2(s,n,t),Object.assign(s,lR(t,e)),s}function uR(t,e){const n={},s=cR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const dR={offset:"stroke-dashoffset",array:"stroke-dasharray"},hR={offset:"strokeDashoffset",array:"strokeDasharray"};function fR(t,e,n=1,s=0,o=!0){t.pathLength=1;const a=o?dR:hR;t[a.offset]=xe.transform(-s);const u=xe.transform(e),f=xe.transform(n);t[a.array]=`${u} ${f}`}function L2(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...f},m,p,x){if(r0(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:_}=t;w.transform&&(_.transform=w.transform,delete w.transform),(_.transform||w.transformOrigin)&&(_.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),_.transform&&(_.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),s!==void 0&&(w.scale=s),o!==void 0&&fR(w,o,a,u,!1)}const V2=()=>({...s0(),attrs:{}}),O2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mR(t,e,n,s){const o=D.useMemo(()=>{const a=V2();return L2(a,e,O2(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};M2(a,t.style,t),o.style={...a,...o.style}}return o}const pR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i0(t){return typeof t!="string"||t.includes("-")?!1:!!(pR.indexOf(t)>-1||/[A-Z]/u.test(t))}function gR(t=!1){return(n,s,o,{latestValues:a},u)=>{const m=(i0(n)?mR:uR)(s,a,u,n),p=WP(s,typeof n=="string",t),x=n!==D.Fragment?{...p,...m,ref:o}:{},{children:w}=s,_=D.useMemo(()=>Kt(w)?w.get():w,[w]);return D.createElement(n,{...x,children:_})}}function vx(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function o0(t,e,n,s){if(typeof e=="function"){const[o,a]=vx(s);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=vx(s);e=e(n!==void 0?n:t.custom,o,a)}return e}function Ku(t){return Kt(t)?t.get():t}function yR({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:vR(n,s,o,t),renderState:e()}}const F2=t=>(e,n)=>{const s=D.useContext(zd),o=D.useContext(Pp),a=()=>yR(t,e,s,o);return n?a():$A(a)};function vR(t,e,n,s){const o={},a=s(t,{});for(const _ in a)o[_]=Ku(a[_]);let{initial:u,animate:f}=t;const m=Hd(t),p=A2(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const w=x?f:u;if(w&&typeof w!="boolean"&&!$d(w)){const _=Array.isArray(w)?w:[w];for(let T=0;T<_.length;T++){const S=o0(t,_[T]);if(S){const{transitionEnd:I,transition:R,...U}=S;for(const B in U){let L=U[B];if(Array.isArray(L)){const X=x?L.length-1:0;L=L[X]}L!==null&&(o[B]=L)}for(const B in I)o[B]=I[B]}}}return o}function a0(t,e,n){var a;const{style:s}=t,o={};for(const u in s)(Kt(s[u])||e.style&&Kt(e.style[u])||D2(u,t)||((a=n==null?void 0:n.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(o[u]=s[u]);return o}const xR={useVisualState:F2({scrapeMotionValuesFromProps:a0,createRenderState:s0})};function U2(t,e,n){const s=a0(t,e,n);for(const o in t)if(Kt(t[o])||Kt(e[o])){const a=la.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}const wR={useVisualState:F2({scrapeMotionValuesFromProps:U2,createRenderState:V2})};function kR(t,e){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...i0(s)?wR:xR,preloadedFeatures:t,useRender:gR(o),createVisualElement:e,Component:s};return eR(u)}}function zl(t,e,n){const s=t.getProps();return o0(s,e,n!==void 0?n:s.custom,t)}const Rm=t=>Array.isArray(t);function _R(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ea(n))}function bR(t){return Rm(t)?t[t.length-1]||0:t}function TR(t,e){const n=zl(t,e);let{transitionEnd:s={},transition:o={},...a}=n||{};a={...a,...s};for(const u in a){const f=bR(a[u]);_R(t,u,f)}}function ER(t){return!!(Kt(t)&&t.add)}function Dm(t,e){const n=t.getValue("willChange");if(ER(n))return n.add(e);if(!n&&es.WillChange){const s=new es.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function B2(t){return t.props[j2]}const CR=t=>t!==null;function SR(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(CR),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const NR={type:"spring",stiffness:500,damping:25,restSpeed:10},IR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),AR={type:"keyframes",duration:.8},jR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PR=(t,{keyframes:e})=>e.length>2?AR:ca.has(t)?t.startsWith("scale")?IR(e[1]):NR:jR;function RR({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:f,from:m,elapsed:p,...x}){return!!Object.keys(x).length}const l0=(t,e,n,s={},o,a)=>u=>{const f=Yp(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-wr(m);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:_=>{e.set(_),f.onUpdate&&f.onUpdate(_)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:a?void 0:o};RR(f)||Object.assign(x,PR(t,x)),x.duration&&(x.duration=wr(x.duration)),x.repeatDelay&&(x.repeatDelay=wr(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let w=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(w=!0)),(es.instantAnimations||es.skipAnimations)&&(w=!0,x.duration=0,x.delay=0),x.allowFlatten=!f.type&&!f.ease,w&&!a&&e.get()!==void 0){const _=SR(x.keyframes,f);if(_!==void 0){st.update(()=>{x.onUpdate(_),x.onComplete()});return}}return f.isSync?new Gp(x):new gP(x)};function DR({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function z2(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(a=s);const m=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const x in f){const w=t.getValue(x,t.latestValues[x]??null),_=f[x];if(_===void 0||p&&DR(p,x))continue;const T={delay:n,...Yp(a||{},x)},S=w.get();if(S!==void 0&&!w.isAnimating&&!Array.isArray(_)&&_===S&&!T.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const U=B2(t);if(U){const B=window.MotionHandoffAnimation(U,x,st);B!==null&&(T.startTime=B,I=!0)}}Dm(t,x),w.start(l0(x,w,_,t.shouldReduceMotion&&y2.has(x)?{type:!1}:T,t,I));const R=w.animation;R&&m.push(R)}return u&&Promise.all(m).then(()=>{st.update(()=>{u&&TR(t,u)})}),m}function Mm(t,e,n={}){var m;const s=zl(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(z2(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:x=0,staggerChildren:w,staggerDirection:_}=o;return MR(t,e,x+p,w,_,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[p,x]=f==="beforeChildren"?[a,u]:[u,a];return p().then(()=>x())}else return Promise.all([a(),u(n.delay)])}function MR(t,e,n=0,s=0,o=1,a){const u=[],f=(t.variantChildren.size-1)*s,m=o===1?(p=0)=>p*s:(p=0)=>f-p*s;return Array.from(t.variantChildren).sort(LR).forEach((p,x)=>{p.notify("AnimationStart",e),u.push(Mm(p,e,{...a,delay:n+m(x)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function LR(t,e){return t.sortNodePosition(e)}function VR(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>Mm(t,a,n));s=Promise.all(o)}else if(typeof e=="string")s=Mm(t,e,n);else{const o=typeof e=="function"?zl(t,e,n.custom):e;s=Promise.all(z2(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function $2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const OR=t0.length;function H2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?H2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<OR;n++){const s=t0[n],o=t.props[s];(Ul(o)||o===!1)&&(e[s]=o)}return e}const FR=[...e0].reverse(),UR=e0.length;function BR(t){return e=>Promise.all(e.map(({animation:n,options:s})=>VR(t,n,s)))}function zR(t){let e=BR(t),n=xx(),s=!0;const o=m=>(p,x)=>{var _;const w=zl(t,x,m==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(w){const{transition:T,transitionEnd:S,...I}=w;p={...p,...I,...S}}return p};function a(m){e=m(t)}function u(m){const{props:p}=t,x=H2(t.parent)||{},w=[],_=new Set;let T={},S=1/0;for(let R=0;R<UR;R++){const U=FR[R],B=n[U],L=p[U]!==void 0?p[U]:x[U],X=Ul(L),se=U===m?B.isActive:null;se===!1&&(S=R);let ae=L===x[U]&&L!==p[U]&&X;if(ae&&s&&t.manuallyAnimateOnMount&&(ae=!1),B.protectedKeys={...T},!B.isActive&&se===null||!L&&!B.prevProp||$d(L)||typeof L=="boolean")continue;const M=$R(B.prevProp,L);let E=M||U===m&&B.isActive&&!ae&&X||R>S&&X,N=!1;const P=Array.isArray(L)?L:[L];let O=P.reduce(o(U),{});se===!1&&(O={});const{prevResolvedValues:z={}}=B,j={...z,...O},Ye=be=>{E=!0,_.has(be)&&(N=!0,_.delete(be)),B.needsAnimating[be]=!0;const re=t.getValue(be);re&&(re.liveStyle=!1)};for(const be in j){const re=O[be],me=z[be];if(T.hasOwnProperty(be))continue;let oe=!1;Rm(re)&&Rm(me)?oe=!$2(re,me):oe=re!==me,oe?re!=null?Ye(be):_.add(be):re!==void 0&&_.has(be)?Ye(be):B.protectedKeys[be]=!0}B.prevProp=L,B.prevResolvedValues=O,B.isActive&&(T={...T,...O}),s&&t.blockInitialAnimation&&(E=!1),E&&(!(ae&&M)||N)&&w.push(...P.map(be=>({animation:be,options:{type:U}})))}if(_.size){const R={};if(typeof p.initial!="boolean"){const U=zl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(R.transition=U.transition)}_.forEach(U=>{const B=t.getBaseTarget(U),L=t.getValue(U);L&&(L.liveStyle=!0),R[U]=B??null}),w.push({animation:R})}let I=!!w.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(w):Promise.resolve()}function f(m,p){var w;if(n[m].isActive===p)return Promise.resolve();(w=t.variantChildren)==null||w.forEach(_=>{var T;return(T=_.animationState)==null?void 0:T.setActive(m,p)}),n[m].isActive=p;const x=u(m);for(const _ in n)n[_].protectedKeys={};return x}return{animateChanges:u,setActive:f,setAnimateFunction:a,getState:()=>n,reset:()=>{n=xx(),s=!0}}}function $R(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$2(e,t):!1}function xi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xx(){return{animate:xi(!0),whileInView:xi(),whileHover:xi(),whileTap:xi(),whileDrag:xi(),whileFocus:xi(),exit:xi()}}class Hs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HR extends Hs{constructor(e){super(e),e.animationState||(e.animationState=zR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$d(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let WR=0;class qR extends Hs{constructor(){super(...arguments),this.id=WR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const KR={animation:{Feature:HR},exit:{Feature:qR}};function $l(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function lc(t){return{point:{x:t.pageX,y:t.pageY}}}const GR=t=>e=>Zp(e)&&t(e,lc(e));function _l(t,e,n,s){return $l(t,e,GR(n),s)}function W2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function QR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const q2=1e-4,XR=1-q2,JR=1+q2,K2=.01,ZR=0-K2,e3=0+K2;function en(t){return t.max-t.min}function t3(t,e,n){return Math.abs(t-e)<=n}function wx(t,e,n,s=.5){t.origin=s,t.originPoint=nt(e.min,e.max,t.origin),t.scale=en(n)/en(e),t.translate=nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=XR&&t.scale<=JR||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZR&&t.translate<=e3||isNaN(t.translate))&&(t.translate=0)}function bl(t,e,n,s){wx(t.x,e.x,n.x,s?s.originX:void 0),wx(t.y,e.y,n.y,s?s.originY:void 0)}function kx(t,e,n){t.min=n.min+e.min,t.max=t.min+en(e)}function n3(t,e,n){kx(t.x,e.x,n.x),kx(t.y,e.y,n.y)}function _x(t,e,n){t.min=e.min-n.min,t.max=t.min+en(e)}function Tl(t,e,n){_x(t.x,e.x,n.x),_x(t.y,e.y,n.y)}const bx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:bx(),y:bx()}),Tx=()=>({min:0,max:0}),ut=()=>({x:Tx(),y:Tx()});function Dn(t){return[t("x"),t("y")]}function zf(t){return t===void 0||t===1}function Lm({scale:t,scaleX:e,scaleY:n}){return!zf(t)||!zf(e)||!zf(n)}function _i(t){return Lm(t)||G2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function G2(t){return Ex(t.x)||Ex(t.y)}function Ex(t){return t&&t!=="0%"}function _d(t,e,n){const s=t-n,o=e*s;return n+o}function Cx(t,e,n,s,o){return o!==void 0&&(t=_d(t,o,s)),_d(t,n,s)+e}function Vm(t,e=0,n=1,s,o){t.min=Cx(t.min,e,n,s,o),t.max=Cx(t.max,e,n,s,o)}function Q2(t,{x:e,y:n}){Vm(t.x,e.translate,e.scale,e.originPoint),Vm(t.y,n.translate,n.scale,n.originPoint)}const Sx=.999999999999,Nx=1.0000000000001;function r3(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let f=0;f<o;f++){a=n[f],u=a.projectionDelta;const{visualElement:m}=a.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&$o(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Q2(t,u)),s&&_i(a.latestValues)&&$o(t,a.latestValues))}e.x<Nx&&e.x>Sx&&(e.x=1),e.y<Nx&&e.y>Sx&&(e.y=1)}function zo(t,e){t.min=t.min+e,t.max=t.max+e}function Ix(t,e,n,s,o=.5){const a=nt(t.min,t.max,o);Vm(t,e,n,a,s)}function $o(t,e){Ix(t.x,e.x,e.scaleX,e.scale,e.originX),Ix(t.y,e.y,e.scaleY,e.scale,e.originY)}function Y2(t,e){return W2(YR(t.getBoundingClientRect(),e))}function s3(t,e,n){const s=Y2(t,n),{scroll:o}=e;return o&&(zo(s.x,o.offset.x),zo(s.y,o.offset.y)),s}const X2=({current:t})=>t?t.ownerDocument.defaultView:null,Ax=(t,e)=>Math.abs(t-e);function i3(t,e){const n=Ax(t.x,e.x),s=Ax(t.y,e.y);return Math.sqrt(n**2+s**2)}class J2{constructor(e,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Hf(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=i3(w.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:S}=w,{timestamp:I}=Dt;this.history.push({...S,timestamp:I});const{onStart:R,onMove:U}=this.handlers;_||(R&&R(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=$f(_,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Hf(w.type==="pointercancel"?this.lastMoveEventInfo:$f(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(w,R),S&&S(w,R)},!Zp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const u=lc(e),f=$f(u,this.transformPagePoint),{point:m}=f,{timestamp:p}=Dt;this.history=[{...m,timestamp:p}];const{onSessionStart:x}=n;x&&x(e,Hf(f,this.history)),this.removeListeners=ic(_l(this.contextWindow,"pointermove",this.handlePointerMove),_l(this.contextWindow,"pointerup",this.handlePointerUp),_l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fs(this.updatePoint)}}function $f(t,e){return e?{point:e(t.point)}:t}function jx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hf({point:t},e){return{point:t,delta:jx(t,Z2(e)),offset:jx(t,o3(e)),velocity:a3(e,.1)}}function o3(t){return t[0]}function Z2(t){return t[t.length-1]}function a3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=Z2(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>wr(e)));)n--;if(!s)return{x:0,y:0};const a=kr(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function l3(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?nt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?nt(n,t,s.max):Math.min(t,n)),t}function Px(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function c3(t,{top:e,left:n,bottom:s,right:o}){return{x:Px(t.x,n,o),y:Px(t.y,e,s)}}function Rx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function u3(t,e){return{x:Rx(t.x,e.x),y:Rx(t.y,e.y)}}function d3(t,e){let n=.5;const s=en(t),o=en(e);return o>s?n=Vl(e.min,e.max-s,t.min):s>o&&(n=Vl(t.min,t.max-o,e.min)),Zr(0,1,n)}function h3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Om=.35;function f3(t=Om){return t===!1?t=0:t===!0&&(t=Om),{x:Dx(t,"left","right"),y:Dx(t,"top","bottom")}}function Dx(t,e,n){return{min:Mx(t,e),max:Mx(t,n)}}function Mx(t,e){return typeof t=="number"?t:t[e]||0}const m3=new WeakMap;class p3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lc(x).point)},a=(x,w)=>{const{drag:_,dragPropagation:T,onDragStart:S}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PP(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(R=>{let U=this.getAxisMotionValue(R).get()||0;if(_r.test(U)){const{projection:B}=this.visualElement;if(B&&B.layout){const L=B.layout.layoutBox[R];L&&(U=en(L)*(parseFloat(U)/100))}}this.originPoint[R]=U}),S&&st.postRender(()=>S(x,w)),Dm(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(x,w)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:S,onDrag:I}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:R}=w;if(T&&this.currentDirection===null){this.currentDirection=g3(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",w.point,R),this.updateAxis("y",w.point,R),this.visualElement.render(),I&&I(x,w)},f=(x,w)=>this.stop(x,w),m=()=>Dn(x=>{var w;return this.getAnimationState(x)==="paused"&&((w=this.getAxisMotionValue(x).animation)==null?void 0:w.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new J2(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:X2(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Du(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=l3(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&Uo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=c3(s.layoutBox,e):this.constraints=!1,this.elastic=f3(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=h3(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Uo(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=s3(s,o.root,this.visualElement.getTransformPagePoint());let u=u3(o.layout.layoutBox,a);if(n){const f=n(QR(u));this.hasMutatedConstraints=!!f,f&&(u=W2(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Dn(x=>{if(!Du(x,n,this.currentDirection))return;let w=m&&m[x]||{};u&&(w={min:0,max:0});const _=o?200:1e6,T=o?40:1e7,S={type:"inertia",velocity:s?e[x]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(x,S)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Dm(this.visualElement,e),s.start(l0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Dn(n=>{const{drag:s}=this.getProps();if(!Du(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];a.set(e[n]-nt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Uo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Dn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();o[u]=d3({min:m,max:m},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!Du(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(nt(m,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;m3.set(this.visualElement,this);const e=this.visualElement.current,n=_l(e,"pointerdown",m=>{const{drag:p,dragListener:x=!0}=this.getProps();p&&x&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Uo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),st.read(s);const u=$l(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Dn(x=>{const w=this.getAxisMotionValue(x);w&&(this.originPoint[x]+=m[x].translate,w.set(w.get()+m[x].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Om,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:f}}}function Du(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function g3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class y3 extends Hs{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new p3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lx=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class v3 extends Hs{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new J2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Lx(e),onStart:Lx(n),onMove:s,onEnd:(a,u)=>{delete this.session,o&&st.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=_l(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=Vx(t,e.target.x),s=Vx(t,e.target.y);return`${n}% ${s}%`}},x3={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Us.parse(t);if(o.length>5)return s;const a=Us.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=m;const p=nt(f,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};class w3 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;sR(k3),a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,{projection:u}=s;return u&&(u.isPresent=a,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||st.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e_(t){const[e,n]=BP(),s=D.useContext(Lk);return c.jsx(w3,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(P2),isPresent:e,safeToRemove:n})}const k3={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:x3};function _3(t,e,n){const s=Kt(t)?t:ea(t);return s.start(l0("",s,e,n)),s.animation}const b3=(t,e)=>t.depth-e.depth;class T3{constructor(){this.children=[],this.isDirty=!1}add(e){Rp(this.children,e),this.isDirty=!0}remove(e){Dp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b3),this.isDirty=!1,this.children.forEach(e)}}function E3(t,e){const n=dn.now(),s=({timestamp:o})=>{const a=o-n;a>=e&&(Fs(s),t(a-e))};return st.setup(s,!0),()=>Fs(s)}const t_=["TopLeft","TopRight","BottomLeft","BottomRight"],C3=t_.length,Ox=t=>typeof t=="string"?parseFloat(t):t,Fx=t=>typeof t=="number"||xe.test(t);function S3(t,e,n,s,o,a){o?(t.opacity=nt(0,n.opacity??1,N3(s)),t.opacityExit=nt(e.opacity??1,0,I3(s))):a&&(t.opacity=nt(e.opacity??1,n.opacity??1,s));for(let u=0;u<C3;u++){const f=`border${t_[u]}Radius`;let m=Ux(e,f),p=Ux(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Fx(m)===Fx(p)?(t[f]=Math.max(nt(Ox(m),Ox(p),s),0),(_r.test(p)||_r.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=nt(e.rotate||0,n.rotate||0,s))}function Ux(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N3=n_(0,.5,Kk),I3=n_(.5,.95,Ln);function n_(t,e,n){return s=>s<t?0:s>e?1:n(Vl(t,e,s))}function Bx(t,e){t.min=e.min,t.max=e.max}function Rn(t,e){Bx(t.x,e.x),Bx(t.y,e.y)}function zx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $x(t,e,n,s,o){return t-=e,t=_d(t,1/n,s),o!==void 0&&(t=_d(t,1/o,s)),t}function A3(t,e=0,n=1,s=.5,o,a=t,u=t){if(_r.test(e)&&(e=parseFloat(e),e=nt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=nt(a.min,a.max,s);t===a&&(f-=e),t.min=$x(t.min,e,n,f,o),t.max=$x(t.max,e,n,f,o)}function Hx(t,e,[n,s,o],a,u){A3(t,e[n],e[s],e[o],e.scale,a,u)}const j3=["x","scaleX","originX"],P3=["y","scaleY","originY"];function Wx(t,e,n,s){Hx(t.x,e,j3,n?n.x:void 0,s?s.x:void 0),Hx(t.y,e,P3,n?n.y:void 0,s?s.y:void 0)}function qx(t){return t.translate===0&&t.scale===1}function r_(t){return qx(t.x)&&qx(t.y)}function Kx(t,e){return t.min===e.min&&t.max===e.max}function R3(t,e){return Kx(t.x,e.x)&&Kx(t.y,e.y)}function Gx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function s_(t,e){return Gx(t.x,e.x)&&Gx(t.y,e.y)}function Qx(t){return en(t.x)/en(t.y)}function Yx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class D3{constructor(){this.members=[]}add(e){Rp(this.members,e),e.scheduleRender()}remove(e){if(Dp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M3(t,e,n){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(s=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:x,rotateX:w,rotateY:_,skewX:T,skewY:S}=n;p&&(s=`perspective(${p}px) ${s}`),x&&(s+=`rotate(${x}deg) `),w&&(s+=`rotateX(${w}deg) `),_&&(s+=`rotateY(${_}deg) `),T&&(s+=`skewX(${T}deg) `),S&&(s+=`skewY(${S}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Wf=["","X","Y","Z"],L3={visibility:"hidden"},V3=1e3;let O3=0;function qf(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function i_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=B2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&i_(s)}function o_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=O3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(B3),this.nodes.forEach(q3),this.nodes.forEach(K3),this.nodes.forEach(z3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new T3)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Vp),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=C2(u)&&!OP(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let x;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=E3(w,250),Gu.hasAnimatedSinceResize&&(Gu.hasAnimatedSinceResize=!1,this.nodes.forEach(Jx))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:w,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||J3,{onLayoutAnimationStart:I,onLayoutAnimationComplete:R}=p.getProps(),U=!this.targetLayout||!s_(this.targetLayout,T),B=!w&&_;if(this.options.layoutRoot||this.resumeFrom||B||w&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...Yp(S,"layout"),onPlay:I,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(x,B)}else w||Jx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G3),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&i_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const w=this.path[x];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xx);return}this.isUpdating||this.nodes.forEach(H3),this.isUpdating=!1,this.nodes.forEach(W3),this.nodes.forEach(F3),this.nodes.forEach(U3),this.clearAllSnapshots();const f=dn.now();Dt.delta=Zr(0,1e3/60,f-Dt.timestamp),Dt.timestamp=f,Dt.isProcessing=!0,Lf.update.process(Dt),Lf.preRender.process(Dt),Lf.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($3),this.sharedNodes.forEach(Q3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!en(this.snapshot.measuredBox.x)&&!en(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!r_(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,x=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||_i(this.latestValues)||x)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),Z3(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return ut();const f=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(e5))){const{scroll:x}=this.root;x&&(zo(f.x,x.offset.x),zo(f.y,x.offset.y))}return f}removeElementScroll(u){var m;const f=ut();if(Rn(f,u),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const x=this.path[p],{scroll:w,options:_}=x;x!==this.root&&w&&_.layoutScroll&&(w.wasRoot&&Rn(f,u),zo(f.x,w.offset.x),zo(f.y,w.offset.y))}return f}applyTransform(u,f=!1){const m=ut();Rn(m,u);for(let p=0;p<this.path.length;p++){const x=this.path[p];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&$o(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),_i(x.latestValues)&&$o(m,x.latestValues)}return _i(this.latestValues)&&$o(m,this.latestValues),m}removeTransform(u){const f=ut();Rn(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!_i(p.latestValues))continue;Lm(p.latestValues)&&p.updateSnapshot();const x=ut(),w=p.measurePageBox();Rn(x,w),Wx(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,x)}return _i(this.latestValues)&&Wx(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var _;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:w}=this.options;if(!(!this.layout||!(x||w))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Tl(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),Q2(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Tl(this.relativeTargetOrigin,this.target,T.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lm(this.parent.latestValues)||G2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;Rn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,_=this.treeScale.y;r3(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ut());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zx(this.prevProjectionDelta.x,this.projectionDelta.x),zx(this.prevProjectionDelta.y,this.projectionDelta.y)),bl(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==_||!Yx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bo(),this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},x={...this.latestValues},w=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=ut(),T=m?m.source:void 0,S=this.layout?this.layout.source:void 0,I=T!==S,R=this.getStack(),U=!R||R.members.length<=1,B=!!(I&&!U&&this.options.crossfade===!0&&!this.path.some(X3));this.animationProgress=0;let L;this.mixTargetDelta=X=>{const se=X/1e3;Zx(w.x,u.x,se),Zx(w.y,u.y,se),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y3(this.relativeTarget,this.relativeTargetOrigin,_,se),L&&R3(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=ut()),Rn(L,this.relativeTarget)),I&&(this.animationValues=x,S3(x,p,this.latestValues,se,B,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Gu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ea(0)),this.currentAnimation=_3(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),u.onUpdate&&u.onUpdate(x)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:x}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&a_(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ut();const w=en(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+w;const _=en(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+_}Rn(f,m),$o(f,x),bl(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new D3),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&qf("z",u,p,this.animationValues);for(let x=0;x<Wf.length;x++)qf(`rotate${Wf[x]}`,u,p,this.animationValues),qf(`skew${Wf[x]}`,u,p,this.animationValues);u.render();for(const x in p)u.setStaticValue(x,p[x]),this.animationValues&&(this.animationValues[x]=p[x]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return L3;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Ku(u==null?void 0:u.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Ku(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!_i(this.latestValues)&&(T.transform=m?m({},""):"none",this.hasProjected=!1),T}const x=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=M3(this.projectionDeltaWithTransform,this.treeScale,x),m&&(f.transform=m(x,f.transform));const{x:w,y:_}=this.projectionDelta;f.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,p.animationValues?f.opacity=p===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:f.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const T in Bl){if(x[T]===void 0)continue;const{correct:S,applyTo:I,isCSSVariable:R}=Bl[T],U=f.transform==="none"?x[T]:S(x[T],p);if(I){const B=I.length;for(let L=0;L<B;L++)f[I[L]]=U}else R?this.options.visualElement.renderState.vars[T]=U:f[T]=U}return this.options.layoutId&&(f.pointerEvents=p===this?Ku(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Xx),this.root.sharedNodes.clear()}}}function F3(t){t.updateLayout()}function U3(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Dn(w=>{const _=u?e.measuredBox[w]:e.layoutBox[w],T=en(_);_.min=s[w].min,_.max=_.min+T}):a_(a,e.layoutBox,s)&&Dn(w=>{const _=u?e.measuredBox[w]:e.layoutBox[w],T=en(s[w]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+T)});const f=Bo();bl(f,s,e.layoutBox);const m=Bo();u?bl(m,t.applyTransform(o,!0),e.measuredBox):bl(m,s,e.layoutBox);const p=!r_(f);let x=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:_,layout:T}=w;if(_&&T){const S=ut();Tl(S,e.layoutBox,_.layoutBox);const I=ut();Tl(I,s,T.layoutBox),s_(S,I)||(x=!0),w.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=S,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:x})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function B3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function z3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $3(t){t.clearSnapshot()}function Xx(t){t.clearMeasurements()}function H3(t){t.isLayoutDirty=!1}function W3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function q3(t){t.resolveTargetDelta()}function K3(t){t.calcProjection()}function G3(t){t.resetSkewAndRotation()}function Q3(t){t.removeLeadSnapshot()}function Zx(t,e,n){t.translate=nt(e.translate,0,n),t.scale=nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function e1(t,e,n,s){t.min=nt(e.min,n.min,s),t.max=nt(e.max,n.max,s)}function Y3(t,e,n,s){e1(t.x,e.x,n.x,s),e1(t.y,e.y,n.y,s)}function X3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J3={duration:.45,ease:[.4,0,.1,1]},t1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),n1=t1("applewebkit/")&&!t1("chrome/")?Math.round:Ln;function r1(t){t.min=n1(t.min),t.max=n1(t.max)}function Z3(t){r1(t.x),r1(t.y)}function a_(t,e,n){return t==="position"||t==="preserve-aspect"&&!t3(Qx(e),Qx(n),.2)}function e5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const t5=o_({attachResizeListener:(t,e)=>$l(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kf={current:void 0},l_=o_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kf.current){const t=new t5({});t.mount(window),t.setOptions({layoutScroll:!0}),Kf.current=t}return Kf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n5={pan:{Feature:v3},drag:{Feature:y3,ProjectionNode:l_,MeasureLayout:e_}};function s1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=s[o];a&&st.postRender(()=>a(e,lc(e)))}class r5 extends Hs{mount(){const{current:e}=this.node;e&&(this.unmount=RP(e,(n,s)=>(s1(this.node,s,"Start"),o=>s1(this.node,o,"End"))))}unmount(){}}class s5 extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ic($l(this.node.current,"focus",()=>this.onFocus()),$l(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function i1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=s[o];a&&st.postRender(()=>a(e,lc(e)))}class i5 extends Hs{mount(){const{current:e}=this.node;e&&(this.unmount=VP(e,(n,s)=>(i1(this.node,s,"Start"),(o,{success:a})=>i1(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fm=new WeakMap,Gf=new WeakMap,o5=t=>{const e=Fm.get(t.target);e&&e(t)},a5=t=>{t.forEach(o5)};function l5({root:t,...e}){const n=t||document;Gf.has(n)||Gf.set(n,{});const s=Gf.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(a5,{root:t,...e})),s[o]}function c5(t,e,n){const s=l5(e);return Fm.set(t,n),s.observe(t),()=>{Fm.delete(t),s.unobserve(t)}}const u5={some:0,all:1};class d5 extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:u5[o]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:x,onViewportLeave:w}=this.node.getProps(),_=p?x:w;_&&_(m)};return c5(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(h5(e,n))&&this.startObserver()}unmount(){}}function h5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const f5={inView:{Feature:d5},tap:{Feature:i5},focus:{Feature:s5},hover:{Feature:r5}},m5={layout:{ProjectionNode:l_,MeasureLayout:e_}},Um={current:null},c_={current:!1};function p5(){if(c_.current=!0,!!jp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Um.current=t.matches;t.addListener(e),e()}else Um.current=!1}const g5=new WeakMap;function y5(t,e,n){for(const s in e){const o=e[s],a=n[s];if(Kt(o))t.addValue(s,o);else if(Kt(a))t.addValue(s,ea(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,ea(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const o1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=dn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,st.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=Hd(n),this.isVariantNode=A2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in w){const T=w[_];m[_]!==void 0&&Kt(T)&&T.set(m[_],!1)}}mount(e){this.current=e,g5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),c_.current||p5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Um.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fs(this.notifyUpdate),Fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ca.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&st.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ta){const n=ta[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<o1.length;s++){const o=o1[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=y5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ea(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Vk(s)||Fk(s))?s=parseFloat(s):!UP(s)&&Us.test(n)&&(s=k2(e,n)),this.setBaseTarget(e,Kt(s)?s.get():s)),Kt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=o0(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(s=u[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Kt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class u_ extends v5{constructor(){super(...arguments),this.KeyframeResolver=NP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function d_(t,{style:e,vars:n},s,o){Object.assign(t.style,e,o&&o.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}function x5(t){return window.getComputedStyle(t)}class w5 extends u_{constructor(){super(...arguments),this.type="html",this.renderInstance=d_}readValueFromInstance(e,n){var s;if(ca.has(n))return(s=this.projection)!=null&&s.isProjecting?Sm(n):Kj(e,n);{const o=x5(e),a=(Up(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Y2(e,n)}build(e,n,s){r0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return a0(e,n,s)}}const h_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function k5(t,e,n,s){d_(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(h_.has(o)?o:n0(o),e.attrs[o])}class _5 extends u_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ca.has(n)){const s=w2(n);return s&&s.default||0}return n=h_.has(n)?n:n0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return U2(e,n,s)}build(e,n,s){L2(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){k5(e,n,s,o)}mount(e){this.isSVGTag=O2(e.tagName),super.mount(e)}}const b5=(t,e)=>i0(t)?new _5(e):new w5(e,{allowProjection:t!==D.Fragment}),T5=kR({...KR,...f5,...n5,...m5},b5),Ue=qP(T5),E5=t=>{switch(t.code){case"auth/email-already-in-use":return"This email is already registered. Please sign in instead.";case"auth/invalid-credential":return"Please enter a valid email address.";case"auth/weak-password":return"Your password is too weak. Please use at least 6 characters.";case"auth/user-not-found":return"No account found with this email. Please check your email or sign up.";case"auth/wrong-password":return"Incorrect password. Please try again or reset your password.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/user-disabled":return"This account has been disabled. Please contact support.";case"permission-denied":return"You do not have permission to perform this action.";case"unavailable":return"The service is currently unavailable. Please try again later.";default:return console.error("Firebase error:",t),"An unexpected error occurred. Please try again."}},f_=({isOpen:t,onClose:e,onSuccess:n})=>{const[s,o]=D.useState(""),[a,u]=D.useState(""),[f,m]=D.useState(""),[p,x]=D.useState(!0),[w,_]=D.useState(""),[T,S]=D.useState(!1),{signUp:I,signIn:R}=Bd(),U=async B=>{B.preventDefault(),_(""),S(!0);try{if(p){const L=await I(s,a);L&&L.uid&&await Gv(pd(yd,"users",L.uid),{email:s,username:f,displayName:f,createdAt:Mf(),walletAddress:null,isWalletConnected:!1,profileComplete:!0,lastLogin:Mf(),readingHistory:[],votingHistory:[],collections:[]})}else await R(s,a),setTimeout(()=>{Ti.currentUser&&Ti.currentUser.uid&&Gv(pd(yd,"users",Ti.currentUser.uid),{lastLogin:Mf()},{merge:!0}).catch(L=>console.error("Error updating last login:",L))},1e3);e(),n&&n()}catch(L){L instanceof Vn?_(E5(L)):_((L==null?void 0:L.message)||"An unexpected error occurred. Please try again.")}finally{S(!1)}};return t?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm",onClick:e}),c.jsxs(Ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6 sm:p-8 w-full max-w-md z-10 relative",children:[c.jsx("button",{className:"absolute top-4 right-4 text-ink-400 hover:text-ink-600 dark:text-ink-500 dark:hover:text-ink-300",onClick:e,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsx("h2",{className:"text-2xl font-display font-bold text-ink-900 dark:text-white mb-6",children:p?"Join PlotMint":"Welcome Back"}),w&&c.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 p-3 rounded-md mb-4 text-sm",children:w}),c.jsxs("form",{onSubmit:U,children:[p&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-ink-700 dark:text-ink-300 mb-1",children:"Username"}),c.jsx("input",{type:"text",value:f,onChange:B=>m(B.target.value),className:"w-full px-3 py-2 border border-parchment-300 dark:border-dark-700 rounded-md bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-ink-700 dark:text-ink-300 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:s,onChange:B=>o(B.target.value),className:"w-full px-3 py-2 border border-parchment-300 dark:border-dark-700 rounded-md bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-ink-700 dark:text-ink-300 mb-1",children:"Password"}),c.jsx("input",{type:"password",value:a,onChange:B=>u(B.target.value),className:"w-full px-3 py-2 border border-parchment-300 dark:border-dark-700 rounded-md bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),c.jsx(ze,{variant:"primary",fullWidth:!0,type:"submit",disabled:T,children:T?"Processing...":p?"Create Account":"Sign In"})]}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{className:"text-sm text-primary-600 dark:text-primary-400 hover:underline",onClick:()=>x(!p),children:p?"Already have an account? Sign in":"Need an account? Join PlotMint"})})]})]})}):null},a1=t=>{switch(t.code){case"permission-denied":return"You do not have permission to connect a wallet.";case"unavailable":return"The service is currently unavailable. Please try connecting your wallet later.";default:return console.error("Firebase error:",t),"An unexpected error occurred while connecting your wallet."}},C5=()=>{const[t,e]=D.useState(!1),[n,s]=D.useState(!1),[o,a]=D.useState(""),[u,f]=D.useState(!1),[m,p]=D.useState(null),{currentUser:x}=Bd();D.useEffect(()=>{const S=localStorage.getItem("connectedWallet");S&&x&&(a(S),s(!0))},[x]);const w=async S=>{if(!(!x||!x.uid)){e(!0),p(null);try{console.log(`Connecting to ${S}...`),await new Promise(R=>setTimeout(R,1500));const I="0x"+Math.random().toString(16).substring(2,14)+"...";a(I),s(!0),f(!1),localStorage.setItem("connectedWallet",I);try{await Qv(pd(yd,"users",x.uid),{walletAddress:I,isWalletConnected:!0,lastWalletConnection:new Date})}catch(R){console.error("Error updating wallet in Firestore:",R),R instanceof Vn?p(a1(R)):p("Failed to save your wallet connection. Please try again.")}}catch(I){console.error("Error connecting wallet:",I),p("Failed to connect your wallet. Please try again."),s(!1),localStorage.removeItem("connectedWallet")}finally{e(!1)}}},_=async()=>{if(a(""),s(!1),localStorage.removeItem("connectedWallet"),p(null),x&&x.uid)try{await Qv(pd(yd,"users",x.uid),{isWalletConnected:!1})}catch(S){console.error("Error updating wallet status in Firestore:",S),S instanceof Vn?p(a1(S)):p("Failed to update your wallet status. Please try again.")}};return x?n?c.jsxs("div",{className:"relative",children:[c.jsx(ze,{variant:"outline",size:"sm",onClick:()=>f(!u),children:c.jsxs("span",{className:"flex items-center",children:[c.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),o]})}),u&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-dark-800 ring-1 ring-black ring-opacity-5 z-50",children:c.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[c.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",role:"menuitem",onClick:_,children:"Disconnect Wallet"}),c.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",role:"menuitem",children:"View on Explorer"}),c.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",role:"menuitem",children:"Copy Address"})]})})]}):c.jsxs("div",{className:"relative",children:[m&&c.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 p-2 text-xs rounded-md",children:m}),c.jsx(ze,{variant:"outline",size:"sm",onClick:()=>f(!u),disabled:t,children:t?"Connecting...":"Connect Wallet"}),u&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-dark-800 ring-1 ring-black ring-opacity-5 z-50",children:c.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[c.jsxs("button",{className:"flex items-center w-full text-left px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",role:"menuitem",onClick:()=>w("metamask"),children:[c.jsx("img",{src:"/img/wallets/metamask.svg",alt:"MetaMask",className:"w-5 h-5 mr-3"}),"MetaMask"]}),c.jsxs("button",{className:"flex items-center w-full text-left px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",role:"menuitem",onClick:()=>w("walletconnect"),children:[c.jsx("img",{src:"/img/wallets/walletconnect.svg",alt:"WalletConnect",className:"w-5 h-5 mr-3"}),"WalletConnect"]}),c.jsxs("button",{className:"flex items-center w-full text-left px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",role:"menuitem",onClick:()=>w("coinbase"),children:[c.jsx("img",{src:"/img/wallets/coinbase.svg",alt:"Coinbase Wallet",className:"w-5 h-5 mr-3"}),"Coinbase Wallet"]})]})})]}):null},S5=({theme:t,toggleTheme:e})=>{var S;const[n,s]=D.useState(!1),[o,a]=D.useState(!1),[u,f]=D.useState(!1),m=Sr(),p=D.useRef(null),{currentUser:x,logOut:w}=Bd();D.useEffect(()=>{const I=R=>{p.current&&!p.current.contains(R.target)&&a(!1)};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]),D.useEffect(()=>{s(!1),a(!1)},[m]);const _=()=>{s(!n)},T=async()=>{try{await w(),a(!1)}catch(I){console.error("Error signing out:",I)}};return c.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white dark:bg-dark-900 border-b border-parchment-200 dark:border-dark-700",children:[c.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(_e,{to:"/",className:"flex-shrink-0 flex items-center",children:c.jsxs("span",{className:"text-xl font-display font-bold text-primary-600 dark:text-primary-400",children:["Plot",c.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Mint"})]})}),c.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-4",children:[c.jsx(_e,{to:"/stories",className:"px-3 py-2 text-sm font-medium text-ink-600 dark:text-ink-300 hover:text-ink-900 dark:hover:text-white",children:"Explore Stories"}),c.jsx(_e,{to:"/discover",className:"px-3 py-2 text-sm font-medium text-ink-600 dark:text-ink-300 hover:text-ink-900 dark:hover:text-white",children:"Discover"}),c.jsx("a",{href:"#",className:"px-3 py-2 text-sm font-medium text-ink-600 dark:text-ink-300 hover:text-ink-900 dark:hover:text-white",children:"For Creators"})]})]}),c.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:items-center sm:space-x-4",children:[c.jsx("button",{onClick:e,className:"inline-flex items-center justify-center p-2 rounded-md text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200 focus:outline-none","aria-label":"Toggle theme",children:t==="dark"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),x?c.jsxs(c.Fragment,{children:[c.jsx(C5,{}),c.jsxs("div",{className:"relative",ref:p,children:[c.jsxs(ze,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>a(!o),children:[c.jsx("span",{children:((S=x.email)==null?void 0:S.split("@")[0])||"User"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`ml-2 h-4 w-4 transform transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-dark-800 rounded-md shadow-lg border border-parchment-200 dark:border-dark-700 z-10",children:c.jsxs("div",{className:"py-1",children:[c.jsx(_e,{to:"/dashboard",className:"block px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",children:"Reader Dashboard"}),c.jsx(_e,{to:"/creator",className:"block px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",children:"Creator Studio"}),c.jsx(_e,{to:"/profile/user1",className:"block px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",children:"My Profile"}),c.jsx("hr",{className:"my-1 border-parchment-200 dark:border-dark-700"}),c.jsx("button",{onClick:T,className:"block w-full text-left px-4 py-2 text-sm text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-700",children:"Sign Out"})]})})]})]}):c.jsx(ze,{variant:"outline",size:"sm",onClick:()=>f(!0),children:"Join PlotMint"}),x&&c.jsx(_e,{to:"/creator/new-story",children:c.jsx(ze,{variant:"primary",size:"sm",children:"Start Writing"})})]}),c.jsxs("div",{className:"flex items-center sm:hidden",children:[c.jsx("button",{onClick:e,className:"inline-flex items-center justify-center p-2 rounded-md text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200 focus:outline-none mr-2","aria-label":"Toggle theme",children:t==="dark"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),c.jsxs("button",{onClick:_,type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":"false",children:[c.jsx("span",{className:"sr-only",children:"Open main menu"}),n?c.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):c.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})]})]})}),n&&c.jsxs("div",{className:"sm:hidden",id:"mobile-menu",children:[c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[c.jsx(_e,{to:"/stories",className:"block px-3 py-2 rounded-md text-base font-medium text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-800",children:"Explore Stories"}),c.jsx(_e,{to:"/discover",className:"block px-3 py-2 rounded-md text-base font-medium text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-800",children:"Discover"}),c.jsx("a",{href:"#",className:"block px-3 py-2 rounded-md text-base font-medium text-ink-700 dark:text-ink-200 hover:bg-parchment-100 dark:hover:bg-dark-800",children:"For Creators"})]}),c.jsx("div",{className:"px-4 py-3 border-t border-parchment-200 dark:border-dark-700",children:x?c.jsxs(c.Fragment,{children:[c.jsx(_e,{to:"/dashboard",children:c.jsx(ze,{variant:"outline",fullWidth:!0,className:"mb-2",children:"Dashboard"})}),c.jsx(ze,{variant:"primary",fullWidth:!0,onClick:T,children:"Sign Out"})]}):c.jsx(ze,{variant:"primary",fullWidth:!0,onClick:()=>f(!0),children:"Join PlotMint"})})]}),c.jsx(f_,{isOpen:u,onClose:()=>f(!1)})]})};function N5(){const[t,e]=D.useState(()=>localStorage.getItem("theme")||"light");D.useEffect(()=>{const s=window.document.documentElement;t==="dark"?(s.classList.add("dark"),localStorage.setItem("theme","dark")):(s.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{e(t==="light"?"dark":"light")};return c.jsx("button",{onClick:n,className:"p-2 rounded-md hover:bg-ink-100 dark:hover:bg-dark-800 transition-colors","aria-label":`Switch to ${t==="light"?"dark":"light"} theme`,children:t==="dark"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-yellow-300",children:c.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-ink-700",children:c.jsx("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z",clipRule:"evenodd"})})})}const I5=()=>c.jsx("footer",{className:"bg-parchment-100 dark:bg-dark-800 pt-12 pb-8",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 md:gap-12 mb-8 md:mb-12",children:[c.jsxs("div",{className:"md:col-span-1",children:[c.jsx(_e,{to:"/",className:"inline-block mb-5",children:c.jsxs("span",{className:"text-2xl font-display font-bold text-primary-700 dark:text-primary-400",children:["Plot",c.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Mint"})]})}),c.jsx("p",{className:"text-ink-700 dark:text-ink-200 mb-5 max-w-xs",children:"The decentralized storytelling platform where chapters are minted as collectibles and readers influence the story."}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(N5,{}),c.jsx("span",{className:"ml-3 text-sm text-ink-600 dark:text-ink-300",children:"Switch theme"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-4",children:"Explore"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx(_e,{to:"/stories",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"Browse Stories"})}),c.jsx("li",{children:c.jsx(_e,{to:"/trending",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"Trending Chapters"})}),c.jsx("li",{children:c.jsx(_e,{to:"/authors",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"Featured Authors"})}),c.jsx("li",{children:c.jsx(_e,{to:"/collections",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"Story Collections"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-4",children:"Resources"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx(_e,{to:"/how-it-works",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"How It Works"})}),c.jsx("li",{children:c.jsx(_e,{to:"/creators",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"For Creators"})}),c.jsx("li",{children:c.jsx(_e,{to:"/faq",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"FAQ"})}),c.jsx("li",{children:c.jsx(_e,{to:"/blog",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"Blog"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-4",children:"Connect"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsxs("a",{href:"https://twitter.com/plotmint",target:"_blank",rel:"noopener noreferrer",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})}),"Twitter"]})}),c.jsx("li",{children:c.jsxs("a",{href:"https://discord.gg/plotmint",target:"_blank",rel:"noopener noreferrer",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.0773.0773 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})}),"Discord"]})}),c.jsx("li",{children:c.jsxs("a",{href:"mailto:hello@plotmint.com",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email Us"]})}),c.jsx("li",{children:c.jsxs("a",{href:"https://github.com/plotmint",target:"_blank",rel:"noopener noreferrer",className:"text-ink-700 dark:text-ink-200 hover:text-primary-700 dark:hover:text-primary-400 transition flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),"GitHub"]})})]})]})]}),c.jsxs("div",{className:"border-t border-parchment-200 dark:border-dark-700 pt-6 md:pt-8 flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("p",{className:"text-sm text-ink-600 dark:text-ink-300 mb-4 md:mb-0",children:[" ",new Date().getFullYear()," PlotMint. All rights reserved."]}),c.jsxs("div",{className:"flex space-x-6 md:space-x-8",children:[c.jsx(_e,{to:"/terms",className:"text-sm text-ink-600 dark:text-ink-300 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"Terms of Service"}),c.jsx(_e,{to:"/privacy",className:"text-sm text-ink-600 dark:text-ink-300 hover:text-primary-700 dark:hover:text-primary-400 transition",children:"Privacy Policy"})]})]})]})}),A5=()=>{const[t,e]=D.useState("light");D.useEffect(()=>{const s=localStorage.getItem("theme");s==="dark"||s==="light"?e(s):(e("light"),localStorage.setItem("theme","light"))},[]),D.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const n=()=>{e(s=>s==="light"?"dark":"light")};return c.jsxs("div",{className:"min-h-screen bg-parchment-50 dark:bg-dark-950 text-ink-900 dark:text-white",children:[c.jsx(S5,{theme:t,toggleTheme:n}),c.jsx("div",{className:"content-wrapper",children:c.jsx("main",{children:c.jsx(kT,{})})}),c.jsx(I5,{})]})},j5=()=>c.jsxs("div",{className:"relative bg-gradient-to-b from-parchment-50 to-parchment-100 dark:from-dark-950 dark:to-dark-900 pt-28 pb-20 md:pt-32 md:pb-24 overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 z-0 opacity-10",children:[c.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary-300 dark:bg-primary-600 rounded-full filter blur-3xl"}),c.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-80 h-80 bg-secondary-300 dark:bg-secondary-600 rounded-full filter blur-3xl"})]}),c.jsxs("div",{className:"content-wrapper relative z-10",children:[c.jsx("div",{className:"max-w-3xl mx-auto text-center mb-10 md:mb-16",children:c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsx("span",{className:"inline-block px-4 py-1.5 bg-primary-100 dark:bg-primary-900/60 text-primary-800 dark:text-primary-200 rounded-full text-sm md:text-base font-medium mb-5 md:mb-6",children:"Powered by Zora Protocol"}),c.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-display font-bold text-ink-900 dark:text-white mb-6 md:mb-8 leading-tight",children:["Stories that"," ",c.jsx("span",{className:"text-primary-600 dark:text-primary-400 italic",children:"Evolve"})," ","with",c.jsxs("span",{className:"text-secondary-600 dark:text-secondary-400",children:[" ","Community"]})]}),c.jsx("p",{className:"text-xl sm:text-2xl md:text-2xl text-ink-700 dark:text-ink-200 mb-8 md:mb-10 font-serif leading-relaxed",children:"PlotMint is a decentralized storytelling platform where each chapter is minted as a collectible. Readers don't just read  they collect, vote, and influence the story's direction."}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-5 md:gap-6",children:[c.jsx(Yu,{to:"/stories",variant:"primary",size:"lg",className:"text-lg md:text-xl py-4 sm:py-4 shadow-sm hover:shadow-md",children:"Explore Stories"}),c.jsx(Yu,{to:"/create",variant:"outline",size:"lg",className:"text-lg md:text-xl py-4 sm:py-4",children:"Start Writing"})]})]})}),c.jsxs(Ue.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},className:"relative mx-auto max-w-4xl px-4 sm:px-6",children:[c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-chapter dark:shadow-dark-chapter overflow-hidden border border-gray-200 dark:border-dark-700",children:[c.jsxs("div",{className:"p-4 sm:p-5 bg-ink-50 dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full mr-2"}),c.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full mr-2"}),c.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mr-2"}),c.jsx("div",{className:"ml-2 sm:ml-4 text-sm sm:text-base font-medium text-ink-500 dark:text-ink-300",children:"PlotMint Story Viewer"})]}),c.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[c.jsx("span",{className:"text-sm font-medium text-ink-400 dark:text-ink-400",children:"Chapter 3 of Series"}),c.jsx("div",{className:"w-6 h-6 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium text-primary-800 dark:text-primary-200",children:"3"})})]})]}),c.jsxs("div",{className:"p-5 sm:p-6 md:p-8 bg-white dark:bg-dark-900",children:[c.jsxs("div",{className:"text-center mb-5 md:mb-6",children:[c.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-ink-900 dark:text-white font-display mb-1 md:mb-2",children:"The Quantum Nexus"}),c.jsx("p",{className:"text-ink-500 dark:text-ink-400 text-sm sm:text-base",children:"Chapter 3: The Decision"})]}),c.jsxs("div",{className:"prose mx-auto max-w-2xl",children:[c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-ink-700 dark:text-ink-200 font-serif leading-relaxed mb-4",children:`The ship's AI flickered to life, bathing the bridge in a soft blue glow. "Three paths detected," it announced, its voice calm despite the gravity of the situation.`}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-ink-700 dark:text-ink-200 font-serif leading-relaxed",children:'Captain Elara gripped the console, her knuckles white. "Show me the options."'})]}),c.jsxs("div",{className:"mt-7 md:mt-8 space-y-3 md:space-y-4",children:[c.jsx("div",{className:"border border-gray-200 dark:border-dark-700 rounded-lg p-4 hover:border-primary-300 dark:hover:border-primary-700 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition cursor-pointer",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"font-medium text-ink-900 dark:text-white text-base sm:text-lg",children:"Navigate through the quantum field"}),c.jsxs("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-200 text-sm px-2 py-1 rounded-full flex items-center",children:[c.jsx("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 4L4 20H20L12 4Z",fill:"currentColor"})}),c.jsx("span",{children:"48 Mints"})]})]})}),c.jsx("div",{className:"border border-gray-200 dark:border-dark-700 rounded-lg p-4 hover:border-primary-300 dark:hover:border-primary-700 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition cursor-pointer",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"font-medium text-ink-900 dark:text-white text-base sm:text-lg",children:"Attempt communication with the void entity"}),c.jsxs("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-200 text-sm px-2 py-1 rounded-full flex items-center",children:[c.jsx("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 4L4 20H20L12 4Z",fill:"currentColor"})}),c.jsx("span",{children:"37 Mints"})]})]})}),c.jsx("div",{className:"border border-gray-200 dark:border-dark-700 rounded-lg p-4 hover:border-primary-300 dark:hover:border-primary-700 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition cursor-pointer",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"font-medium text-ink-900 dark:text-white text-base sm:text-lg",children:"Activate the temporal shield"}),c.jsxs("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-200 text-sm px-2 py-1 rounded-full flex items-center",children:[c.jsx("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 4L4 20H20L12 4Z",fill:"currentColor"})}),c.jsx("span",{children:"29 Mints"})]})]})})]}),c.jsx("div",{className:"mt-8 md:mt-10 text-center",children:c.jsxs(ze,{variant:"primary",size:"lg",className:"shadow-sm hover:shadow py-3 px-6 w-full sm:w-auto",children:[c.jsx("span",{children:"Mint your choice to vote"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})]}),c.jsx("div",{className:"absolute -top-6 -right-6 w-12 h-12 rounded-full bg-parchment-200 dark:bg-dark-700 opacity-70 hidden md:block"}),c.jsx("div",{className:"absolute -bottom-8 -left-8 w-16 h-16 rounded-full bg-parchment-200 dark:bg-dark-700 opacity-70 hidden md:block"})]})]})]}),P5=()=>{const t=[{title:"Token-Gated Branching Storytelling",description:"Each chapter ends with multiple plot paths. Readers vote by minting their preferred option, and the most minted branch becomes the canonical next chapter.",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{title:"Gamified Co-Creation Loop",description:"Readers don't passively consume; they influence, compete, and collect. Writers build with fan involvement, not just after-the-fact feedback.",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Fully On-Chain Chapter Tree",description:"Each chapter is minted with metadata linking it to the parent chapter and selected branch, forming a narrative graph instead of a simple sequence.",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})},{title:"Incentivized Reader-Writer Economy",description:"Writers earn from every chapter mint and future forks. Readers who mint early and back winning plot directions can resell rare chapters from popular trees.",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Story Worlds, Not Just Books",description:"Enable collaborative universes where multiple writers build in the same world with shared lore, multiple plotlines, and collectible story artifacts.",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})},{title:"Built on Zora Protocol",description:"Leveraging the power of Zora for minting chapters and voting, ensuring a seamless and transparent web3 experience for all users.",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}];return c.jsx("section",{className:"py-16 md:py-20 bg-white dark:bg-dark-950 w-full",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-10 md:mb-16",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-display font-bold text-ink-900 dark:text-white mb-4 md:mb-6",children:"What Makes PlotMint Uniquely Powerful"}),c.jsx("p",{className:"text-lg sm:text-xl text-ink-600 dark:text-ink-300 leading-relaxed",children:"PlotMint redefines storytelling with innovative Web3 mechanics that bring readers and writers together."})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 md:gap-6 lg:gap-8",children:t.map((e,n)=>c.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:"bg-parchment-50 dark:bg-dark-900 rounded-xl p-6 md:p-7 border border-parchment-200 dark:border-dark-700 hover:shadow-md hover:border-primary-100 dark:hover:border-primary-800 transition duration-300 h-full",children:[c.jsx("div",{className:"w-14 h-14 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center text-primary-600 dark:text-primary-400 mb-5 md:mb-6 shadow-sm",children:c.jsx("div",{className:"w-7 h-7",children:e.icon})}),c.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-ink-900 dark:text-white mb-3 md:mb-4",children:e.title}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 text-base leading-relaxed",children:e.description})]},n))})]})})},R5=()=>{const t=[{number:"01",title:"Writer Creates a Story",description:"Writer connects their wallet, creates a story, adds a title and introduction, then mints the intro as the first chapter.",colorClass:"bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300",dotColorClass:"bg-primary-600 dark:bg-primary-500"},{number:"02",title:"Writer Proposes Plot Options",description:"For every chapter, the writer proposes 2-4 different plot options that readers can choose from.",colorClass:"bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300",dotColorClass:"bg-primary-600 dark:bg-primary-500"},{number:"03",title:"Readers Vote by Minting",description:"Readers mint their chosen plot branch as a vote, collecting that option as an NFT and influencing the story's direction.",colorClass:"bg-secondary-100 dark:bg-secondary-900/40 text-secondary-700 dark:text-secondary-300",dotColorClass:"bg-secondary-600 dark:bg-secondary-500"},{number:"04",title:"Winning Plot is Selected",description:"The plot option with the most mints automatically becomes the canonical next chapter of the story.",colorClass:"bg-secondary-100 dark:bg-secondary-900/40 text-secondary-700 dark:text-secondary-300",dotColorClass:"bg-secondary-600 dark:bg-secondary-500"},{number:"05",title:"Next Chapter is Written",description:"The original writer (or another approved creator) writes the next chapter based on the winning plot direction.",colorClass:"bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300",dotColorClass:"bg-primary-600 dark:bg-primary-500"},{number:"06",title:"Process Continues",description:"The cycle repeats, forming an on-chain, community-guided story tree with multiple paths and endings.",colorClass:"bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300",dotColorClass:"bg-primary-600 dark:bg-primary-500"}];return c.jsx("section",{className:"py-16 md:py-20 bg-parchment-100 dark:bg-dark-900 w-full",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12 md:mb-16 px-4 sm:px-6",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-display font-bold text-ink-900 dark:text-white mb-4 md:mb-6",children:"How PlotMint Works"}),c.jsx("p",{className:"text-lg sm:text-xl text-ink-600 dark:text-ink-300 leading-relaxed",children:"A simple process that creates endless storytelling possibilities"})]}),c.jsxs("div",{className:"relative px-4 sm:px-6",children:[c.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 w-1 bg-parchment-200 dark:bg-dark-700 hidden md:block"}),c.jsx("div",{className:"space-y-10 md:space-y-12",children:t.map((e,n)=>c.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:`flex flex-col ${n%2===0?"md:flex-row":"md:flex-row-reverse"} items-center`,children:[c.jsxs("div",{className:`md:w-1/2 ${n%2===0?"md:pr-12 lg:pr-16 md:text-right":"md:pl-12 lg:pl-16"} mb-6 md:mb-0`,children:[c.jsxs("div",{className:`inline-block px-3 py-1.5 rounded-full text-xs font-semibold uppercase mb-3 ${e.colorClass} shadow-sm`,children:["Step ",e.number]}),c.jsx("h3",{className:"text-xl sm:text-2xl md:text-2xl font-bold text-ink-900 dark:text-white mb-3",children:e.title}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 text-base leading-relaxed",children:e.description})]}),c.jsxs("div",{className:"md:w-1/2 relative flex justify-center mb-4 md:mb-0",children:[c.jsx("div",{className:`z-10 w-16 h-16 md:w-16 md:h-16 rounded-full flex items-center justify-center text-lg md:text-xl font-bold ${e.dotColorClass} text-white shadow-md`,children:e.number}),n<t.length-1&&c.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-1 h-10 bg-parchment-200 dark:bg-dark-700 md:hidden"})]})]},n))})]})]})})},D5=()=>{const t=[{name:"Static content minting",plotmint:!0,mirror:!0,readl:!0,jenkins:!1},{name:"Interactive voting",plotmint:!0,mirror:!1,readl:!1,jenkins:!0,jenkinsNote:"(off-chain)",plotmintNote:"(on-chain via mint)"},{name:"Branching story tree",plotmint:!0,mirror:!1,readl:!1,jenkins:!1},{name:"Reader-driven plot outcomes",plotmint:!0,mirror:!1,readl:!1,jenkins:!0,jenkinsNote:"(partial)"},{name:"Chapter-for-chapter collectibles",plotmint:!0,mirror:!1,readl:!0,jenkins:!1},{name:"Co-writing + forking",plotmint:!0,mirror:!1,readl:!1,jenkins:!0,jenkinsNote:"(partial)"},{name:"Creator & reader economy",plotmint:!0,mirror:!1,readl:!0,readlNote:"(partial)",jenkins:!0}],e=()=>c.jsx("svg",{className:"h-5 w-5 text-green-500 dark:text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),n=()=>c.jsx("svg",{className:"h-5 w-5 text-red-500 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),s=()=>c.jsx("div",{className:"md:hidden px-4 space-y-4",children:t.map((o,a)=>c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-lg border border-parchment-200 dark:border-dark-700 overflow-hidden shadow-sm",children:[c.jsx("div",{className:"p-4 border-b border-parchment-200 dark:border-dark-700 bg-parchment-50 dark:bg-dark-800",children:c.jsx("h4",{className:"font-medium text-ink-900 dark:text-white",children:o.name})}),c.jsxs("div",{className:"grid grid-cols-2 divide-x divide-parchment-200 dark:divide-dark-700",children:[c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-center mb-2",children:c.jsx("span",{className:"text-xs uppercase font-semibold text-primary-700 dark:text-primary-400",children:"PlotMint"})}),c.jsx("div",{className:"flex flex-col items-center",children:o.plotmint?c.jsxs(c.Fragment,{children:[c.jsx(e,{}),o.plotmintNote&&c.jsx("span",{className:"text-xs text-ink-600 dark:text-ink-300 mt-1 text-center",children:o.plotmintNote})]}):c.jsx(n,{})})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-center mb-2",children:c.jsx("span",{className:"text-xs uppercase font-semibold text-ink-700 dark:text-ink-200",children:"Others"})}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs mb-1 block",children:"Mirror"}),o.mirror?c.jsx(e,{}):c.jsx(n,{})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs mb-1 block",children:"Readl"}),c.jsx("div",{className:"flex flex-col items-center",children:o.readl?c.jsxs(c.Fragment,{children:[c.jsx(e,{}),o.readlNote&&c.jsx("span",{className:"text-[10px] text-ink-600 dark:text-ink-300",children:o.readlNote})]}):c.jsx(n,{})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs mb-1 block",children:"Jenkins"}),c.jsx("div",{className:"flex flex-col items-center",children:o.jenkins?c.jsxs(c.Fragment,{children:[c.jsx(e,{}),o.jenkinsNote&&c.jsx("span",{className:"text-[10px] text-ink-600 dark:text-ink-300",children:o.jenkinsNote})]}):c.jsx(n,{})})]})]})]})]})]},a))});return c.jsx("section",{className:"py-16 md:py-20 bg-parchment-50 dark:bg-dark-950 w-full",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-center max-w-3xl mx-auto mb-10 md:mb-16 px-4 sm:px-6",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-display font-bold text-ink-900 dark:text-white mb-4 md:mb-6",children:"Why PlotMint Is Unique"}),c.jsx("p",{className:"text-lg sm:text-xl text-ink-700 dark:text-ink-200 leading-relaxed",children:"See how PlotMint compares to other Web3 publishing platforms"})]}),c.jsx(s,{}),c.jsx(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"px-4 sm:px-6 overflow-x-auto hidden md:block",children:c.jsx("div",{className:"min-w-full inline-block align-middle",children:c.jsx("div",{className:"overflow-hidden border border-parchment-200 dark:border-dark-700 rounded-lg shadow-sm",children:c.jsxs("table",{className:"min-w-full divide-y divide-parchment-200 dark:divide-dark-700",children:[c.jsx("thead",{className:"bg-parchment-50 dark:bg-dark-800",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-semibold text-ink-700 dark:text-ink-200 uppercase tracking-wider",children:"Feature"}),c.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-3 text-center text-xs sm:text-sm font-semibold text-primary-700 dark:text-primary-400 uppercase tracking-wider bg-primary-50 dark:bg-primary-900/20",children:"PlotMint"}),c.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-3 text-center text-xs sm:text-sm font-semibold text-ink-700 dark:text-ink-200 uppercase tracking-wider",children:"Mirror"}),c.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-3 text-center text-xs sm:text-sm font-semibold text-ink-700 dark:text-ink-200 uppercase tracking-wider",children:"Readl"}),c.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-3 text-center text-xs sm:text-sm font-semibold text-ink-700 dark:text-ink-200 uppercase tracking-wider",children:"Jenkins"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-dark-900 divide-y divide-parchment-200 dark:divide-dark-700",children:t.map((o,a)=>c.jsxs("tr",{className:a%2===0?"bg-white dark:bg-dark-900":"bg-parchment-50 dark:bg-dark-800",children:[c.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium text-ink-900 dark:text-white",children:o.name}),c.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center bg-primary-50 dark:bg-primary-900/20",children:o.plotmint?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(e,{}),o.plotmintNote&&c.jsx("span",{className:"text-xs text-ink-600 dark:text-ink-300 mt-1",children:o.plotmintNote})]}):c.jsx(n,{})}),c.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center",children:o.mirror?c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(e,{})}):c.jsx(n,{})}),c.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center",children:o.readl?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(e,{}),o.readlNote&&c.jsx("span",{className:"text-xs text-ink-600 dark:text-ink-300 mt-1",children:o.readlNote})]}):c.jsx(n,{})}),c.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center",children:o.jenkins?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(e,{}),o.jenkinsNote&&c.jsx("span",{className:"text-xs text-ink-600 dark:text-ink-300 mt-1",children:o.jenkinsNote})]}):c.jsx(n,{})})]},a))})]})})})})]})})},M5=()=>c.jsx("section",{className:"py-16 md:py-20 w-full",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:c.jsxs(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary-700 to-primary-900 dark:from-primary-900 dark:to-dark-900",children:[c.jsx("div",{className:"absolute inset-0 bg-pattern opacity-10"}),c.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-primary-500 opacity-20 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute -bottom-32 -left-32 w-80 h-80 bg-secondary-500 opacity-20 rounded-full blur-3xl"}),c.jsxs("div",{className:"relative py-12 md:py-16 px-6 md:px-12 text-center md:text-left md:flex md:items-center md:justify-between",children:[c.jsxs("div",{className:"md:max-w-lg mb-8 md:mb-0",children:[c.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-display font-bold text-white mb-4",children:"Ready to Shape the Next Bestseller?"}),c.jsx("p",{className:"text-base md:text-lg text-primary-100 dark:text-primary-200 max-w-xl",children:"Join PlotMint today and become part of a new era of interactive storytelling. Create, collect, and influence stories alongside a community of passionate readers and writers."})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row md:flex-col gap-4",children:[c.jsx(Yu,{to:"/create",variant:"cta-primary",size:"lg",className:"md:w-full md:min-w-[180px]",children:"Start Writing"}),c.jsx(Yu,{to:"/stories",variant:"cta-secondary",size:"lg",className:"md:w-full md:min-w-[180px]",children:"Explore Stories"})]})]})]})})}),L5=()=>c.jsxs(c.Fragment,{children:[c.jsx(j5,{}),c.jsx(P5,{}),c.jsx(R5,{}),c.jsx(D5,{}),c.jsx(M5,{})]}),V5=({story:t,viewMode:e})=>{const n=(a,u)=>{const f={"The Quantum Nexus":"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&q=80","Shadows of Eldoria":"https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=800&h=600&q=80","Whispers in the Void":"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=800&h=600&q=80","Chronicles of New Albion":"https://images.unsplash.com/photo-1501084817091-a4f3d1d19e07?w=800&h=600&q=80","The Last Dreamer":"https://images.unsplash.com/photo-1534447677768-be436bb09401?w=800&h=600&q=80","Neon Streets":"https://images.unsplash.com/photo-1520995051695-8dce7195e159?w=800&h=600&q=80"};if(f[a])return f[a];switch(u.toLowerCase()){case"sci-fi":return"https://images.unsplash.com/photo-1465101162946-4377e57745c3?w=800&h=600&q=80";case"fantasy":return"https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=800&h=600&q=80";case"horror":return"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=800&h=600&q=80";case"steampunk":return"https://images.unsplash.com/photo-1519608487953-e999c86e7455?w=800&h=600&q=80";case"cyberpunk":return"https://images.unsplash.com/photo-1493514789931-586cb221d7a7?w=800&h=600&q=80";default:return"https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=800&h=600&q=80"}},s=()=>t.coverImage&&t.coverImage.startsWith("http")?t.coverImage:n(t.title,t.genre),o=()=>t.authorAvatar&&t.authorAvatar.startsWith("http")?t.authorAvatar:`https://i.pravatar.cc/150?u=${t.author.replace(/\s+/g,"")}`;return e==="grid"?c.jsxs(Ue.div,{whileHover:{y:-5},className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all border border-parchment-200 dark:border-dark-700 h-full flex flex-col",children:[c.jsxs(_e,{to:`/stories/${t.id}`,className:"block relative pt-[56.25%] overflow-hidden bg-parchment-200 dark:bg-dark-800",children:[c.jsx("img",{src:s(),alt:t.title,className:"absolute inset-0 w-full h-full object-cover transition-transform hover:scale-105",onError:a=>{const u=a.target;u.src="https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=800&h=600&q=80"}}),c.jsxs("div",{className:"absolute top-3 right-3 bg-black/60 backdrop-blur-sm text-white text-xs px-2 py-1 rounded-full",children:[t.chapters," ",t.chapters===1?"Chapter":"Chapters"]})]}),c.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-primary-100 text-primary-800 dark:bg-primary-900/40 dark:text-primary-300",children:t.genre})}),c.jsx(_e,{to:`/stories/${t.id}`,children:c.jsx("h3",{className:"text-xl font-display font-bold text-ink-900 dark:text-white mb-2 hover:text-primary-600 dark:hover:text-primary-400 transition",children:t.title})}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 text-sm line-clamp-2 mb-3",children:t.description})]}),c.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-parchment-100 dark:border-dark-800",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:o(),alt:t.author,className:"w-8 h-8 rounded-full mr-2 object-cover"}),c.jsx("span",{className:"text-sm font-medium text-ink-700 dark:text-ink-200",children:t.author})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center text-ink-500 dark:text-ink-400 text-xs",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),t.votes]}),c.jsxs("div",{className:"flex items-center text-ink-500 dark:text-ink-400 text-xs",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),t.collectors]})]})]})]})]}):c.jsx(Ue.div,{whileHover:{y:-2},className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all border border-parchment-200 dark:border-dark-700",children:c.jsxs("div",{className:"flex flex-col sm:flex-row",children:[c.jsxs(_e,{to:`/stories/${t.id}`,className:"block sm:w-56 h-40 relative overflow-hidden bg-parchment-200 dark:bg-dark-800",children:[c.jsx("img",{src:s(),alt:t.title,className:"absolute inset-0 w-full h-full object-cover transition-transform hover:scale-105",onError:a=>{const u=a.target;u.src="https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=800&h=600&q=80"}}),c.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-sm text-white text-xs px-2 py-1 rounded-full",children:[t.chapters," ",t.chapters===1?"Chapter":"Chapters"]})]}),c.jsxs("div",{className:"p-5 flex-grow flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-primary-100 text-primary-800 dark:bg-primary-900/40 dark:text-primary-300",children:t.genre}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center text-ink-500 dark:text-ink-400 text-xs",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),t.votes]}),c.jsxs("div",{className:"flex items-center text-ink-500 dark:text-ink-400 text-xs",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),t.collectors]})]})]}),c.jsx(_e,{to:`/stories/${t.id}`,children:c.jsx("h3",{className:"text-xl font-display font-bold text-ink-900 dark:text-white mb-2 hover:text-primary-600 dark:hover:text-primary-400 transition",children:t.title})}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 text-sm mb-4 line-clamp-2",children:t.description})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:o(),alt:t.author,className:"w-7 h-7 rounded-full mr-2 object-cover"}),c.jsx("span",{className:"text-sm font-medium text-ink-700 dark:text-ink-200",children:t.author})]}),c.jsxs("div",{className:"flex gap-1 flex-wrap",children:[t.tags.slice(0,2).map((a,u)=>c.jsx("span",{className:"text-xs px-2 py-1 bg-parchment-100 dark:bg-dark-800 text-ink-600 dark:text-ink-300 rounded-full",children:a},u)),t.tags.length>2&&c.jsxs("span",{className:"text-xs px-2 py-1 text-ink-500 dark:text-ink-400",children:["+",t.tags.length-2]})]})]})]})]})})},O5=({genres:t,activeFilter:e,onFilterChange:n,sortOptions:s,activeSort:o,onSortChange:a,viewMode:u,onViewModeChange:f})=>c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between space-y-4 md:space-y-0 pb-2 border-b border-parchment-200 dark:border-dark-700",children:[c.jsx("div",{className:"flex items-center space-x-1 overflow-x-auto pb-2 md:pb-0 hide-scrollbar",children:t.map(m=>c.jsx("button",{onClick:()=>n(m),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${e===m?"bg-primary-600 text-white dark:bg-primary-500":"bg-parchment-100 text-ink-700 hover:bg-parchment-200 dark:bg-dark-800 dark:text-ink-200 dark:hover:bg-dark-700"}`,children:m},m))}),c.jsxs("div",{className:"flex items-center justify-between md:justify-end space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:o,onChange:m=>a(m.target.value),className:"appearance-none bg-white dark:bg-dark-800 border border-parchment-200 dark:border-dark-700 rounded-md pl-4 pr-10 py-2 text-sm font-medium text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.map(m=>c.jsx("option",{value:m,children:m},m))}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:c.jsx("svg",{className:"h-4 w-4 text-ink-500 dark:text-ink-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("div",{className:"flex items-center border border-parchment-200 dark:border-dark-700 rounded-md",children:[c.jsx("button",{onClick:()=>f("grid"),className:`p-2 ${u==="grid"?"bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400":"bg-white text-ink-500 hover:text-ink-700 dark:bg-dark-800 dark:text-ink-400 dark:hover:text-ink-200"}`,"aria-label":"Grid view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("button",{onClick:()=>f("list"),className:`p-2 ${u==="list"?"bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400":"bg-white text-ink-500 hover:text-ink-700 dark:bg-dark-800 dark:text-ink-400 dark:hover:text-ink-200"}`,"aria-label":"List view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})]}),l1=[{id:"1",title:"The Quantum Nexus",coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&q=80",author:"Elena Voss",authorAvatar:"https://i.pravatar.cc/150?u=ElenaVoss",chapters:7,genre:"Sci-Fi",votes:482,collectors:218,description:"A journey through the multiverse that challenges our understanding of reality and fate.",tags:["science fiction","multiverse","adventure"]},{id:"2",title:"Shadows of Eldoria",coverImage:"https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=800&h=600&q=80",author:"Marcus Chen",authorAvatar:"https://i.pravatar.cc/150?u=MarcusChen",chapters:12,genre:"Fantasy",votes:376,collectors:195,description:"An epic tale of magic, betrayal, and courage in the ancient realm of Eldoria.",tags:["fantasy","magic","adventure"]},{id:"3",title:"Whispers in the Void",coverImage:"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=800&h=600&q=80",author:"Aisha Johnson",authorAvatar:"https://i.pravatar.cc/150?u=AishaJohnson",chapters:5,genre:"Horror",votes:214,collectors:103,description:"Strange voices call from beyond the stars, leading a small town into madness.",tags:["horror","cosmic","mystery"]},{id:"4",title:"Chronicles of New Albion",coverImage:"https://images.unsplash.com/photo-1501084817091-a4f3d1d19e07?w=800&h=600&q=80",author:"Thomas Wright",authorAvatar:"https://i.pravatar.cc/150?u=ThomasWright",chapters:9,genre:"Steampunk",votes:301,collectors:147,description:"Steam-powered automatons and aristocratic intrigue in an alternate Victorian London.",tags:["steampunk","alternate history","mystery"]},{id:"5",title:"The Last Dreamer",coverImage:"https://images.unsplash.com/photo-1534447677768-be436bb09401?w=800&h=600&q=80",author:"Sofia Mendes",authorAvatar:"https://i.pravatar.cc/150?u=SofiaMendes",chapters:6,genre:"Fantasy",votes:267,collectors:128,description:"When dreams begin to fade from the world, one person holds the key to their return.",tags:["fantasy","dreams","adventure"]},{id:"6",title:"Neon Streets",coverImage:"https://images.unsplash.com/photo-1520995051695-8dce7195e159?w=800&h=600&q=80",author:"Koji Yamamoto",authorAvatar:"https://i.pravatar.cc/150?u=KojiYamamoto",chapters:8,genre:"Cyberpunk",votes:342,collectors:163,description:"A hacker's fight for survival in a corporate-controlled dystopian future.",tags:["cyberpunk","future","thriller"]}],F5=["All","Fantasy","Sci-Fi","Horror","Cyberpunk","Steampunk"],U5=["Trending","Most Collected","Newest","Most Chapters"],B5=()=>{const[t,e]=D.useState("All"),[n,s]=D.useState("Trending"),[o,a]=D.useState("grid"),u=t==="All"?l1:l1.filter(f=>f.genre===t);return c.jsx("div",{className:"min-h-screen bg-parchment-50 dark:bg-dark-950 pt-24 pb-16",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-ink-900 dark:text-white mb-2",children:"Explore Stories"}),c.jsxs("p",{className:"text-ink-600 dark:text-ink-300 flex items-center",children:["Discover interactive stories where your choices shape the narrative. Collect chapters, vote on plot directions, and join a community of storytellers.",c.jsx(_e,{to:"/discover",className:"ml-2 text-primary-600 dark:text-primary-400 hover:underline",children:"Try advanced discovery"})]})]}),c.jsx(O5,{genres:F5,activeFilter:t,onFilterChange:e,sortOptions:U5,activeSort:n,onSortChange:s,viewMode:o,onViewModeChange:a}),c.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`grid ${o==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8":"grid-cols-1 gap-4"} mt-8`,children:u.map(f=>c.jsx(V5,{story:f,viewMode:o},f.id))}),u.length===0&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("h3",{className:"text-xl font-display font-medium text-ink-700 dark:text-ink-300 mb-2",children:"No stories found"}),c.jsx("p",{className:"text-ink-600 dark:text-ink-400",children:"Try adjusting your filters or check back later for new stories"})]})]})})},z5={id:"1",title:"The Quantum Nexus",coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=1200&h=600&q=80",author:"Elena Voss",createdAt:"2023-09-15T14:32:00Z",updatedAt:"2023-10-22T10:15:00Z",description:"A journey through the multiverse that challenges our understanding of reality and fate. When physicist Dr. Maya Chen discovers a way to peer into parallel universes, she unwittingly becomes the target of shadowy organizations seeking to control this revolutionary technology. As she navigates through different realities, each decision branches into infinite possibilities, creating a complex web of storylines that readers can explore and influence.",tags:["science fiction","multiverse","adventure","quantum physics","conspiracy"],genre:"Sci-Fi",chapters:[{id:"ch1",title:"The Discovery",published:!0,publishedAt:"2023-09-15T14:32:00Z",votes:182,collectors:98,preview:"Dr. Maya Chen had always known that reality was more complex than most people imagined, but even she wasn't prepared for what she found when her quantum resonance experiment finally succeeded...",estimatedReadingTime:12,choices:[{id:"ch1-opt1",text:"Focus on stabilizing the quantum field"},{id:"ch1-opt2",text:"Expand the observation window"}]},{id:"ch2",title:"Parallel Lines",published:!0,publishedAt:"2023-09-22T09:45:00Z",votes:156,collectors:87,preview:"The resonance viewer hummed quietly as Maya adjusted the calibration. Through the viewer's lens, she could see fragments of another worlda world where different choices had been made...",estimatedReadingTime:15,choices:[{id:"ch2-opt1",text:"Contact Dr. Harrison for help"},{id:"ch2-opt2",text:"Keep the discovery secret"}]},{id:"ch3",title:"The Watchers",published:!0,publishedAt:"2023-09-29T16:20:00Z",votes:144,collectors:73,preview:"The black sedan had been parked across from her apartment for three days now. Maya knew she wasn't being paranoidsomeone was watching her, someone who knew what she had discovered...",estimatedReadingTime:10,choices:[{id:"ch3-opt1",text:"Confront the watchers"},{id:"ch3-opt2",text:"Flee to a safe location"}]},{id:"ch4",title:"Crossroads",published:!1,publishedAt:null,votes:0,collectors:0,preview:"Coming soon...",estimatedReadingTime:null,choices:[]}]},$5=t=>{switch(t.toLowerCase()){case"sci-fi":return"https://images.unsplash.com/photo-1465101162946-4377e57745c3?w=1200&h=600&q=80";case"fantasy":return"https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=1200&h=600&q=80";case"horror":return"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=1200&h=600&q=80";case"steampunk":return"https://images.unsplash.com/photo-1519608487953-e999c86e7455?w=1200&h=600&q=80";case"cyberpunk":return"https://images.unsplash.com/photo-1493514789931-586cb221d7a7?w=1200&h=600&q=80";default:return"https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=1200&h=600&q=80"}},Qf=t=>`https://i.pravatar.cc/150?u=${t.replace(/\s+/g,"")}`,H5=()=>{const[t,e]=D.useState("overview"),n=z5,s=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=()=>n.coverImage.startsWith("http")?n.coverImage:$5(n.genre);return c.jsx("div",{className:"bg-parchment-50 dark:bg-dark-950 min-h-screen pt-24 pb-16",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"hidden md:block h-96 w-full rounded-xl overflow-hidden mb-8 bg-parchment-200 dark:bg-dark-800",children:[c.jsx("img",{src:o(),alt:n.title,className:"w-full h-full object-cover",onError:a=>{const u=a.target;u.src="https://source.unsplash.com/random/1200x600/?book"}}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),c.jsxs("div",{className:"md:absolute md:bottom-8 md:left-8 md:right-8 z-10",children:[c.jsxs("div",{className:"md:hidden h-64 w-full rounded-xl overflow-hidden mb-6 bg-parchment-200 dark:bg-dark-800 relative",children:[c.jsx("img",{src:o(),alt:n.title,className:"w-full h-full object-cover",onError:a=>{const u=a.target;u.src="https://source.unsplash.com/random/1200x600/?book"}}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),c.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[c.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-primary-500 text-white mb-2",children:n.genre}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-white mb-1",children:n.title})]})]}),c.jsxs("div",{className:"hidden md:block",children:[c.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-primary-500 text-white mb-2",children:n.genre}),c.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-display font-bold text-white mb-2",children:n.title}),c.jsxs("div",{className:"flex items-center text-white/90",children:[c.jsx("img",{src:Qf(n.author),alt:n.author,className:"w-8 h-8 rounded-full mr-2 object-cover"}),c.jsx("span",{className:"font-medium",children:n.author}),c.jsx("span",{className:"mx-2",children:""}),c.jsxs("span",{children:[n.chapters.filter(a=>a.published).length," ","Chapters"]}),c.jsx("span",{className:"mx-2",children:""}),c.jsxs("span",{children:["Updated ",s(n.updatedAt)]})]})]})]})]}),c.jsxs("div",{className:"flex items-center md:hidden mb-6 text-ink-700 dark:text-ink-200",children:[c.jsx("img",{src:Qf(n.author),alt:n.author,className:"w-8 h-8 rounded-full mr-2 object-cover"}),c.jsx("span",{className:"font-medium",children:n.author}),c.jsx("span",{className:"mx-2",children:""}),c.jsxs("span",{children:[n.chapters.filter(a=>a.published).length," Chapters"]})]}),c.jsxs("div",{className:"flex border-b border-parchment-200 dark:border-dark-700 mb-6",children:[c.jsx("button",{onClick:()=>e("overview"),className:`px-4 py-3 font-medium text-sm sm:text-base transition-colors ${t==="overview"?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-600 dark:border-primary-400":"text-ink-600 dark:text-ink-300 hover:text-ink-900 dark:hover:text-white"}`,children:"Overview"}),c.jsx("button",{onClick:()=>e("chapters"),className:`px-4 py-3 font-medium text-sm sm:text-base transition-colors ${t==="chapters"?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-600 dark:border-primary-400":"text-ink-600 dark:text-ink-300 hover:text-ink-900 dark:hover:text-white"}`,children:"Chapters"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:t==="overview"?c.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:c.jsxs("div",{className:"prose prose-brown dark:prose-invert max-w-none",children:[c.jsx("h2",{className:"font-display text-2xl font-bold mb-4",children:"About this story"}),c.jsx("p",{className:"text-ink-700 dark:text-ink-200 whitespace-pre-line",children:n.description}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-6",children:n.tags.map((a,u)=>c.jsxs("span",{className:"px-3 py-1 bg-parchment-100 dark:bg-dark-800 text-ink-700 dark:text-ink-200 rounded-full text-sm",children:["#",a]},u))}),c.jsxs("div",{className:"mt-8 space-y-4",children:[c.jsx("h2",{className:"font-display text-2xl font-bold",children:"Recent Chapters"}),n.chapters.filter(a=>a.published).slice(0,3).map(a=>c.jsxs(_e,{to:`/stories/${n.id}/chapters/${a.id}`,className:"block p-4 bg-white dark:bg-dark-900 rounded-lg border border-parchment-200 dark:border-dark-700 hover:shadow-md transition-shadow",children:[c.jsx("h3",{className:"font-bold text-lg text-ink-900 dark:text-white mb-2",children:a.title}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 text-sm line-clamp-2 mb-3",children:a.preview}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-ink-500 dark:text-ink-400",children:[c.jsx("span",{children:s(a.publishedAt)}),c.jsxs("span",{children:[a.estimatedReadingTime," min read"]})]})]},a.id)),c.jsx("div",{className:"text-center pt-4",children:c.jsx(ze,{variant:"outline",size:"md",onClick:()=>e("chapters"),children:"View All Chapters"})})]})]})}):c.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"font-display text-2xl font-bold text-ink-900 dark:text-white mb-4",children:"All Chapters"}),n.chapters.map((a,u)=>c.jsxs("div",{className:`relative p-5 ${a.published?"bg-white dark:bg-dark-900":"bg-parchment-100 dark:bg-dark-800"} rounded-lg border ${a.published?"border-parchment-200 dark:border-dark-700":"border-parchment-300 dark:border-dark-600 border-dashed"}`,children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 font-bold text-sm mr-4",children:u+1}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("h3",{className:"font-bold text-lg text-ink-900 dark:text-white mb-2",children:a.title}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 text-sm mb-4",children:a.preview}),a.published?c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-y-4",children:[c.jsxs("div",{className:"flex items-center text-sm text-ink-500 dark:text-ink-400 space-x-4",children:[c.jsx("span",{children:s(a.publishedAt)}),a.estimatedReadingTime&&c.jsxs("span",{children:[a.estimatedReadingTime," min read"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),a.votes]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),a.collectors]})]}),c.jsx(_e,{to:`/stories/${n.id}/chapters/${a.id}`,className:"inline-flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-400 transition-colors",children:"Read Chapter"})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-ink-500 dark:text-ink-400 italic",children:"Coming soon"}),c.jsx("button",{className:"inline-flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium text-ink-600 dark:text-ink-300 bg-parchment-200 dark:bg-dark-700 cursor-not-allowed opacity-70",disabled:!0,children:"Not Released"})]})]})]}),a.published&&a.choices.length>0&&c.jsxs("div",{className:"mt-6 pt-4 border-t border-parchment-100 dark:border-dark-800",children:[c.jsx("h4",{className:"text-sm font-medium text-ink-700 dark:text-ink-200 mb-3",children:"Story Choices"}),c.jsx("div",{className:"space-y-2",children:a.choices.map(f=>c.jsxs("div",{className:"flex items-center p-3 bg-parchment-50 dark:bg-dark-800 rounded-md border border-parchment-200 dark:border-dark-700",children:[c.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary-500 mr-3"}),c.jsx("span",{className:"text-sm text-ink-800 dark:text-ink-100",children:f.text})]},f.id))})]})]},a.id))]})})}),c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"sticky top-24",children:[c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl p-6 border border-parchment-200 dark:border-dark-700 shadow-sm mb-6",children:[c.jsx("h3",{className:"font-bold text-lg text-ink-900 dark:text-white mb-4",children:"Start Reading"}),c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-ink-600 dark:text-ink-300",children:"Published"}),c.jsx("span",{className:"text-sm font-medium text-ink-900 dark:text-white",children:s(n.createdAt)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-ink-600 dark:text-ink-300",children:"Chapters"}),c.jsxs("span",{className:"text-sm font-medium text-ink-900 dark:text-white",children:[n.chapters.filter(a=>a.published).length," of"," ",n.chapters.length]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-ink-600 dark:text-ink-300",children:"Last Updated"}),c.jsx("span",{className:"text-sm font-medium text-ink-900 dark:text-white",children:s(n.updatedAt)})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(_e,{to:`/stories/${n.id}/chapters/${n.chapters[0].id}`,className:"block w-full py-3 px-4 bg-primary-600 hover:bg-primary-700 text-white dark:bg-primary-500 dark:hover:bg-primary-400 rounded-md text-center font-medium transition-colors",children:"Start Reading"}),c.jsx("button",{className:"block w-full py-3 px-4 bg-white hover:bg-gray-50 text-ink-900 dark:bg-dark-800 dark:hover:bg-dark-700 dark:text-white rounded-md text-center font-medium border border-parchment-200 dark:border-dark-700 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),"Add to Library"]})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl p-6 border border-parchment-200 dark:border-dark-700 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-lg text-ink-900 dark:text-white mb-4",children:"About the Author"}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("img",{src:Qf(n.author),alt:n.author,className:"w-12 h-12 rounded-full mr-3 object-cover"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-ink-900 dark:text-white",children:n.author}),c.jsx("p",{className:"text-sm text-ink-500 dark:text-ink-400",children:"Writer  12 Stories"})]})]}),c.jsx("p",{className:"text-sm text-ink-600 dark:text-ink-300 mb-4",children:"Science fiction author specializing in quantum mechanics and multiverse theories. Former physicist with a passion for making complex concepts accessible through storytelling."}),c.jsx("button",{className:"block w-full py-2.5 px-4 bg-white hover:bg-gray-50 text-primary-600 dark:bg-dark-800 dark:hover:bg-dark-700 dark:text-primary-400 rounded-md text-center font-medium border border-primary-600 dark:border-primary-500 transition-colors",children:"Follow Author"})]})]})})]})]})})})},W5={title:"The Discovery",content:`
  Dr. Maya Chen had always known that reality was more complex than most people imagined, but even she wasn't prepared for what she found when her quantum resonance experiment finally succeeded.
  
  The university lab was quiet at 3 AM. Maya preferred working during these hoursno administrators wandering through, no students asking questions, just the soft hum of equipment and the occasional distant sound from the night custodial staff.
  
  "Final calibration sequence," she murmured to herself, fingers flying across the keyboard. The quantum resonance scannerher own design, built with a mix of university funding and her own savingshummed to life. A soft blue glow emanated from the central chamber, where a single hydrogen atom was suspended in a magnetic field.
  
  According to her calculations, the scanner would allow her to observe not just the position and momentum of the atom's electron (impossible, according to traditional quantum mechanics) but also its state in parallel realities. If she was right, this would be the first empirical evidence of the multiverse hypothesisproof that our universe was just one of many.
  
  Maya held her breath as the machine reached full power. The holographic display above the scanner flickered and then stabilized, showing a three-dimensional rendering of the atom. So far, nothing unusual. But then the image seemed to split, showing overlapping states simultaneously.
  
  "It's working," she whispered, eyes wide. According to conventional physics, this shouldn't be possible.
  
  The display continued to split, showing more and more overlapping states. Four, then eight, then sixteen variations of the same atom, each slightly different. The machine wasn't just showing quantum statesit was showing alternate realities.
  
  Maya's hands trembled as she adjusted the controls, focusing the scanner on a single parallel state. The image stabilized, showing a version of the atom that was subtly different from the one in her lab. She was looking into another universe.
  
  The implications were staggering. If she could observe parallel universes, could she eventually find a way to interact with them? To communicate across realities? To travel between them?
  
  Lost in her thoughts, Maya almost didn't notice when the scanner's image began to change again. The parallel atom was moving in ways that didn't match any known quantum behavior. It was as if somethingor someoneon the other side was manipulating it.
  
  As if they knew they were being watched.
  
  A chill ran down Maya's spine. She wasn't just observing another universesomething in that universe was observing her back.
  
  The scanner suddenly emitted a high-pitched whine. The holographic display flickered wildly, showing hundreds, thousands of overlapping realities in rapid succession. The quantum field was destabilizing.
  
  Maya had a choice to make, and quickly.
  `,publishedAt:"2023-09-15T14:32:00Z",estimatedReadingTime:12,votes:182,collectors:98,choices:[{id:"ch1-opt1",text:"Focus on stabilizing the quantum field",votes:105,leadsToChatperId:"ch2"},{id:"ch1-opt2",text:"Expand the observation window",votes:77,leadsToChatperId:"ch2b"}],nextChapterId:"ch2",previousChapterId:null},q5={title:"The Quantum Nexus",author:"Elena Voss"},K5=()=>{const{storyId:t}=b1(),e=W5,n=q5,[s,o]=D.useState(null),[a,u]=D.useState(!1),[f,m]=D.useState(!1),[p,x]=D.useState(!1),[w,_]=D.useState(!1),T=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),S=()=>e.choices.reduce((B,L)=>B+L.votes,0),I=B=>{const L=S();return L===0?0:Math.round(B/L*100)},R=()=>{s&&!a&&(u(!0),x(!0),setTimeout(()=>{x(!1)},3e3))},U=()=>{f||(m(!0),_(!0),setTimeout(()=>{_(!1)},3e3))};return c.jsxs("div",{className:"bg-parchment-50 dark:bg-dark-950 min-h-screen pt-24 pb-16",children:[c.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-dark-900 border-b border-parchment-200 dark:border-dark-700 shadow-sm py-2",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs(_e,{to:`/stories/${t}`,className:"inline-flex items-center text-ink-700 dark:text-ink-200 hover:text-primary-600 dark:hover:text-primary-400",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),c.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Back to Story"})]}),c.jsx("div",{className:"hidden sm:block mx-4 h-5 w-px bg-parchment-300 dark:bg-dark-600"}),c.jsxs("div",{className:"hidden sm:block text-sm",children:[c.jsx("span",{className:"text-ink-500 dark:text-ink-400",children:n.title}),c.jsx("span",{className:"mx-2 text-ink-400 dark:text-ink-500",children:""}),c.jsx("span",{className:"text-ink-700 dark:text-ink-200",children:e.title})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.previousChapterId,c.jsx(_e,{to:`/stories/${t}/chapters/${e.nextChapterId}`,className:"p-1.5 sm:p-2 rounded-md text-ink-600 dark:text-ink-300 hover:bg-parchment-100 dark:hover:bg-dark-800",title:"Next Chapter",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-10",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"mb-8 sm:mb-12",children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-ink-900 dark:text-white mb-3",children:e.title}),c.jsxs("div",{className:"flex flex-wrap items-center text-sm text-ink-600 dark:text-ink-300 mb-6",children:[c.jsxs("span",{className:"mr-3",children:["By ",n.author]}),c.jsx("span",{className:"mr-3",children:""}),c.jsxs("span",{className:"mr-3",children:["Published ",T(e.publishedAt)]}),c.jsx("span",{className:"mr-3",children:""}),c.jsxs("span",{children:[e.estimatedReadingTime," min read"]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center text-ink-500 dark:text-ink-400",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),e.votes," votes"]}),c.jsxs("div",{className:"flex items-center text-ink-500 dark:text-ink-400",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),e.collectors," collectors"]})]})]}),c.jsx("div",{className:"prose prose-lg prose-brown dark:prose-invert max-w-none mb-12 sm:mb-16",children:e.content.split(`

`).map((B,L)=>c.jsx("p",{className:"mb-6 text-ink-800 dark:text-ink-100",children:B},L))}),c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl border border-parchment-200 dark:border-dark-700 shadow-sm p-6 sm:p-8 mb-8",children:[c.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold text-ink-900 dark:text-white mb-4",children:"What should Dr. Maya do next?"}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 mb-6",children:"Cast your vote to influence the story's direction. The option with the most votes will determine the next chapter."}),c.jsx("div",{className:"space-y-4 mb-6",children:e.choices.map(B=>c.jsx("div",{className:`relative p-4 rounded-lg border-2 transition-all ${s===B.id?"border-primary-600 dark:border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-parchment-200 dark:border-dark-700 hover:border-primary-300 dark:hover:border-primary-800"} ${a?"cursor-default":"cursor-pointer"}`,onClick:()=>!a&&o(B.id),children:c.jsxs("div",{className:"flex items-start sm:items-center",children:[c.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center ${s===B.id?"border-primary-600 dark:border-primary-500":"border-parchment-300 dark:border-dark-600"}`,children:s===B.id&&c.jsx("div",{className:"w-3 h-3 rounded-full bg-primary-600 dark:bg-primary-500"})}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("p",{className:`font-medium ${s===B.id?"text-primary-900 dark:text-primary-300":"text-ink-800 dark:text-ink-100"}`,children:B.text}),a&&c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"w-full bg-parchment-100 dark:bg-dark-700 rounded-full h-2.5 mb-1",children:c.jsx("div",{className:"bg-primary-600 dark:bg-primary-500 h-2.5 rounded-full",style:{width:`${I(B.votes)}%`}})}),c.jsxs("div",{className:"flex justify-between text-xs text-ink-500 dark:text-ink-400",children:[c.jsxs("span",{children:[B.votes," votes"]}),c.jsxs("span",{children:[I(B.votes),"%"]})]})]})]})]})},B.id))}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx(ze,{variant:"primary",size:"lg",disabled:!s||a,onClick:R,fullWidth:!0,children:a?"You've Voted":"Cast Your Vote"}),c.jsxs(ze,{variant:"outline",size:"lg",onClick:U,disabled:f,fullWidth:!0,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),f?"Collected":"Collect This Chapter"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-4 border-t border-parchment-200 dark:border-dark-700",children:[c.jsx("div",{}),c.jsxs(_e,{to:`/stories/${t}/chapters/${e.nextChapterId}`,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-ink-700 dark:text-ink-200 hover:text-primary-600 dark:hover:text-primary-400",children:["Next Chapter",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),c.jsxs("div",{className:"fixed bottom-5 right-5 z-50",children:[p&&c.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-md shadow-md",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm",children:"Your vote has been recorded!"})})]})}),w&&c.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-primary-100 border-l-4 border-primary-500 text-primary-700 p-4 rounded-md shadow-md mt-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5 2a2 2 0 00-2 2v14l7-3 7 3V4a2 2 0 00-2-2H5zm4 4a1 1 0 011-1h2a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm",children:"Chapter collected successfully!"})})]})})]})]})},G5=()=>c.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 py-24 bg-parchment-50 dark:bg-dark-950",children:c.jsxs("div",{className:"max-w-lg w-full text-center",children:[c.jsx("h1",{className:"font-display text-8xl font-bold text-ink-900 dark:text-white mb-6",children:"404"}),c.jsx("h2",{className:"text-2xl sm:text-3xl font-display font-bold text-ink-800 dark:text-ink-100 mb-4",children:"Page Not Found"}),c.jsx("p",{className:"text-lg text-ink-700 dark:text-ink-200 mb-8",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(ze,{variant:"primary",size:"lg",onClick:()=>window.history.back(),children:"Go Back"}),c.jsx(_e,{to:"/",children:c.jsx(ze,{variant:"outline",size:"lg",children:"Return Home"})})]})]})});function Q5(){const{pathname:t}=Sr();return D.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null}const Y5=[{id:"col1",storyId:"1",storyTitle:"The Quantum Nexus",chapterIds:["ch1","ch2","ch3"],coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&q=80",totalChapters:7,collectedChapters:3,author:"Elena Voss"},{id:"col2",storyId:"2",storyTitle:"Shadows of Eldoria",chapterIds:["ch1","ch2"],coverImage:"https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=800&h=600&q=80",totalChapters:12,collectedChapters:2,author:"Marcus Chen"},{id:"col3",storyId:"6",storyTitle:"Neon Streets",chapterIds:["ch1","ch2","ch3","ch4"],coverImage:"https://images.unsplash.com/photo-1520995051695-8dce7195e159?w=800&h=600&q=80",totalChapters:8,collectedChapters:4,author:"Koji Yamamoto"}],X5=[{id:"read1",storyId:"1",storyTitle:"The Quantum Nexus",chapterId:"ch3",chapterTitle:"The Watchers",coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&q=80",readAt:"2023-11-10T15:20:00Z",progress:100},{id:"read2",storyId:"6",storyTitle:"Neon Streets",chapterId:"ch4",chapterTitle:"Digital Specters",coverImage:"https://images.unsplash.com/photo-1520995051695-8dce7195e159?w=800&h=600&q=80",readAt:"2023-11-08T22:45:00Z",progress:100},{id:"read3",storyId:"2",storyTitle:"Shadows of Eldoria",chapterId:"ch2",chapterTitle:"The Forbidden Forest",coverImage:"https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=800&h=600&q=80",readAt:"2023-11-05T18:30:00Z",progress:75},{id:"read4",storyId:"3",storyTitle:"Whispers in the Void",chapterId:"ch1",chapterTitle:"Strange Signals",coverImage:"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=800&h=600&q=80",readAt:"2023-11-01T12:15:00Z",progress:50}],J5=[{id:"vote1",storyId:"1",storyTitle:"The Quantum Nexus",chapterId:"ch2",chapterTitle:"Parallel Lines",coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&q=80",choice:"Contact Dr. Harrison for help",votedAt:"2023-10-25T14:22:00Z",totalVotes:156,choiceVotes:105},{id:"vote2",storyId:"6",storyTitle:"Neon Streets",chapterId:"ch3",chapterTitle:"Corporate Shadows",coverImage:"https://images.unsplash.com/photo-1520995051695-8dce7195e159?w=800&h=600&q=80",choice:"Accept the mysterious client's offer",votedAt:"2023-10-20T09:17:00Z",totalVotes:198,choiceVotes:130},{id:"vote3",storyId:"2",storyTitle:"Shadows of Eldoria",chapterId:"ch1",chapterTitle:"The Ancient Prophecy",coverImage:"https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=800&h=600&q=80",choice:"Venture into the ruins",votedAt:"2023-10-15T20:45:00Z",totalVotes:217,choiceVotes:142}],Yf=[{id:"notif1",type:"chapter_published",storyId:"1",storyTitle:"The Quantum Nexus",chapterId:"ch4",chapterTitle:"Crossroads",timestamp:"2023-11-11T08:00:00Z",read:!1},{id:"notif2",type:"vote_results",storyId:"6",storyTitle:"Neon Streets",chapterId:"ch3",chapterTitle:"Corporate Shadows",result:"Accept the mysterious client's offer",timestamp:"2023-10-21T12:00:00Z",read:!0},{id:"notif3",type:"collect_success",storyId:"2",storyTitle:"Shadows of Eldoria",chapterId:"ch2",chapterTitle:"The Forbidden Forest",timestamp:"2023-10-18T15:30:00Z",read:!0},{id:"notif4",type:"author_update",storyId:"1",storyTitle:"The Quantum Nexus",authorName:"Elena Voss",message:"Working on Chapter 5 - should be ready next week!",timestamp:"2023-10-12T17:20:00Z",read:!0}],Z5=()=>{const[t,e]=D.useState("collections"),n=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),s=a=>new Date(a).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),o=()=>{switch(t){case"collections":return c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Y5.map(a=>c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-md border border-parchment-200 dark:border-dark-700",children:[c.jsxs(_e,{to:`/stories/${a.storyId}`,className:"block relative pt-[60%] overflow-hidden",children:[c.jsx("img",{src:a.coverImage,alt:a.storyTitle,className:"absolute inset-0 w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),c.jsxs("div",{className:"absolute bottom-0 left-0 p-4 text-white",children:[c.jsx("h3",{className:"text-lg font-bold mb-1",children:a.storyTitle}),c.jsxs("p",{className:"text-sm opacity-90",children:["by ",a.author]})]})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"text-sm text-ink-600 dark:text-ink-300",children:"Collected:"}),c.jsxs("span",{className:"text-sm font-medium",children:[a.collectedChapters," of"," ",a.totalChapters," chapters"]})]}),c.jsx("div",{className:"w-full bg-parchment-200 dark:bg-dark-700 rounded-full h-2 mb-4",children:c.jsx("div",{className:"bg-primary-600 dark:bg-primary-500 h-2 rounded-full",style:{width:`${a.collectedChapters/a.totalChapters*100}%`}})}),c.jsx(ze,{variant:"primary",fullWidth:!0,onClick:()=>{},children:"Continue Reading"})]})]},a.id))});case"reading":return c.jsx("div",{className:"space-y-4",children:X5.map(a=>c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-lg overflow-hidden shadow-sm border border-parchment-200 dark:border-dark-700 flex flex-col sm:flex-row",children:[c.jsx("div",{className:"sm:w-1/4 md:w-1/5 relative",children:c.jsx("img",{src:a.coverImage,alt:a.storyTitle,className:"w-full h-40 sm:h-full object-cover"})}),c.jsxs("div",{className:"p-4 sm:p-5 flex-1 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-1",children:a.storyTitle}),c.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-medium",children:a.chapterTitle})]}),c.jsx("span",{className:"text-sm text-ink-500 dark:text-ink-400",children:n(a.readAt)})]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[c.jsx("span",{className:"text-ink-600 dark:text-ink-300",children:"Progress"}),c.jsxs("span",{className:"font-medium",children:[a.progress,"%"]})]}),c.jsx("div",{className:"w-full bg-parchment-200 dark:bg-dark-700 rounded-full h-2",children:c.jsx("div",{className:"bg-primary-600 dark:bg-primary-500 h-2 rounded-full",style:{width:`${a.progress}%`}})})]})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(_e,{to:`/stories/${a.storyId}/chapters/${a.chapterId}`,children:c.jsx(ze,{variant:"primary",size:"sm",children:a.progress<100?"Continue Reading":"Read Again"})})})]})]},a.id))});case"voting":return c.jsx("div",{className:"space-y-4",children:J5.map(a=>c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-lg overflow-hidden shadow-sm border border-parchment-200 dark:border-dark-700 flex flex-col sm:flex-row",children:[c.jsxs("div",{className:"sm:w-1/4 md:w-1/5 relative",children:[c.jsx("img",{src:a.coverImage,alt:a.storyTitle,className:"w-full h-40 sm:h-full object-cover"}),c.jsx("div",{className:"absolute top-2 right-2 bg-primary-600 dark:bg-primary-500 text-white text-xs px-2 py-1 rounded-full",children:"Voted"})]}),c.jsxs("div",{className:"p-4 sm:p-5 flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-1",children:a.storyTitle}),c.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-medium",children:a.chapterTitle})]}),c.jsx("span",{className:"text-sm text-ink-500 dark:text-ink-400",children:n(a.votedAt)})]}),c.jsxs("div",{className:"mt-4 p-3 bg-parchment-50 dark:bg-dark-800 rounded-lg border border-parchment-200 dark:border-dark-700",children:[c.jsxs("p",{className:"text-sm text-ink-700 dark:text-ink-200 mb-2",children:[c.jsx("span",{className:"font-medium",children:"Your choice:"})," ",a.choice]}),c.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[c.jsx("span",{className:"text-ink-600 dark:text-ink-300",children:"Vote results"}),c.jsxs("span",{className:"font-medium",children:[Math.round(a.choiceVotes/a.totalVotes*100),"%"]})]}),c.jsx("div",{className:"w-full bg-parchment-200 dark:bg-dark-700 rounded-full h-2",children:c.jsx("div",{className:"bg-primary-600 dark:bg-primary-500 h-2 rounded-full",style:{width:`${a.choiceVotes/a.totalVotes*100}%`}})})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(_e,{to:`/stories/${a.storyId}`,children:c.jsx(ze,{variant:"outline",size:"sm",children:"View Story"})})})]})]},a.id))});case"notifications":return c.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700 overflow-hidden",children:c.jsx("ul",{className:"divide-y divide-parchment-200 dark:divide-dark-700",children:Yf.map(a=>c.jsx("li",{className:`p-4 sm:p-5 ${a.read?"":"bg-primary-50 dark:bg-primary-900/10"}`,children:c.jsxs("div",{className:"flex items-start",children:[c.jsxs("div",{className:`mt-1 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${a.type==="chapter_published"?"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400":a.type==="vote_results"?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":a.type==="collect_success"?"bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400":"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400"}`,children:[a.type==="chapter_published"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})}),a.type==="vote_results"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})}),a.type==="collect_success"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"})}),a.type==="author_update"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z",clipRule:"evenodd"})})]}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("p",{className:"text-sm font-medium text-ink-900 dark:text-white",children:[a.type==="chapter_published"&&"New Chapter Published",a.type==="vote_results"&&"Voting Results",a.type==="collect_success"&&"Chapter Collected",a.type==="author_update"&&"Author Update"]}),c.jsxs("p",{className:"text-xs text-ink-500 dark:text-ink-400",children:[n(a.timestamp)," at"," ",s(a.timestamp)]})]}),c.jsxs("p",{className:"mt-1 text-sm text-ink-700 dark:text-ink-200",children:[a.type==="chapter_published"&&c.jsxs(c.Fragment,{children:["A new chapter"," ",c.jsx("strong",{children:a.chapterTitle})," has been published for"," ",c.jsx("strong",{children:a.storyTitle}),"."]}),a.type==="vote_results"&&c.jsxs(c.Fragment,{children:["The voting results are in for"," ",c.jsx("strong",{children:a.storyTitle}),":",c.jsx("strong",{children:a.result})," won!"]}),a.type==="collect_success"&&c.jsxs(c.Fragment,{children:["You successfully collected"," ",c.jsx("strong",{children:a.chapterTitle})," from",c.jsxs("strong",{children:[" ",a.storyTitle]}),"."]}),a.type==="author_update"&&c.jsxs(c.Fragment,{children:[c.jsx("strong",{children:a.authorName}),":"," ",a.message]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(_e,{to:`/stories/${a.storyId}`,className:"text-xs font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"View Story "})})]}),!a.read&&c.jsx("div",{className:"ml-3 flex-shrink-0",children:c.jsx("div",{className:"w-2 h-2 bg-primary-600 dark:bg-primary-400 rounded-full"})})]})},a.id))})});default:return null}};return c.jsx("div",{className:"min-h-screen bg-parchment-50 dark:bg-dark-950 pt-24 pb-16",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-ink-900 dark:text-white mb-2",children:"Reader Dashboard"}),c.jsxs("p",{className:"text-ink-600 dark:text-ink-300 flex items-center",children:["Track your collection, reading progress, and voting history.",c.jsx(_e,{to:"/profile/user2",className:"ml-2 text-primary-600 dark:text-primary-400 hover:underline",children:"View your profile"})]})]}),c.jsx("div",{className:"mb-6 border-b border-parchment-200 dark:border-dark-700",children:c.jsxs("div",{className:"flex flex-wrap -mb-px",children:[c.jsx("button",{className:`mr-8 py-4 px-1 text-sm font-medium border-b-2 ${t==="collections"?"border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400":"border-transparent text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200"}`,onClick:()=>e("collections"),children:"Collections"}),c.jsx("button",{className:`mr-8 py-4 px-1 text-sm font-medium border-b-2 ${t==="reading"?"border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400":"border-transparent text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200"}`,onClick:()=>e("reading"),children:"Reading History"}),c.jsx("button",{className:`mr-8 py-4 px-1 text-sm font-medium border-b-2 ${t==="voting"?"border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400":"border-transparent text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200"}`,onClick:()=>e("voting"),children:"Voting History"}),c.jsxs("button",{className:`py-4 px-1 text-sm font-medium border-b-2 ${t==="notifications"?"border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400":"border-transparent text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200"}`,onClick:()=>e("notifications"),children:["Notifications",Yf.filter(a=>!a.read).length>0&&c.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-primary-600 dark:bg-primary-500 rounded-full",children:Yf.filter(a=>!a.read).length})]})]})}),c.jsx(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:o()},t)]})})},e6=[{id:"1",title:"The Quantum Nexus",coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&q=80",chapters:7,published:3,inProgress:1,drafts:3,status:"in-progress",readers:482,collectors:218,totalVotes:895,lastUpdated:"2023-10-22T10:15:00Z"},{id:"3",title:"Whispers in the Void",coverImage:"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=800&h=600&q=80",chapters:5,published:5,inProgress:0,drafts:0,status:"completed",readers:214,collectors:103,totalVotes:390,lastUpdated:"2023-09-15T14:32:00Z"},{id:"7",title:"Echoes of Tomorrow",coverImage:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&h=600&q=80",chapters:2,published:0,inProgress:0,drafts:2,status:"draft",readers:0,collectors:0,totalVotes:0,lastUpdated:"2023-11-05T08:45:00Z"}],wi={totalReaders:696,totalCollectors:321,totalVotes:1285,totalRevenue:4.37,readerGrowth:12,collectorGrowth:8,storyPerformance:[{id:"1",title:"The Quantum Nexus",reads:482,collections:218,votes:895,revenue:3.15},{id:"3",title:"Whispers in the Void",reads:214,collections:103,votes:390,revenue:1.22}]},t6=[{id:"draft1",storyId:"1",storyTitle:"The Quantum Nexus",title:"Crossroads",preview:"Maya's discovery has drawn attention from multiple dimensions. As shadowy organizations close in, she must decide who to trust with her revolutionary technology...",status:"in-progress",wordCount:2150,lastEdited:"2023-11-10T09:20:00Z",choices:[{id:"ch4-opt1",text:"Accept government protection",votes:0},{id:"ch4-opt2",text:"Go into hiding with Dr. Harrison",votes:0}]},{id:"draft2",storyId:"1",storyTitle:"The Quantum Nexus",title:"Dimensional Rifts",preview:"",status:"outline",wordCount:350,lastEdited:"2023-11-08T14:45:00Z",choices:[]},{id:"draft3",storyId:"1",storyTitle:"The Quantum Nexus",title:"The Convergence",preview:"",status:"outline",wordCount:150,lastEdited:"2023-11-05T17:30:00Z",choices:[]},{id:"draft4",storyId:"7",storyTitle:"Echoes of Tomorrow",title:"First Contact",preview:"The year is 2157. Humanity's first deep space exploration vessel, the Artemis, detects an anomalous signal from a supposedly uninhabited world...",status:"in-progress",wordCount:1850,lastEdited:"2023-11-09T20:15:00Z",choices:[{id:"ec1-opt1",text:"Investigate the signal source",votes:0},{id:"ec1-opt2",text:"Report back to Earth command",votes:0}]},{id:"draft5",storyId:"7",storyTitle:"Echoes of Tomorrow",title:"Strange Horizons",preview:"",status:"outline",wordCount:280,lastEdited:"2023-11-06T11:20:00Z",choices:[]}],n6=()=>{const[t,e]=D.useState("stories"),n=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),s=u=>{switch(u){case"in-progress":return c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:"In Progress"});case"completed":return c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:"Completed"});case"draft":return c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",children:"Draft"});default:return null}},o=u=>{switch(u){case"in-progress":return c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:"In Progress"});case"outline":return c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",children:"Outline"});case"ready":return c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:"Ready to Publish"});default:return null}},a=()=>{switch(t){case"stories":return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-xl font-bold text-ink-900 dark:text-white",children:"My Stories"}),c.jsxs(ze,{variant:"primary",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Story"]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6",children:e6.map(u=>c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-md border border-parchment-200 dark:border-dark-700 flex flex-col sm:flex-row",children:[c.jsxs("div",{className:"sm:w-1/4 md:w-1/5 relative",children:[c.jsx("img",{src:u.coverImage,alt:u.title,className:"w-full h-48 sm:h-full object-cover"}),c.jsx("div",{className:"absolute top-2 right-2",children:s(u.status)})]}),c.jsxs("div",{className:"p-4 sm:p-6 flex-1",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-ink-900 dark:text-white mb-2",children:u.title}),c.jsxs("p",{className:"text-sm text-ink-500 dark:text-ink-400",children:["Last updated: ",n(u.lastUpdated)]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 flex flex-wrap gap-2",children:[c.jsx(_e,{to:`/stories/${u.id}`,children:c.jsx(ze,{variant:"outline",size:"sm",children:"View Story"})}),c.jsx(ze,{variant:"primary",size:"sm",children:"Edit Story"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-parchment-50 dark:bg-dark-800 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-ink-500 dark:text-ink-400 mb-1",children:"Chapters"}),c.jsxs("div",{className:"text-lg font-bold text-ink-900 dark:text-white",children:[u.published," / ",u.chapters]})]}),c.jsxs("div",{className:"bg-parchment-50 dark:bg-dark-800 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-ink-500 dark:text-ink-400 mb-1",children:"Readers"}),c.jsx("div",{className:"text-lg font-bold text-ink-900 dark:text-white",children:u.readers})]}),c.jsxs("div",{className:"bg-parchment-50 dark:bg-dark-800 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-ink-500 dark:text-ink-400 mb-1",children:"Collectors"}),c.jsx("div",{className:"text-lg font-bold text-ink-900 dark:text-white",children:u.collectors})]}),c.jsxs("div",{className:"bg-parchment-50 dark:bg-dark-800 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-ink-500 dark:text-ink-400 mb-1",children:"Votes"}),c.jsx("div",{className:"text-lg font-bold text-ink-900 dark:text-white",children:u.totalVotes})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.drafts>0&&c.jsxs("div",{className:"text-sm px-3 py-1 bg-yellow-50 dark:bg-yellow-900/10 text-yellow-800 dark:text-yellow-300 rounded-full",children:[u.drafts," Draft",u.drafts!==1?"s":""]}),u.inProgress>0&&c.jsxs("div",{className:"text-sm px-3 py-1 bg-blue-50 dark:bg-blue-900/10 text-blue-800 dark:text-blue-300 rounded-full",children:[u.inProgress," In Progress"]})]})]})]},u.id))})]});case"analytics":return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl p-6 shadow-sm border border-parchment-200 dark:border-dark-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/20 rounded-lg",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600 dark:text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-sm font-medium text-ink-500 dark:text-ink-400",children:"Total Readers"}),c.jsxs("div",{className:"flex items-end",children:[c.jsx("p",{className:"text-2xl font-bold text-ink-900 dark:text-white",children:wi.totalReaders}),c.jsxs("span",{className:"ml-2 text-xs font-medium text-green-600 dark:text-green-400",children:["+",wi.readerGrowth,"%"]})]})]})]})}),c.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl p-6 shadow-sm border border-parchment-200 dark:border-dark-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-secondary-100 dark:bg-secondary-900/20 rounded-lg",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-secondary-600 dark:text-secondary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-sm font-medium text-ink-500 dark:text-ink-400",children:"Collectors"}),c.jsxs("div",{className:"flex items-end",children:[c.jsx("p",{className:"text-2xl font-bold text-ink-900 dark:text-white",children:wi.totalCollectors}),c.jsxs("span",{className:"ml-2 text-xs font-medium text-green-600 dark:text-green-400",children:["+",wi.collectorGrowth,"%"]})]})]})]})}),c.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl p-6 shadow-sm border border-parchment-200 dark:border-dark-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11l7-7 7 7M5 19l7-7 7 7"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-sm font-medium text-ink-500 dark:text-ink-400",children:"Total Votes"}),c.jsx("p",{className:"text-2xl font-bold text-ink-900 dark:text-white",children:wi.totalVotes})]})]})}),c.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl p-6 shadow-sm border border-parchment-200 dark:border-dark-700",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-sm font-medium text-ink-500 dark:text-ink-400",children:"Revenue (ETH)"}),c.jsx("p",{className:"text-2xl font-bold text-ink-900 dark:text-white",children:wi.totalRevenue})]})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl p-6 shadow-sm border border-parchment-200 dark:border-dark-700",children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-4",children:"Story Performance"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-parchment-200 dark:divide-dark-700",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-ink-500 dark:text-ink-400 uppercase tracking-wider",children:"Story"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-ink-500 dark:text-ink-400 uppercase tracking-wider",children:"Reads"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-ink-500 dark:text-ink-400 uppercase tracking-wider",children:"Collections"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-ink-500 dark:text-ink-400 uppercase tracking-wider",children:"Votes"}),c.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-ink-500 dark:text-ink-400 uppercase tracking-wider",children:"Revenue (ETH)"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-ink-500 dark:text-ink-400 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-parchment-200 dark:divide-dark-700",children:wi.storyPerformance.map(u=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-ink-900 dark:text-white",children:u.title}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center text-ink-700 dark:text-ink-200",children:u.reads}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center text-ink-700 dark:text-ink-200",children:u.collections}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center text-ink-700 dark:text-ink-200",children:u.votes}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center text-ink-700 dark:text-ink-200",children:u.revenue}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-right",children:c.jsx(_e,{to:`/stories/${u.id}`,className:"text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:"View Details"})})]},u.id))})]})})]})]});case"chapters":return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-xl font-bold text-ink-900 dark:text-white",children:"Chapter Drafts"}),c.jsxs(ze,{variant:"primary",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Chapter"]})]}),c.jsx("div",{className:"space-y-4",children:t6.map(u=>c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm border border-parchment-200 dark:border-dark-700",children:[c.jsx("div",{className:"p-5 border-b border-parchment-200 dark:border-dark-700",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"mb-3 sm:mb-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mr-3",children:u.title}),o(u.status)]}),c.jsxs("p",{className:"text-sm text-ink-500 dark:text-ink-400 mt-1",children:["Story: ",u.storyTitle]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(ze,{variant:"outline",size:"sm",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit"]}),u.status==="ready"&&c.jsxs(ze,{variant:"primary",size:"sm",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Publish"]})]})]})}),c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-ink-500 dark:text-ink-400",children:"Word Count"}),c.jsx("div",{className:"text-lg font-medium text-ink-900 dark:text-white mt-1",children:u.wordCount})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-ink-500 dark:text-ink-400",children:"Last Edited"}),c.jsx("div",{className:"text-lg font-medium text-ink-900 dark:text-white mt-1",children:new Date(u.lastEdited).toLocaleDateString()})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-ink-500 dark:text-ink-400",children:"Choices"}),c.jsx("div",{className:"text-lg font-medium text-ink-900 dark:text-white mt-1",children:u.choices.length})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-ink-500 dark:text-ink-400",children:"Estimated"}),c.jsxs("div",{className:"text-lg font-medium text-ink-900 dark:text-white mt-1",children:[Math.ceil(u.wordCount/250)," min"]})]})]}),u.preview&&c.jsxs("div",{className:"bg-parchment-50 dark:bg-dark-800 p-4 rounded-lg mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-ink-700 dark:text-ink-200 mb-2",children:"Preview"}),c.jsx("p",{className:"text-sm text-ink-600 dark:text-ink-300 line-clamp-3",children:u.preview})]}),u.choices.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-ink-700 dark:text-ink-200 mb-2",children:"Reader Choices"}),c.jsx("div",{className:"space-y-2",children:u.choices.map(f=>c.jsx("div",{className:"p-3 bg-white dark:bg-dark-800 border border-parchment-200 dark:border-dark-700 rounded-lg text-sm text-ink-800 dark:text-ink-100",children:f.text},f.id))})]})]})]},u.id))})]});default:return null}};return c.jsx("div",{className:"min-h-screen bg-parchment-50 dark:bg-dark-950 pt-24 pb-16",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-ink-900 dark:text-white mb-2",children:"Creator Dashboard"}),c.jsxs("p",{className:"text-ink-600 dark:text-ink-300 flex items-center",children:["Manage your stories, track performance, and grow your audience.",c.jsx(_e,{to:"/profile/user1",className:"ml-2 text-primary-600 dark:text-primary-400 hover:underline",children:"View your profile"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700 mb-8",children:[c.jsxs("div",{className:"flex border-b border-parchment-200 dark:border-dark-700",children:[c.jsx("button",{className:`px-4 py-3 text-sm font-medium ${t==="stories"?"text-primary-600 border-b-2 border-primary-600 dark:text-primary-400 dark:border-primary-400":"text-ink-600 hover:text-ink-900 dark:text-ink-300 dark:hover:text-white"}`,onClick:()=>e("stories"),children:"My Stories"}),c.jsx("button",{className:`px-4 py-3 text-sm font-medium ${t==="chapters"?"text-primary-600 border-b-2 border-primary-600 dark:text-primary-400 dark:border-primary-400":"text-ink-600 hover:text-ink-900 dark:text-ink-300 dark:hover:text-white"}`,onClick:()=>e("chapters"),children:"Chapter Drafts"}),c.jsx("button",{className:`px-4 py-3 text-sm font-medium ${t==="analytics"?"text-primary-600 border-b-2 border-primary-600 dark:text-primary-400 dark:border-primary-400":"text-ink-600 hover:text-ink-900 dark:text-ink-300 dark:hover:text-white"}`,onClick:()=>e("analytics"),children:"Analytics"})]}),c.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:a()})]})]})})},r6=["Fantasy","Sci-Fi","Horror","Cyberpunk","Steampunk","Mystery","Romance","Adventure","Historical","Thriller"],s6=()=>{const t=Td(),[e,n]=D.useState(1),[s,o]=D.useState({title:"",genre:"",tags:[],description:"",coverImage:"",customTag:""}),[a,u]=D.useState({title:"",genre:"",description:""}),[f,m]=D.useState(""),p=L=>{const{name:X,value:se}=L.target;o({...s,[X]:se}),a[X]&&u({...a,[X]:""})},x=L=>{o({...s,genre:L}),a.genre&&u({...a,genre:""})},w=()=>{if(s.customTag&&s.customTag.trim()!==""){const L=s.customTag.trim().toLowerCase();!s.tags.includes(L)&&s.tags.length<5&&o({...s,tags:[...s.tags,L],customTag:""})}},_=L=>{o({...s,tags:s.tags.filter(X=>X!==L)})},T=L=>{L.key==="Enter"&&(L.preventDefault(),w())},S=()=>{let L;switch(s.genre.toLowerCase()){case"sci-fi":L="https://images.unsplash.com/photo-1465101162946-4377e57745c3?w=800&h=600&q=80";break;case"fantasy":L="https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=800&h=600&q=80";break;case"horror":L="https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=800&h=600&q=80";break;case"cyberpunk":L="https://images.unsplash.com/photo-1493514789931-586cb221d7a7?w=800&h=600&q=80";break;case"steampunk":L="https://images.unsplash.com/photo-1519608487953-e999c86e7455?w=800&h=600&q=80";break;case"mystery":L="https://images.unsplash.com/photo-1544383835-bda2bc66a55d?w=800&h=600&q=80";break;case"romance":L="https://images.unsplash.com/photo-1518049362265-d5b2a6467637?w=800&h=600&q=80";break;case"adventure":L="https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=800&h=600&q=80";break;case"historical":L="https://images.unsplash.com/photo-1461360228754-6e81c478b882?w=800&h=600&q=80";break;case"thriller":L="https://images.unsplash.com/photo-1543187018-21e458148a2e?w=800&h=600&q=80";break;default:L="https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=800&h=600&q=80"}m(L),o({...s,coverImage:L})},I=()=>{let L=!0;const X={...a};return e===1?(s.title.trim()||(X.title="Title is required",L=!1),s.genre||(X.genre="Please select a genre",L=!1)):e===2&&(s.description.trim()?s.description.length<30&&(X.description="Description should be at least 30 characters",L=!1):(X.description="Description is required",L=!1)),u(X),L},R=()=>{console.log("Attempting to move to next step from step:",e),console.log("Current form data:",s);const L=I();console.log("Form validation result:",L),L&&(e===1&&!f&&S(),setTimeout(()=>{n(e+1),console.log("Set active step to:",e+1)},0))},U=()=>{n(e-1)},B=L=>{L.preventDefault(),I()&&(console.log("Submitting story:",s),t("/creator/new-chapter",{state:{newStory:!0,storyData:s}}))};return c.jsx("div",{className:"bg-parchment-50 dark:bg-dark-950 min-h-screen pt-24 pb-16",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-ink-900 dark:text-white mb-2",children:"Create New Story"}),c.jsx("p",{className:"text-lg text-ink-600 dark:text-ink-300",children:"Set up your interactive story and prepare to engage readers with branching narratives."})]}),c.jsx("div",{className:"mb-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${e>=1?"bg-primary-600 text-white":"bg-parchment-200 dark:bg-dark-700 text-ink-500 dark:text-ink-400"}`,children:"1"}),c.jsx("div",{className:"ml-2",children:c.jsx("div",{className:`text-sm font-medium ${e>=1?"text-primary-600 dark:text-primary-400":"text-ink-500 dark:text-ink-400"}`,children:"Basic Info"})})]}),c.jsx("div",{className:`flex-1 h-0.5 mx-4 ${e>=2?"bg-primary-600 dark:bg-primary-400":"bg-parchment-200 dark:bg-dark-700"}`}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${e>=2?"bg-primary-600 text-white":"bg-parchment-200 dark:bg-dark-700 text-ink-500 dark:text-ink-400"}`,children:"2"}),c.jsx("div",{className:"ml-2",children:c.jsx("div",{className:`text-sm font-medium ${e>=2?"text-primary-600 dark:text-primary-400":"text-ink-500 dark:text-ink-400"}`,children:"Story Details"})})]}),c.jsx("div",{className:`flex-1 h-0.5 mx-4 ${e>=3?"bg-primary-600 dark:bg-primary-400":"bg-parchment-200 dark:bg-dark-700"}`}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${e>=3?"bg-primary-600 text-white":"bg-parchment-200 dark:bg-dark-700 text-ink-500 dark:text-ink-400"}`,children:"3"}),c.jsx("div",{className:"ml-2",children:c.jsx("div",{className:`text-sm font-medium ${e>=3?"text-primary-600 dark:text-primary-400":"text-ink-500 dark:text-ink-400"}`,children:"Review & Create"})})]})]})}),c.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700 p-6 sm:p-8",children:c.jsxs("form",{onSubmit:B,children:[e===1&&c.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[c.jsx("h2",{className:"text-xl font-bold text-ink-900 dark:text-white mb-6",children:"Basic Information"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-ink-700 dark:text-ink-200 mb-1",children:["Story Title ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:p,className:`w-full px-4 py-2 rounded-md border ${a.title?"border-red-500 dark:border-red-500":"border-parchment-300 dark:border-dark-600"} bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400`,placeholder:"Enter a captivating title"}),a.title&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.title})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-ink-700 dark:text-ink-200 mb-1",children:["Genre ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:r6.map(L=>c.jsx("button",{type:"button",onClick:()=>x(L),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${s.genre===L?"bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 border-2 border-primary-500 dark:border-primary-400":"bg-parchment-100 dark:bg-dark-800 text-ink-700 dark:text-ink-200 border border-parchment-200 dark:border-dark-700 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,children:L},L))}),a.genre&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.genre})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-ink-700 dark:text-ink-200 mb-1",children:["Tags"," ",c.jsx("span",{className:"text-xs text-ink-500 dark:text-ink-400",children:"(up to 5)"})]}),c.jsxs("div",{className:"flex mb-2",children:[c.jsx("input",{type:"text",id:"customTag",name:"customTag",value:s.customTag,onChange:p,onKeyPress:T,className:"flex-1 px-4 py-2 rounded-l-md border border-parchment-300 dark:border-dark-600 bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400",placeholder:"Add a tag (e.g. dragons, future, mystery)",disabled:s.tags.length>=5}),c.jsx("button",{type:"button",onClick:w,disabled:s.tags.length>=5||!s.customTag.trim(),className:"px-4 py-2 bg-primary-600 dark:bg-primary-500 text-white rounded-r-md hover:bg-primary-700 dark:hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:s.tags.map(L=>c.jsxs("div",{className:"bg-parchment-100 dark:bg-dark-800 text-ink-700 dark:text-ink-200 rounded-full px-3 py-1 text-sm flex items-center",children:[L,c.jsx("button",{type:"button",onClick:()=>_(L),className:"ml-2 text-ink-500 dark:text-ink-400 hover:text-ink-700 dark:hover:text-ink-200",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},L))})]})]})]}),e===2&&c.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[c.jsx("h2",{className:"text-xl font-bold text-ink-900 dark:text-white mb-6",children:"Story Details"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-ink-700 dark:text-ink-200 mb-1",children:["Story Description"," ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:p,rows:6,className:`w-full px-4 py-2 rounded-md border ${a.description?"border-red-500 dark:border-red-500":"border-parchment-300 dark:border-dark-600"} bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400`,placeholder:"Describe your story in detail. What's it about? What makes it unique? This will help readers decide if they want to engage with your story."}),a.description?c.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.description}):c.jsxs("p",{className:"mt-1 text-sm text-ink-500 dark:text-ink-400",children:["Min 30 characters. ",s.description.length,"/30 characters."]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-ink-700 dark:text-ink-200 mb-1",children:"Cover Image"}),c.jsx("div",{className:"mt-2 border-2 border-dashed border-parchment-300 dark:border-dark-600 rounded-lg p-4 text-center",children:f?c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:f,alt:"Cover preview",className:"mx-auto h-64 object-cover rounded-lg"}),c.jsxs("div",{className:"mt-3",children:[c.jsx("p",{className:"text-sm text-ink-500 dark:text-ink-400",children:"Cover image generated based on your genre"}),c.jsx("button",{type:"button",onClick:S,className:"mt-2 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 text-sm font-medium",children:"Generate Different Image"})]})]}):c.jsxs("div",{className:"py-8",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-ink-400 dark:text-ink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("p",{className:"mt-2 text-sm text-ink-500 dark:text-ink-400",children:"Cover image will be generated based on your genre"}),c.jsx("button",{type:"button",onClick:S,className:"mt-3 inline-flex items-center px-4 py-2 border border-primary-300 dark:border-primary-700 rounded-md shadow-sm text-sm font-medium text-primary-700 dark:text-primary-300 bg-white dark:bg-dark-800 hover:bg-primary-50 dark:hover:bg-primary-900/20",children:"Generate Cover Image"})]})})]})]})]}),e===3&&c.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[c.jsx("h2",{className:"text-xl font-bold text-ink-900 dark:text-white mb-6",children:"Review Your Story"}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[c.jsx("div",{className:"md:w-1/3",children:c.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden",children:c.jsx("img",{src:s.coverImage||"https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=800&h=600&q=80",alt:"Story cover",className:"w-full h-full object-cover"})})}),c.jsxs("div",{className:"md:w-2/3",children:[c.jsx("h3",{className:"text-2xl font-bold text-ink-900 dark:text-white mb-2",children:s.title}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 mr-2",children:s.genre}),s.tags.map(L=>c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-parchment-100 dark:bg-dark-700 text-ink-700 dark:text-ink-300 mr-2",children:L},L))]}),c.jsx("div",{className:"prose prose-sm prose-brown dark:prose-invert max-w-none",children:s.description.split(`
`).map((L,X)=>c.jsx("p",{children:L},X))})]})]}),c.jsxs("div",{className:"bg-parchment-50 dark:bg-dark-800 rounded-lg p-4 mb-6",children:[c.jsx("h4",{className:"text-sm font-medium text-ink-700 dark:text-ink-300 mb-2",children:"What's Next?"}),c.jsx("p",{className:"text-sm text-ink-600 dark:text-ink-400",children:"After creating your story, you'll be able to add chapters and define branching paths. Each chapter will have choice points where readers can vote on what happens next. You can publish your first chapter immediately or save it as a draft to work on later."})]})]}),c.jsxs("div",{className:"mt-8 flex justify-between",children:[e>1?c.jsx("button",{type:"button",className:"px-4 py-2 bg-white dark:bg-dark-800 border border-parchment-300 dark:border-dark-600 text-ink-700 dark:text-ink-200 font-medium rounded-md hover:bg-parchment-50 dark:hover:bg-dark-700",onClick:L=>{L.preventDefault(),U()},children:"Back"}):c.jsx("div",{}),e<3?c.jsx("button",{type:"button",className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-md",onClick:L=>{L.preventDefault(),L.stopPropagation(),console.log("Continue button clicked, activeStep:",e),e===2?(n(3),console.log("Manually set to step 3")):R()},children:"Continue"}):c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-md",children:"Create Story"})]})]})})]})})})};class i6{constructor(){sl(this,"states",[]);sl(this,"currentIndex",-1);sl(this,"maxStates",100);sl(this,"shouldIgnoreNextChange",!1)}addState(e){if(this.shouldIgnoreNextChange){this.shouldIgnoreNextChange=!1;return}const n=window.getSelection();let s;if(n&&n.rangeCount>0){const o=n.getRangeAt(0);s={startNode:o.startContainer,startOffset:o.startOffset,endNode:o.endContainer,endOffset:o.endOffset}}this.currentIndex<this.states.length-1&&(this.states=this.states.slice(0,this.currentIndex+1)),this.states.push({html:e,cursorPosition:s}),this.currentIndex=this.states.length-1,this.states.length>this.maxStates&&(this.states.shift(),this.currentIndex--)}undo(e){return this.currentIndex<=0||!e.current?!1:(this.currentIndex--,this.shouldIgnoreNextChange=!0,e.current.innerHTML=this.states[this.currentIndex].html,this.restoreCursorPosition(this.states[this.currentIndex],e),!0)}redo(e){return this.currentIndex>=this.states.length-1||!e.current?!1:(this.currentIndex++,this.shouldIgnoreNextChange=!0,e.current.innerHTML=this.states[this.currentIndex].html,this.restoreCursorPosition(this.states[this.currentIndex],e),!0)}restoreCursorPosition(e,n){if(!e.cursorPosition||!n.current)return;const s=(o,a,u)=>({node:a,offset:0});try{const o=window.getSelection();if(!o)return;const{startNode:a,endNode:u}=e.cursorPosition,f=s(a,n.current,null),m=s(u,n.current,null);if(f.node&&m.node){const p=document.createRange();p.setStart(f.node,f.offset),p.setEnd(m.node,m.offset),o.removeAllRanges(),o.addRange(p)}}catch(o){console.error("Failed to restore cursor position:",o)}}reset(){this.states=[],this.currentIndex=-1}}const o6=(t,e,n,s)=>{if(t.metaKey||t.ctrlKey){if(t.key==="z")return t.preventDefault(),t.shiftKey?n.redo(e):n.undo(e);if(t.key==="y")return t.preventDefault(),n.redo(e)}return setTimeout(s,0),!1},a6=t=>{const e=document.createElement("div");return e.innerHTML=t,e.querySelectorAll("*").forEach(a=>{a.removeAttribute("style"),a.removeAttribute("class");for(const u of Array.from(a.attributes))u.name.startsWith("data-")&&a.removeAttribute(u.name)}),["script","style","iframe","frame","object","embed","form","input","button","select","option","textarea","meta"].forEach(a=>{e.querySelectorAll(a).forEach(f=>f.remove())}),e.querySelectorAll("div").forEach(a=>{var f;const u=document.createElement("p");u.innerHTML=a.innerHTML,(f=a.parentNode)==null||f.replaceChild(u,a)}),e.innerHTML},l6=t=>{const e=document.createElement("div");return e.innerHTML=t,e.querySelectorAll("*").forEach(o=>{for(const a of Array.from(o.attributes))a.name.startsWith("on")&&o.removeAttribute(a.name)}),e.querySelectorAll("script").forEach(o=>o.remove()),e.innerHTML},c1=t=>{var o;if(!t.current)return;if(t.current.innerHTML.trim()===""||t.current.innerHTML==="<br>"){t.current.innerHTML="<p><br></p>";const a=window.getSelection();if(a){const u=document.createRange(),f=t.current.querySelector("p");f&&(u.setStart(f,0),u.collapse(!0),a.removeAllRanges(),a.addRange(u))}}const e=Array.from(t.current.childNodes);let n=!1;for(const a of e)if(a.nodeType===Node.TEXT_NODE&&((o=a.textContent)!=null&&o.trim())){n=!0;break}if(n){const a=document.createDocumentFragment();let u=null;e.forEach(f=>{f.nodeType===Node.TEXT_NODE?(u||(u=document.createElement("p"),a.appendChild(u)),u.appendChild(f.cloneNode(!0))):f.nodeType===Node.ELEMENT_NODE&&(u=null,a.appendChild(f.cloneNode(!0)))}),t.current.innerHTML="",t.current.appendChild(a)}t.current.querySelectorAll("br + br").forEach(a=>{const u=a.parentNode;if(u&&u.nodeName.toLowerCase()!=="p"){const f=document.createElement("p");f.innerHTML="<br>",u.replaceChild(f,a)}})},c6=t=>{t.current&&(t.current.addEventListener("compositionstart",()=>{var e;(e=t.current)==null||e.setAttribute("data-composing","true")}),t.current.addEventListener("compositionend",()=>{var e;(e=t.current)==null||e.removeAttribute("data-composing")}))},u6=t=>{var f;if(!t.current)return;const e=window.getSelection();if(!e||e.rangeCount===0)return;const n=e.getRangeAt(0).cloneRange(),s=[],o=m=>{if(m.nodeType===Node.TEXT_NODE)s.push(m);else for(let p=0;p<m.childNodes.length;p++)o(m.childNodes[p])};o(t.current);const a=/https?:\/\/[^\s\<\>]+/g;let u=!1;for(const m of s){const p=m.textContent||"",x=p.match(a);if(x&&x.length>0){u=!0;let w=0;const _=document.createDocumentFragment();for(const T of x){const S=p.indexOf(T,w);S>w&&_.appendChild(document.createTextNode(p.substring(w,S)));const I=document.createElement("a");I.href=T,I.textContent=T,I.target="_blank",I.rel="noopener noreferrer",_.appendChild(I),w=S+T.length}w<p.length&&_.appendChild(document.createTextNode(p.substring(w))),(f=m.parentNode)==null||f.replaceChild(_,m)}}if(u&&e)try{e.removeAllRanges(),e.addRange(n)}catch(m){console.error("Failed to restore selection after auto-linking URLs",m)}},u1=t=>{if(!t.current)return"";const e=document.createElement("div");e.innerHTML=t.current.innerHTML;const n=s=>{var o;if(s.nodeType===Node.TEXT_NODE)s.textContent=((o=s.textContent)==null?void 0:o.replace(/\u200B/g,""))||"";else for(let a=0;a<s.childNodes.length;a++)n(s.childNodes[a])};return n(e),l6(e.innerHTML)},Te={BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",HEADING:"heading",QUOTE:"quote",UNORDERED_LIST:"unorderedList",ORDERED_LIST:"orderedList",ALIGN_LEFT:"alignLeft",ALIGN_CENTER:"alignCenter",ALIGN_RIGHT:"alignRight"},d6=({value:t,onChange:e,placeholder:n="Start writing your story...",className:s=""})=>{const o=D.useRef(null),[a,u]=D.useState(null),[f,m]=D.useState(!0),[p,x]=D.useState(new Set),[w,_]=D.useState(!1),T=D.useRef(new i6);D.useEffect(()=>{o.current&&!w&&(t?(o.current.innerHTML=t,m(!1)):(o.current.innerHTML="",m(!0)),T.current.addState(o.current.innerHTML),o.current&&c6({current:o.current}),_(!0))},[t,w]);const S=()=>{const E=window.getSelection();if(E&&E.rangeCount>0){const N=E.getRangeAt(0);I(N)&&(u(N.cloneRange()),U())}},I=E=>{var N;return((N=o.current)==null?void 0:N.contains(E.commonAncestorContainer))||!1},R=()=>{if(a&&o.current){const E=window.getSelection();E&&(E.removeAllRanges(),E.addRange(a.cloneRange()))}},U=()=>{const E=new Set;document.queryCommandState("bold")&&E.add(Te.BOLD),document.queryCommandState("italic")&&E.add(Te.ITALIC),document.queryCommandState("underline")&&E.add(Te.UNDERLINE);const N=window.getSelection();if(N&&N.rangeCount>0){let P=N.anchorNode;for(;P&&P.nodeType!==Node.ELEMENT_NODE;)P=P.parentNode;if(P){const O=P;/^H[1-6]$/.test(O.tagName)&&E.add(Te.HEADING),O.closest("blockquote")&&E.add(Te.QUOTE),O.closest("ul")&&E.add(Te.UNORDERED_LIST),O.closest("ol")&&E.add(Te.ORDERED_LIST);const z=window.getComputedStyle(O).textAlign;z==="center"?E.add(Te.ALIGN_CENTER):z==="right"?E.add(Te.ALIGN_RIGHT):(z==="left"||z==="start")&&E.add(Te.ALIGN_LEFT)}}x(E)},B=E=>{var N;switch(R(),E){case Te.BOLD:document.execCommand("bold",!1);break;case Te.ITALIC:document.execCommand("italic",!1);break;case Te.UNDERLINE:document.execCommand("underline",!1);break;case Te.HEADING:p.has(Te.HEADING)?document.execCommand("formatBlock",!1,"p"):document.execCommand("formatBlock",!1,"h2");break;case Te.QUOTE:p.has(Te.QUOTE)?document.execCommand("formatBlock",!1,"p"):document.execCommand("formatBlock",!1,"blockquote");break;case Te.UNORDERED_LIST:document.execCommand("insertUnorderedList",!1);break;case Te.ORDERED_LIST:document.execCommand("insertOrderedList",!1);break;case Te.ALIGN_LEFT:document.execCommand("justifyLeft",!1);break;case Te.ALIGN_CENTER:document.execCommand("justifyCenter",!1);break;case Te.ALIGN_RIGHT:document.execCommand("justifyRight",!1);break}U(),o.current&&(T.current.addState(o.current.innerHTML),o.current&&c1({current:o.current}),o.current&&e(u1({current:o.current}))),(N=o.current)==null||N.focus()},L=()=>{if(o.current){const E=o.current.innerHTML;T.current.addState(E),c1({current:o.current}),u6({current:o.current}),m(E===""||E==="<br>"),e(u1({current:o.current}))}},X=()=>{m(!1)},se=()=>{if(o.current){const E=o.current.innerHTML;m(E===""||E==="<br>")}},ae=E=>{E.preventDefault();let N="";E.clipboardData.types.includes("text/html")?(N=E.clipboardData.getData("text/html"),N=a6(N),document.execCommand("insertHTML",!1,N)):(N=E.clipboardData.getData("text/plain"),document.execCommand("insertText",!1,N)),o.current&&T.current.addState(o.current.innerHTML)},M=E=>{o6(E,{current:o.current},T.current,S)};return c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 bg-parchment-100 dark:bg-dark-800 rounded-t-md border border-parchment-300 dark:border-dark-600",children:[c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.BOLD)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.BOLD),title:"Bold (Ctrl+B)",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),c.jsx("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"})]})}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.ITALIC)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.ITALIC),title:"Italic (Ctrl+I)",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),c.jsx("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),c.jsx("line",{x1:"15",y1:"4",x2:"9",y2:"20"})]})}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.UNDERLINE)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.UNDERLINE),title:"Underline (Ctrl+U)",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("path",{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"}),c.jsx("line",{x1:"4",y1:"21",x2:"20",y2:"21"})]})}),c.jsx("div",{className:"h-6 w-px mx-1.5 bg-parchment-300 dark:bg-dark-600"}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.HEADING)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.HEADING),title:"Heading",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("path",{d:"M6 12h12"}),c.jsx("path",{d:"M6 5h12"}),c.jsx("path",{d:"M6 19h12"})]})}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.QUOTE)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.QUOTE),title:"Quote",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:c.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.UNORDERED_LIST)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.UNORDERED_LIST),title:"Bullet List",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),c.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),c.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),c.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),c.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),c.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.ORDERED_LIST)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.ORDERED_LIST),title:"Numbered List",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("line",{x1:"10",y1:"6",x2:"21",y2:"6"}),c.jsx("line",{x1:"10",y1:"12",x2:"21",y2:"12"}),c.jsx("line",{x1:"10",y1:"18",x2:"21",y2:"18"}),c.jsx("path",{d:"M4 6h1v4"}),c.jsx("path",{d:"M4 10h2"}),c.jsx("path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"})]})}),c.jsx("div",{className:"h-6 w-px mx-1.5 bg-parchment-300 dark:bg-dark-600"}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.ALIGN_LEFT)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.ALIGN_LEFT),title:"Align Left",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("line",{x1:"17",y1:"10",x2:"3",y2:"10"}),c.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),c.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),c.jsx("line",{x1:"17",y1:"18",x2:"3",y2:"18"})]})}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.ALIGN_CENTER)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.ALIGN_CENTER),title:"Align Center",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("line",{x1:"18",y1:"10",x2:"6",y2:"10"}),c.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),c.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),c.jsx("line",{x1:"18",y1:"18",x2:"6",y2:"18"})]})}),c.jsx("button",{type:"button",className:`p-1.5 rounded ${p.has(Te.ALIGN_RIGHT)?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-ink-700 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,onClick:()=>B(Te.ALIGN_RIGHT),title:"Align Right",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[c.jsx("line",{x1:"21",y1:"10",x2:"7",y2:"10"}),c.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),c.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),c.jsx("line",{x1:"21",y1:"18",x2:"7",y2:"18"})]})})]}),c.jsx("div",{ref:o,className:`min-h-[300px] p-4 border border-parchment-300 dark:border-dark-600 rounded-md bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 overflow-auto prose prose-sm max-w-none prose-p:my-1 prose-headings:mt-4 prose-headings:mb-2 ${s}`,contentEditable:!0,onInput:L,onFocus:X,onBlur:se,onMouseUp:S,onKeyUp:S,onKeyDown:M,onPaste:ae,suppressContentEditableWarning:!0}),f&&c.jsx("div",{className:"absolute top-[48px] left-0 p-4 text-ink-400 dark:text-ink-500 pointer-events-none",children:n}),c.jsxs("div",{className:"mt-2 text-xs text-ink-500 dark:text-ink-400 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("span",{children:["Tip: Use"," ",c.jsx("kbd",{className:"px-1 py-0.5 bg-parchment-100 dark:bg-dark-700 rounded text-[10px] font-mono",children:"Ctrl+B"})," ","for bold,"," ",c.jsx("kbd",{className:"px-1 py-0.5 bg-parchment-100 dark:bg-dark-700 rounded text-[10px] font-mono",children:"Ctrl+I"})," ","for italic,"," ",c.jsx("kbd",{className:"px-1 py-0.5 bg-parchment-100 dark:bg-dark-700 rounded text-[10px] font-mono",children:"Ctrl+Z"})," ","to undo."]})]}),c.jsx("style",{children:`
        [contenteditable] {
          -webkit-user-modify: read-write;
          overflow-wrap: break-word;
          -webkit-line-break: after-white-space;
          line-break: auto;
        }
        
        [contenteditable] h1, 
        [contenteditable] h2, 
        [contenteditable] h3 {
          margin-top: 1em;
          margin-bottom: 0.5em;
          font-weight: 600;
        }
        
        [contenteditable] h2 {
          font-size: 1.5em;
        }
        
        [contenteditable] blockquote {
          border-left: 3px solid #9CA3AF;
          padding-left: 1em;
          margin-left: 0;
          color: #6B7280;
        }
        
        [contenteditable] ul {
          list-style-type: disc;
          padding-left: 1.5em;
        }
        
        [contenteditable] ol {
          list-style-type: decimal;
          padding-left: 1.5em;
        }

        [contenteditable] a {
          color: #3B82F6;
          text-decoration: underline;
        }
        `})]})},h6=({onSave:t,initialContent:e=""})=>{const n=Td(),[s,o]=D.useState({title:"",content:e,hasChoicePoint:!1,choiceOptions:["",""]}),[a,u]=D.useState(!1),f=I=>{const{name:R,value:U}=I.target;o({...s,[R]:U})},m=I=>{o({...s,content:I})},p=()=>{o({...s,hasChoicePoint:!s.hasChoicePoint})},x=(I,R)=>{const U=[...s.choiceOptions];U[I]=R,o({...s,choiceOptions:U})},w=()=>{s.choiceOptions.length<4&&o({...s,choiceOptions:[...s.choiceOptions,""]})},_=I=>{if(s.choiceOptions.length>2){const R=s.choiceOptions.filter((U,B)=>B!==I);o({...s,choiceOptions:R})}},T=()=>{s.title.trim()&&s.content.trim()&&t(s)},S=()=>{localStorage.setItem("draftChapter",JSON.stringify(s)),n("/creator/new-story?withChapter=true")};return c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700 p-6",children:[c.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-ink-900 dark:text-white mb-2",children:"Write Your Chapter"}),c.jsx("p",{className:"text-sm text-ink-600 dark:text-ink-300",children:"Start writing your story right away. You can add story details later."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-ink-700 dark:text-ink-200 mb-1",children:["Chapter Title ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:f,className:"w-full px-4 py-2 rounded-md border border-parchment-300 dark:border-dark-600 bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter a title for this chapter"})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-ink-700 dark:text-ink-200 mb-1",children:["Chapter Content ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(d6,{value:s.content,onChange:m,placeholder:"Write your chapter content here..."})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"checkbox",id:"hasChoicePoint",checked:s.hasChoicePoint,onChange:p,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-parchment-300 rounded"}),c.jsx("label",{htmlFor:"hasChoicePoint",className:"text-sm font-medium text-ink-700 dark:text-ink-200",children:"Add a choice point at the end of this chapter"})]}),s.hasChoicePoint&&c.jsxs("div",{className:"bg-parchment-50 dark:bg-dark-800 p-4 rounded-md space-y-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-ink-800 dark:text-ink-100",children:"Choice Options (Readers will vote on these)"}),s.choiceOptions.map((I,R)=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:I,onChange:U=>x(R,U.target.value),className:"flex-1 px-3 py-2 rounded-md border border-parchment-300 dark:border-dark-600 bg-white dark:bg-dark-800 text-ink-900 dark:text-white text-sm",placeholder:`Option ${R+1}`}),s.choiceOptions.length>2&&c.jsx("button",{type:"button",onClick:()=>_(R),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},R)),s.choiceOptions.length<4&&c.jsxs("button",{type:"button",onClick:w,className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Another Option"]})]})]}),c.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3",children:[c.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-white dark:bg-dark-800 border border-parchment-300 dark:border-dark-600 text-ink-700 dark:text-ink-200 font-medium rounded-md hover:bg-parchment-50 dark:hover:bg-dark-700",children:"Save as Draft"}),c.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-md",children:"Continue to Story Setup"})]})]}),a&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl p-6 max-w-md w-full",children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-2",children:"Your chapter looks great!"}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 mb-4",children:"Now, let's create a story for this chapter with details like genre, cover image, and description."}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-parchment-300 dark:border-dark-600 text-ink-700 dark:text-ink-200 font-medium rounded-md",children:"Not Now"}),c.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-md",children:"Create Story"})]})]})})]})},f6=()=>{var w,_;const t=Td(),e=Sr(),n=((w=e.state)==null?void 0:w.storyData)||null,s=((_=e.state)==null?void 0:_.newStory)||!1,[o,a]=D.useState(!1),[u,f]=D.useState({title:"",content:"",hasChoicePoint:!1,choiceOptions:["",""]});D.useEffect(()=>{document.title=s?`Write First Chapter | ${(n==null?void 0:n.title)||"PlotMint"}`:"Write New Chapter | PlotMint",s&&!n&&t("/creator/new-story")},[s,n,t]);const m=()=>{if(!u.title.trim()){alert("Please add a title for your chapter");return}a(!0),console.log("Saving chapter as draft:",u),console.log("For story:",n),setTimeout(()=>{a(!1),t("/creator")},1e3)},p=()=>{if(!u.title.trim()){alert("Please add a title for your chapter");return}if(!u.content.trim()){alert("Please add content to your chapter");return}if(u.hasChoicePoint&&u.choiceOptions.some(T=>!T.trim())){alert("Please fill in all choice options or remove empty ones");return}a(!0),console.log("Publishing chapter:",u),console.log("For story:",n),setTimeout(()=>{a(!1),t("/creator")},1e3)},x=T=>{f(T)};return c.jsx("div",{className:"bg-parchment-50 dark:bg-dark-950 min-h-screen pt-24 pb-16",children:c.jsx("div",{className:"content-wrapper",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-ink-900 dark:text-white",children:s?"Write Your First Chapter":"Write New Chapter"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{type:"button",onClick:m,disabled:o,className:"px-3 py-1.5 text-sm bg-white dark:bg-dark-800 border border-parchment-300 dark:border-dark-600 text-ink-700 dark:text-ink-200 font-medium rounded-md hover:bg-parchment-50 dark:hover:bg-dark-700 disabled:opacity-50",children:"Save as Draft"}),c.jsx("button",{type:"button",onClick:p,disabled:o,className:"px-3 py-1.5 text-sm bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-md disabled:opacity-50",children:o?"Saving...":"Publish Chapter"})]})]}),s&&n&&c.jsxs("div",{className:"flex items-center space-x-2 text-ink-600 dark:text-ink-300",children:[c.jsx("span",{className:"text-sm",children:"For story:"}),c.jsx("span",{className:"text-sm font-medium",children:n.title}),c.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300",children:n.genre})]})]}),c.jsx(h6,{onSave:x,initialContent:""}),c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-8 bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700 p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-3",children:"Writing Tips"}),c.jsxs("ul",{className:"space-y-2 text-sm text-ink-700 dark:text-ink-300",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary-600 mr-2",children:""}),c.jsx("span",{children:"Use the rich text editor to format your story with headings, emphasis, and more."})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary-600 mr-2",children:""}),c.jsx("span",{children:"Create choice points to let readers vote on where the story goes next."})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary-600 mr-2",children:""}),c.jsx("span",{children:"Each choice option should present an interesting direction for the story."})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-primary-600 mr-2",children:""}),c.jsx("span",{children:"You can save your chapter as a draft and come back to it later."})]})]})]})]})})})},d1={user1:{id:"user1",username:"storyteller42",displayName:"Alex Morgan",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&q=80",bio:"Fiction writer specializing in sci-fi and fantasy. Building worlds one chapter at a time.",joined:"2023-05-15T10:30:00Z",isCreator:!0,followers:127,following:43,stories:[{id:"story1",title:"The Quantum Nexus",coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=400&h=300&q=80",chaptersCount:7,collectorsCount:218,lastUpdated:"2023-10-22T10:15:00Z"},{id:"story2",title:"Whispers in the Void",coverImage:"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=400&h=300&q=80",chaptersCount:5,collectorsCount:103,lastUpdated:"2023-09-15T14:32:00Z"}],collection:[{id:"coll1",storyId:"story3",storyTitle:"Beyond the Stars",chapterTitle:"First Contact",coverImage:"https://images.unsplash.com/photo-1465101162946-4377e57745c3?w=400&h=300&q=80",collectedAt:"2023-10-18T08:45:00Z"},{id:"coll2",storyId:"story4",storyTitle:"Ethereal Memories",chapterTitle:"The Awakening",coverImage:"https://images.unsplash.com/photo-1534447677768-be436bb09401?w=400&h=300&q=80",collectedAt:"2023-10-05T14:20:00Z"}],activity:[{id:"act1",type:"publish",storyId:"story1",storyTitle:"The Quantum Nexus",chapterTitle:"Chapter 7: The Revelation",timestamp:"2023-10-22T10:15:00Z"},{id:"act2",type:"collect",storyId:"story3",storyTitle:"Beyond the Stars",chapterTitle:"First Contact",timestamp:"2023-10-18T08:45:00Z"},{id:"act3",type:"vote",storyId:"story5",storyTitle:"Chronicles of Eldoria",chapterTitle:"Chapter 3: The Decision",optionChosen:"Venture into the forbidden forest",timestamp:"2023-10-12T16:30:00Z"}]},user2:{id:"user2",username:"readerlover",displayName:"Jamie Wilson",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&q=80",bio:"Avid reader and collector of digital narratives. I love stories that challenge conventional thinking.",joined:"2023-04-10T08:15:00Z",isCreator:!1,followers:38,following:102,collection:[{id:"coll3",storyId:"story1",storyTitle:"The Quantum Nexus",chapterTitle:"Chapter 5: The Choice",coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=400&h=300&q=80",collectedAt:"2023-10-20T11:30:00Z"},{id:"coll4",storyId:"story2",storyTitle:"Whispers in the Void",chapterTitle:"Chapter 3: Echoes",coverImage:"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=400&h=300&q=80",collectedAt:"2023-10-10T09:15:00Z"},{id:"coll5",storyId:"story6",storyTitle:"The Last Guardian",chapterTitle:"Chapter 1: Awakening",coverImage:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=400&h=300&q=80",collectedAt:"2023-09-28T15:40:00Z"}],activity:[{id:"act4",type:"collect",storyId:"story1",storyTitle:"The Quantum Nexus",chapterTitle:"Chapter 5: The Choice",timestamp:"2023-10-20T11:30:00Z"},{id:"act5",type:"vote",storyId:"story1",storyTitle:"The Quantum Nexus",chapterTitle:"Chapter 6: Crossroads",optionChosen:"Follow the quantum signature",timestamp:"2023-10-15T13:20:00Z"},{id:"act6",type:"collect",storyId:"story2",storyTitle:"Whispers in the Void",chapterTitle:"Chapter 3: Echoes",timestamp:"2023-10-10T09:15:00Z"}]}},m6=()=>{var m,p,x;const{userId:t}=b1(),[e,n]=D.useState("collection"),[s,o]=D.useState(d1[t||"user1"]);D.useEffect(()=>{o(d1[t||"user1"]),document.title=`${(s==null?void 0:s.displayName)||"User"} | PlotMint`},[t,s==null?void 0:s.displayName]);const a=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=w=>{const _=new Date(w),S=Math.floor((new Date().getTime()-_.getTime())/1e3);if(S<60)return"just now";if(S<3600){const I=Math.floor(S/60);return`${I} minute${I>1?"s":""} ago`}else if(S<86400){const I=Math.floor(S/3600);return`${I} hour${I>1?"s":""} ago`}else if(S<2592e3){const I=Math.floor(S/86400);return`${I} day${I>1?"s":""} ago`}else if(S<31536e3){const I=Math.floor(S/2592e3);return`${I} month${I>1?"s":""} ago`}else{const I=Math.floor(S/31536e3);return`${I} year${I>1?"s":""} ago`}},f=w=>{switch(w){case"publish":return c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-full text-green-600 dark:text-green-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})});case"collect":return c.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-full text-purple-600 dark:text-purple-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})})});case"vote":return c.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600 dark:text-blue-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})})});default:return null}};return s?c.jsx("div",{className:"min-h-screen bg-parchment-50 dark:bg-dark-950 pt-24 pb-16",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700 overflow-hidden mb-8",children:[c.jsx("div",{className:"h-48 bg-gradient-to-r from-primary-500 to-secondary-500 relative",children:c.jsx("div",{className:"absolute -bottom-16 left-6 sm:left-8",children:c.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-white dark:border-dark-900 overflow-hidden shadow-md",children:c.jsx("img",{src:s.avatar,alt:s.displayName,className:"w-full h-full object-cover"})})})}),c.jsxs("div",{className:"pt-20 px-6 sm:px-8 pb-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-end mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-ink-900 dark:text-white mb-1",children:s.displayName}),c.jsxs("p",{className:"text-ink-500 dark:text-ink-400 mb-2",children:["@",s.username]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[c.jsxs("span",{className:"text-ink-600 dark:text-ink-300",children:[c.jsx("span",{className:"font-medium text-ink-900 dark:text-white",children:s.followers})," Followers"]}),c.jsxs("span",{className:"text-ink-600 dark:text-ink-300",children:[c.jsx("span",{className:"font-medium text-ink-900 dark:text-white",children:s.following})," Following"]}),c.jsxs("span",{className:"text-ink-600 dark:text-ink-300",children:["Joined ",a(s.joined)]})]})]}),c.jsx("div",{className:"mt-4 sm:mt-0",children:c.jsx(ze,{variant:"primary",size:"sm",children:"Follow"})})]}),s.bio&&c.jsx("p",{className:"text-ink-700 dark:text-ink-200 mb-6 max-w-3xl",children:s.bio}),c.jsx("div",{className:"border-b border-parchment-200 dark:border-dark-700",children:c.jsxs("nav",{className:"flex -mb-px space-x-8",children:[c.jsx("button",{onClick:()=>n("collection"),className:`py-4 text-sm font-medium border-b-2 ${e==="collection"?"border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400":"border-transparent text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200"}`,children:"Collection"}),s.isCreator&&c.jsx("button",{onClick:()=>n("stories"),className:`py-4 text-sm font-medium border-b-2 ${e==="stories"?"border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400":"border-transparent text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200"}`,children:"Stories"}),c.jsx("button",{onClick:()=>n("activity"),className:`py-4 text-sm font-medium border-b-2 ${e==="activity"?"border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400":"border-transparent text-ink-500 hover:text-ink-700 dark:text-ink-400 dark:hover:text-ink-200"}`,children:"Activity"})]})})]})]}),c.jsxs(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[e==="collection"&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(m=s.collection)==null?void 0:m.map(w=>c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm border border-parchment-200 dark:border-dark-700 hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"h-48 overflow-hidden",children:c.jsx("img",{src:w.coverImage,alt:w.storyTitle,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-1",children:w.storyTitle}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 text-sm mb-3",children:w.chapterTitle}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs text-ink-500 dark:text-ink-400",children:["Collected ",u(w.collectedAt)]}),c.jsx(ze,{variant:"outline",size:"sm",children:"View"})]})]})]},w.id))}),e==="stories"&&s.isCreator&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(p=s.stories)==null?void 0:p.map(w=>c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm border border-parchment-200 dark:border-dark-700 flex flex-col sm:flex-row",children:[c.jsx("div",{className:"sm:w-2/5",children:c.jsx("img",{src:w.coverImage,alt:w.title,className:"w-full h-48 sm:h-full object-cover"})}),c.jsxs("div",{className:"p-4 sm:p-6 flex-1",children:[c.jsx("h3",{className:"text-xl font-bold text-ink-900 dark:text-white mb-2",children:w.title}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-ink-500 dark:text-ink-400 mb-1",children:"Chapters"}),c.jsx("p",{className:"font-medium text-ink-900 dark:text-white",children:w.chaptersCount})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-ink-500 dark:text-ink-400 mb-1",children:"Collectors"}),c.jsx("p",{className:"font-medium text-ink-900 dark:text-white",children:w.collectorsCount})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs text-ink-500 dark:text-ink-400",children:["Updated ",u(w.lastUpdated)]}),c.jsx(ze,{variant:"primary",size:"sm",children:"Read"})]})]})]},w.id))}),e==="activity"&&c.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700 overflow-hidden",children:c.jsx("div",{className:"divide-y divide-parchment-200 dark:divide-dark-700",children:(x=s.activity)==null?void 0:x.map(w=>c.jsxs("div",{className:"p-4 sm:p-6 flex items-start space-x-4",children:[f(w.type),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-1",children:[c.jsxs("h4",{className:"font-medium text-ink-900 dark:text-white",children:[w.type==="publish"&&"Published a new chapter",w.type==="collect"&&"Collected a chapter",w.type==="vote"&&"Voted on a story branch"]}),c.jsx("span",{className:"text-xs text-ink-500 dark:text-ink-400 sm:ml-4",children:u(w.timestamp)})]}),c.jsxs("p",{className:"text-ink-700 dark:text-ink-200 text-sm",children:[c.jsx("span",{className:"font-medium",children:w.storyTitle})," - ",w.chapterTitle]}),w.type==="vote"&&w.optionChosen&&c.jsxs("p",{className:"mt-1 text-sm text-ink-600 dark:text-ink-300 bg-parchment-50 dark:bg-dark-800 px-3 py-2 rounded-md mt-2",children:['Voted for: "',w.optionChosen,'"']})]})]},w.id))})})]},e)]})}):c.jsx("div",{className:"min-h-screen bg-parchment-50 dark:bg-dark-950 pt-24 pb-16",children:c.jsx("div",{className:"content-wrapper",children:c.jsxs("div",{className:"text-center py-20",children:[c.jsx("h1",{className:"text-2xl font-bold text-ink-900 dark:text-white mb-4",children:"User Not Found"}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300 mb-6",children:"The user profile you're looking for doesn't exist or has been removed."}),c.jsx(ze,{variant:"primary",size:"md",children:"Back to Home"})]})})})},p6=[{id:"fantasy",name:"Fantasy",count:126},{id:"sci-fi",name:"Sci-Fi",count:98},{id:"mystery",name:"Mystery",count:76},{id:"romance",name:"Romance",count:64},{id:"horror",name:"Horror",count:42},{id:"adventure",name:"Adventure",count:53},{id:"historical",name:"Historical",count:38},{id:"crime",name:"Crime",count:31}],h1=[{id:"story1",title:"The Quantum Nexus",author:"Elena Voss",authorId:"user1",coverImage:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&q=80",tags:["sci-fi","time-travel","quantum"],collectCount:342,readCount:1254,publishedAt:"2023-10-22T10:15:00Z",summary:"When Dr. Eliza Morgan discovers a portal to parallel universes, she must navigate multiple realities to save her own world from collapse."},{id:"story2",title:"Shadows of Eldoria",author:"Marcus Chen",authorId:"user3",coverImage:"https://images.unsplash.com/photo-1518709766631-a6a7f45921c3?w=800&h=600&q=80",tags:["fantasy","adventure","magic"],collectCount:287,readCount:986,publishedAt:"2023-10-18T14:30:00Z",summary:"In a realm where magic is fading, a reluctant hero must embrace his hidden powers to prevent an ancient darkness from consuming everything."},{id:"story3",title:"Whispers in the Void",author:"Sarah Jenkins",authorId:"user4",coverImage:"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=800&h=600&q=80",tags:["horror","cosmic","psychological"],collectCount:198,readCount:753,publishedAt:"2023-10-15T09:45:00Z",summary:"Strange transmissions from deep space lead a team of researchers to confront terrors beyond human comprehension."},{id:"story4",title:"Heart of the Storm",author:"Darius Williams",authorId:"user5",coverImage:"https://images.unsplash.com/photo-1516472151647-6900f65d8975?w=800&h=600&q=80",tags:["romance","drama","adventure"],collectCount:276,readCount:1102,publishedAt:"2023-10-12T11:20:00Z",summary:"Two rivals find themselves stranded together during a tropical storm, forcing them to confront their feelings and shared past."},{id:"story5",title:"Neon Streets",author:"Koji Yamamoto",authorId:"user6",coverImage:"https://images.unsplash.com/photo-1520995051695-8dce7195e159?w=800&h=600&q=80",tags:["cyberpunk","sci-fi","noir"],collectCount:231,readCount:842,publishedAt:"2023-10-08T16:50:00Z",summary:"A rogue AI detective hunts for a digital ghost in the sprawling megacity of New Tokyo, where reality and virtual worlds blur."},{id:"story6",title:"Chronicles of the Forgotten",author:"Amara Khan",authorId:"user7",coverImage:"https://images.unsplash.com/photo-1512113899577-93b3dca7fa30?w=800&h=600&q=80",tags:["historical","fantasy","war"],collectCount:178,readCount:635,publishedAt:"2023-10-05T13:40:00Z",summary:"Lost civilizations and ancient powers collide as historians uncover artifacts that rewrite the known history of humankind."}],g6=[{id:"adventure",name:"Adventure",count:238},{id:"sci-fi",name:"Sci-Fi",count:215},{id:"fantasy",name:"Fantasy",count:197},{id:"mystery",name:"Mystery",count:183},{id:"romance",name:"Romance",count:164},{id:"dystopian",name:"Dystopian",count:142},{id:"thriller",name:"Thriller",count:136},{id:"horror",name:"Horror",count:118},{id:"historical",name:"Historical",count:104},{id:"cyberpunk",name:"Cyberpunk",count:87},{id:"magic",name:"Magic",count:83},{id:"time-travel",name:"Time Travel",count:75},{id:"supernatural",name:"Supernatural",count:68},{id:"drama",name:"Drama",count:62},{id:"space",name:"Space",count:57}],y6=()=>{const[t,e]=D.useState(""),[n,s]=D.useState([]),[o,a]=D.useState([]),[u,f]=D.useState("trending"),[m,p]=D.useState(h1);D.useEffect(()=>{let T=[...h1];if(u==="trending"?T.sort((S,I)=>I.collectCount-S.collectCount):u==="recent"?T.sort((S,I)=>new Date(I.publishedAt).getTime()-new Date(S.publishedAt).getTime()):u==="popular"&&T.sort((S,I)=>I.readCount-S.readCount),n.length>0&&(T=T.filter(S=>S.tags.some(I=>n.includes(I)))),o.length>0&&(T=T.filter(S=>S.tags.some(I=>o.includes(I)))),t.trim()!==""){const S=t.toLowerCase().trim();T=T.filter(I=>I.title.toLowerCase().includes(S)||I.author.toLowerCase().includes(S)||I.summary.toLowerCase().includes(S)||I.tags.some(R=>R.toLowerCase().includes(S)))}p(T)},[u,t,n,o]);const x=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),w=T=>{n.includes(T)?s(n.filter(S=>S!==T)):s([...n,T])},_=T=>{o.includes(T)?a(o.filter(S=>S!==T)):a([...o,T])};return c.jsx("div",{className:"min-h-screen bg-parchment-50 dark:bg-dark-950 pt-24 pb-16",children:c.jsxs("div",{className:"content-wrapper",children:[c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-ink-900 dark:text-white mb-2",children:"Discover Stories"}),c.jsx("p",{className:"text-ink-600 dark:text-ink-300",children:"Find your next favorite story with our advanced discovery features."})]}),c.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700 p-5 mb-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search stories, authors, or tags...",value:t,onChange:T=>e(T.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-parchment-300 dark:border-dark-600 bg-white dark:bg-dark-800 text-ink-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),c.jsx("div",{className:"absolute left-3 top-3.5 text-ink-400 dark:text-ink-500",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),t&&c.jsx("button",{onClick:()=>e(""),className:"absolute right-3 top-3.5 text-ink-400 dark:text-ink-500 hover:text-ink-700 dark:hover:text-ink-300",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[c.jsx("button",{onClick:()=>f("trending"),className:`px-4 py-2 rounded-full text-sm font-medium ${u==="trending"?"bg-primary-600 text-white dark:bg-primary-500":"bg-parchment-100 text-ink-700 dark:bg-dark-800 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,children:"Trending"}),c.jsx("button",{onClick:()=>f("recent"),className:`px-4 py-2 rounded-full text-sm font-medium ${u==="recent"?"bg-primary-600 text-white dark:bg-primary-500":"bg-parchment-100 text-ink-700 dark:bg-dark-800 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,children:"Recent"}),c.jsx("button",{onClick:()=>f("popular"),className:`px-4 py-2 rounded-full text-sm font-medium ${u==="popular"?"bg-primary-600 text-white dark:bg-primary-500":"bg-parchment-100 text-ink-700 dark:bg-dark-800 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,children:"Most Read"}),c.jsx("button",{onClick:()=>f("recommended"),className:`px-4 py-2 rounded-full text-sm font-medium ${u==="recommended"?"bg-primary-600 text-white dark:bg-primary-500":"bg-parchment-100 text-ink-700 dark:bg-dark-800 dark:text-ink-300 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,children:"Recommended"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-sm font-medium text-ink-900 dark:text-white mb-3",children:"Categories"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:p6.map(T=>c.jsxs("button",{onClick:()=>w(T.id),className:`px-3 py-1.5 rounded-full text-xs font-medium flex items-center ${n.includes(T.id)?"bg-primary-100 text-primary-800 dark:bg-primary-900/30 dark:text-primary-300 border border-primary-300 dark:border-primary-700":"bg-parchment-100 text-ink-700 dark:bg-dark-800 dark:text-ink-300 border border-parchment-200 dark:border-dark-700 hover:bg-parchment-200 dark:hover:bg-dark-700"}`,children:[T.name,c.jsx("span",{className:"ml-1.5 text-xs text-ink-500 dark:text-ink-400",children:T.count})]},T.id))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-ink-900 dark:text-white mb-3",children:"Popular Tags"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:g6.slice(0,12).map(T=>c.jsxs("button",{onClick:()=>_(T.id),className:`px-3 py-1 rounded-full text-xs ${o.includes(T.id)?"bg-secondary-100 text-secondary-800 dark:bg-secondary-900/30 dark:text-secondary-300 border border-secondary-300 dark:border-secondary-700":"bg-parchment-50 text-ink-600 dark:bg-dark-800 dark:text-ink-300 border border-parchment-200 dark:border-dark-700 hover:bg-parchment-100 dark:hover:bg-dark-700"}`,children:["#",T.name]},T.id))})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-ink-900 dark:text-white",children:[m.length," ",m.length===1?"Story":"Stories"," ","Found"]}),(n.length>0||o.length>0||t)&&c.jsxs("button",{onClick:()=>{s([]),a([]),e("")},className:"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center",children:["Clear Filters",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]})]}),m.length===0?c.jsxs("div",{className:"text-center py-16 bg-white dark:bg-dark-900 rounded-xl shadow-sm border border-parchment-200 dark:border-dark-700",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-ink-300 dark:text-ink-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{className:"text-lg font-medium text-ink-900 dark:text-white mb-2",children:"No stories found"}),c.jsx("p",{className:"text-ink-600 dark:text-ink-400 max-w-md mx-auto",children:"Try adjusting your search or filter criteria to find what you're looking for."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(T=>c.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm border border-parchment-200 dark:border-dark-700 flex flex-col h-full hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"h-48 overflow-hidden",children:c.jsx("img",{src:T.coverImage,alt:T.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),c.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[c.jsx("div",{className:"mb-2 flex flex-wrap gap-1",children:T.tags.slice(0,3).map(S=>c.jsxs("span",{className:"text-xs px-2 py-0.5 bg-parchment-100 dark:bg-dark-800 text-ink-700 dark:text-ink-300 rounded-full",children:["#",S]},S))}),c.jsx("h3",{className:"text-lg font-bold text-ink-900 dark:text-white mb-1",children:T.title}),c.jsxs(_e,{to:`/profile/${T.authorId}`,className:"text-sm text-primary-600 dark:text-primary-400 hover:underline mb-3",children:["by ",T.author]}),c.jsx("p",{className:"text-sm text-ink-600 dark:text-ink-300 mb-4 line-clamp-3 flex-1",children:T.summary}),c.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs text-ink-500 dark:text-ink-400",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})}),T.collectCount]}),c.jsxs("span",{className:"flex items-center",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),T.readCount]})]}),c.jsx("span",{children:x(T.publishedAt)})]}),c.jsx("div",{className:"mt-4",children:c.jsx(ze,{variant:"primary",size:"sm",fullWidth:!0,children:"Read Story"})})]})]},T.id))})]})]})})},Mo=({children:t})=>{const{currentUser:e}=Bd(),[n,s]=D.useState(!1);return D.useEffect(()=>{e||s(!0)},[e]),e?c.jsx(c.Fragment,{children:t}):c.jsxs(c.Fragment,{children:[t,c.jsx(f_,{isOpen:n,onClose:()=>{s(!1),e||(window.location.href="/")}})]})};function v6(){return c.jsx(zA,{children:c.jsxs(KT,{children:[c.jsx(Q5,{}),c.jsx(bT,{children:c.jsxs(wn,{path:"/",element:c.jsx(A5,{}),children:[c.jsx(wn,{index:!0,element:c.jsx(L5,{})}),c.jsx(wn,{path:"stories",element:c.jsx(B5,{})}),c.jsx(wn,{path:"stories/:storyId",element:c.jsx(H5,{})}),c.jsx(wn,{path:"stories/:storyId/chapters/:chapterId",element:c.jsx(Mo,{children:c.jsx(K5,{})})}),c.jsx(wn,{path:"dashboard",element:c.jsx(Mo,{children:c.jsx(Z5,{})})}),c.jsx(wn,{path:"creator",element:c.jsx(Mo,{children:c.jsx(n6,{})})}),c.jsx(wn,{path:"creator/new-story",element:c.jsx(Mo,{children:c.jsx(s6,{})})}),c.jsx(wn,{path:"creator/new-chapter",element:c.jsx(Mo,{children:c.jsx(f6,{})})}),c.jsx(wn,{path:"profile/:userId",element:c.jsx(Mo,{children:c.jsx(m6,{})})}),c.jsx(wn,{path:"discover",element:c.jsx(y6,{})}),c.jsx(wn,{path:"*",element:c.jsx(G5,{})})]})})]})})}Ib.createRoot(document.getElementById("root")).render(c.jsx(_b.StrictMode,{children:c.jsx(v6,{})}));
